
<div class="sheet-header">
  <div class="sheet-header-items">
    <div class="sheet-character-name">
      <h3 class="sheet-character-title">Character</h3>
      <input class="sheet-pc-name" type="text" name="attr_character_name" placeholder="Character Name"/>
    </div>
    <div class="sheet-character-role">
      <h3 class="sheet-character-title">Role / Title</h3>
      <input class="sheet-pc-name" type="text" name="attr_character_role" placeholder="Character Role/Title"/>
    </div>
  </div>
  <div class="sheet-resources">
    <div class="sheet-resource">
      <label class="sheet-health-reset">RESET
        <input class="sheet-health-reset sheet-hide" type="checkbox" name="attr_health_reset"/>
      </label>
      <h2 class="sheet-resource-title">HEALTH</h2>
      <div class="sheet-health-status-box">
        <input class="sheet-resource-value" type="text" name="attr_health" value="20"/>
        <div class="sheet-health-max-box">
          <h3 class="sheet-health-max">/</h3>
          <h3 class="sheet-health-max-value"><span class="sheet-health-max-value" name="attr_max_health"></span>
            <input class="sheet-hide" type="text" name="attr_max_health" value="20"/>
          </h3>
        </div>
      </div>
    </div>
    <div class="sheet-resource">
      <h2 class="sheet-resource-title">SPIRIT</h2>
      <select class="sheet-resource-value" name="attr_spirit">
        <option value="10">+10</option>
        <option value="9">+9</option>
        <option value="8">+8</option>
        <option value="7">+7</option>
        <option value="6">+6</option>
        <option value="5">+5</option>
        <option value="4">+4</option>
        <option value="3">+3</option>
        <option value="2">+2</option>
        <option value="1">+1</option>
        <option value="0">+0</option>
      </select>
    </div>
    <div class="sheet-resource">
      <h2 class="sheet-resource-title">SUPPLY</h2>
      <select class="sheet-resource-value" name="attr_supply">
        <option value="10">+10</option>
        <option value="9">+9</option>
        <option value="8">+8</option>
        <option value="7">+7</option>
        <option value="6">+6</option>
        <option value="5">+5</option>
        <option value="4">+4</option>
        <option value="3">+3</option>
        <option value="2">+2</option>
        <option value="1">+1</option>
        <option value="0">+0</option>
      </select>
    </div>
    <div class="sheet-resource">
      <h2 class="sheet-resource-title">WEALTH</h2>
      <select class="sheet-resource-value" name="attr_wealth">
        <option value="10">+10</option>
        <option value="9">+9</option>
        <option value="8">+8</option>
        <option value="7">+7</option>
        <option value="6">+6</option>
        <option value="5">+5</option>
        <option value="4">+4</option>
        <option value="3">+3</option>
        <option value="2">+2</option>
        <option value="1">+1</option>
        <option value="0">+0</option>
      </select>
    </div>
    <div class="sheet-resource">
      <h2 class="sheet-resource-title">LOAD</h2>
      <select class="sheet-resource-value" name="attr_load">
        <option value="12">12</option>
        <option value="11">11</option>
        <option value="10">10</option>
        <option value="9">9</option>
        <option value="8">8</option>
        <option value="7">7</option>
        <option value="6">6</option>
        <option value="5">5</option>
        <option value="4">4</option>
        <option value="3">3</option>
        <option value="2">2</option>
        <option value="1">1</option>
        <option value="0">0</option>
      </select>
    </div>
    <div class="sheet-resource">
      <h2 class="sheet-resource-title">EXPERIENCE</h2>
      <div class="sheet-health-status-box">
        <input class="sheet-resource-value" type="text" name="attr_xp" value="0"/>
      </div>
      <h2 class="sheet-resource-title">SPENT</h2>
      <div class="sheet-health-status-box">
        <input class="sheet-resource-value" type="text" name="attr_total_xp" value="0"/>
      </div>
    </div>
  </div>
</div>
<div class="sheet-nav-bar">
  <div class="sheet-nav-child">
    <label for="sheet-summary">Summary</label>
  </div>
  <div class="sheet-nav-child">
    <label for="sheet-vows">Vows</label>
  </div>
  <div class="sheet-nav-child">
    <label for="sheet-bonds">Bonds</label>
  </div>
  <div class="sheet-nav-child">
    <label for="sheet-proficiencies">Proficiencies</label>
  </div>
</div>
<input class="sheet-hide sheet-summary" type="radio" name="attr_ironcrunch-page" id="sheet-summary" value="1" checked="checked"/>
<div class="sheet-summary sheet-hide">
  <div class="sheet-character-details">
    <div class="sheet-details-row">
      <div class="sheet-character-detail">
        <p>Ancestry</p>
        <input type="text" name="attr_ancestry" placeholder="Ancestry"/>
      </div>
      <div class="sheet-character-detail">
        <p>Sex</p>
        <input type="text" name="attr_sex" placeholder="Sex"/>
      </div>
      <div class="sheet-character-detail">
        <p>Age</p>
        <input type="text" name="attr_age" placeholder="age"/>
      </div>
      <div class="sheet-character-detail">
        <p>Speed</p>
        <input type="text" name="attr_speed" placeholder="Speed"/>
      </div>
      <div class="sheet-character-detail">
        <p>Resilience</p>
        <input type="text" name="attr_resilience" placeholder="Resilience"/>
      </div>
    </div>
    <div class="sheet-details-row">
      <div class="sheet-character-detail">
        <p>Appearance</p>
        <input type="text" name="attr_appearance" placeholder="Appearance"/>
      </div>
      <div class="sheet-character-detail">
        <p>Alignment</p>
        <input type="text" name="attr_alignment" placeholder="Alignment"/>
      </div>
    </div>
  </div>
  <div class="sheet-stats">
    <div class="sheet-stat">
      <button type="roll" title="Roll +Edge" name="rollEdge" value="&amp;{template:ironcrunch_moves} {{header=@{character_name}}} {{name=Roll +edge}} {{action=[[d12+@{edge}+(?{Modifier|0})]]}} {{negate1=[[1+@{edge}+(?{Modifier|0})]]}} {{negate2=[[2+@{edge}+(?{Modifier|0})]]}} {{negate3=[[3+@{edge}+(?{Modifier|0})]]}} {{negate4=[[4+@{edge}+(?{Modifier|0})]]}} {{negate5=[[5+@{edge}+(?{Modifier|0})]]}} {{negate6=[[6+@{edge}+(?{Modifier|0})]]}} {{negate7=[[7+@{edge}+(?{Modifier|0})]]}} {{negate8=[[8+@{edge}+(?{Modifier|0})]]}} {{negate9=[[9+@{edge}+(?{Modifier|0})]]}} {{negate10=[[10+@{edge}+(?{Modifier|0})]]}} {{negate11=[[11+@{edge}+(?{Modifier|0})]]}} {{negate12=[[12+@{edge}+(?{Modifier|0})]]}} {{challenge1=[[d20]]}} {{challenge2=[[d20]]}} {{momentum=[[@{momentum}]]}} {{modifiers=[[@{edge}+(?{Modifier|0})]]}} {{add=[[(?{Modifier|0})]]}} {{stat=[[@{edge}]]}}"></button>
      <h3 class="sheet-stats-title">EDGE</h3>
      <input class="sheet-stats-input" type="text" name="attr_edge" value="1"/>
    </div>
    <div class="sheet-stat">
      <button type="roll" title="Roll +Heart" name="rollHeart" value="&amp;{template:ironcrunch_moves} {{header=@{character_name}}} {{name=Roll +heart}} {{action=[[d12+@{heart}+(?{Modifier|0})]]}} {{negate1=[[1+@{heart}+(?{Modifier|0})]]}} {{negate2=[[2+@{heart}+(?{Modifier|0})]]}} {{negate3=[[3+@{heart}+(?{Modifier|0})]]}} {{negate4=[[4+@{heart}+(?{Modifier|0})]]}} {{negate5=[[5+@{heart}+(?{Modifier|0})]]}} {{negate6=[[6+@{heart}+(?{Modifier|0})]]}} {{negate7=[[7+@{heart}+(?{Modifier|0})]]}} {{negate8=[[8+@{heart}+(?{Modifier|0})]]}} {{negate9=[[9+@{heart}+(?{Modifier|0})]]}} {{negate10=[[10+@{heart}+(?{Modifier|0})]]}} {{negate11=[[11+@{heart}+(?{Modifier|0})]]}} {{negate12=[[12+@{heart}+(?{Modifier|0})]]}} {{challenge1=[[d20]]}} {{challenge2=[[d20]]}} {{momentum=[[@{momentum}]]}} {{modifiers=[[@{heart}+(?{Modifier|0})]]}} {{add=[[(?{Modifier|0})]]}} {{stat=[[@{heart}]]}}"></button>
      <h3 class="sheet-stats-title">HEART</h3>
      <input class="sheet-stats-input" type="text" name="attr_heart" value="1"/>
    </div>
    <div class="sheet-stat">
      <button type="roll" title="Roll +Iron" name="rollIron" value="&amp;{template:ironcrunch_moves} {{header=@{character_name}}} {{name=Roll +iron}} {{action=[[d12+@{iron}+(?{Modifier|0})]]}} {{negate1=[[1+@{iron}+(?{Modifier|0})]]}} {{negate2=[[2+@{iron}+(?{Modifier|0})]]}} {{negate3=[[3+@{iron}+(?{Modifier|0})]]}} {{negate4=[[4+@{iron}+(?{Modifier|0})]]}} {{negate5=[[5+@{iron}+(?{Modifier|0})]]}} {{negate6=[[6+@{iron}+(?{Modifier|0})]]}} {{negate7=[[7+@{iron}+(?{Modifier|0})]]}} {{negate8=[[8+@{iron}+(?{Modifier|0})]]}} {{negate9=[[9+@{iron}+(?{Modifier|0})]]}} {{negate10=[[10+@{iron}+(?{Modifier|0})]]}} {{negate11=[[11+@{iron}+(?{Modifier|0})]]}} {{negate12=[[12+@{iron}+(?{Modifier|0})]]}} {{challenge1=[[d20]]}} {{challenge2=[[d20]]}} {{momentum=[[@{momentum}]]}} {{modifiers=[[@{iron}+(?{Modifier|0})]]}} {{add=[[(?{Modifier|0})]]}} {{stat=[[@{iron}]]}}"></button>
      <h3 class="sheet-stats-title">IRON</h3>
      <input class="sheet-stats-input" type="text" name="attr_iron" value="1"/>
    </div>
    <div class="sheet-stat">
      <button type="roll" title="Roll +Shadow" name="rollShadow" value="&amp;{template:ironcrunch_moves} {{header=@{character_name}}} {{name=Roll +shadow}} {{action=[[d12+@{shadow}+(?{Modifier|0})]]}} {{negate1=[[1+@{shadow}+(?{Modifier|0})]]}} {{negate2=[[2+@{shadow}+(?{Modifier|0})]]}} {{negate3=[[3+@{shadow}+(?{Modifier|0})]]}} {{negate4=[[4+@{shadow}+(?{Modifier|0})]]}} {{negate5=[[5+@{shadow}+(?{Modifier|0})]]}} {{negate6=[[6+@{shadow}+(?{Modifier|0})]]}} {{negate7=[[7+@{shadow}+(?{Modifier|0})]]}} {{negate8=[[8+@{shadow}+(?{Modifier|0})]]}} {{negate9=[[9+@{shadow}+(?{Modifier|0})]]}} {{negate10=[[10+@{shadow}+(?{Modifier|0})]]}} {{negate11=[[11+@{shadow}+(?{Modifier|0})]]}} {{negate12=[[12+@{shadow}+(?{Modifier|0})]]}} {{challenge1=[[d20]]}} {{challenge2=[[d20]]}} {{momentum=[[@{momentum}]]}} {{modifiers=[[@{shadow}+(?{Modifier|0})]]}} {{add=[[(?{Modifier|0})]]}} {{stat=[[@{shadow}]]}}"></button>
      <h3 class="sheet-stats-title">SHADOW</h3>
      <input class="sheet-stats-input" type="text" name="attr_shadow" value="1"/>
    </div>
    <div class="sheet-stat">
      <button type="roll" title="Roll +Wits" name="rollWits" value="&amp;{template:ironcrunch_moves} {{header=@{character_name}}} {{name=Roll +wits}} {{action=[[d12+@{wits}+(?{Modifier|0})]]}} {{negate1=[[1+@{wits}+(?{Modifier|0})]]}} {{negate2=[[2+@{wits}+(?{Modifier|0})]]}} {{negate3=[[3+@{wits}+(?{Modifier|0})]]}} {{negate4=[[4+@{wits}+(?{Modifier|0})]]}} {{negate5=[[5+@{wits}+(?{Modifier|0})]]}} {{negate6=[[6+@{wits}+(?{Modifier|0})]]}} {{negate7=[[7+@{wits}+(?{Modifier|0})]]}} {{negate8=[[8+@{wits}+(?{Modifier|0})]]}} {{negate9=[[9+@{wits}+(?{Modifier|0})]]}} {{negate10=[[10+@{wits}+(?{Modifier|0})]]}} {{negate11=[[11+@{wits}+(?{Modifier|0})]]}} {{negate12=[[12+@{wits}+(?{Modifier|0})]]}} {{challenge1=[[d20]]}} {{challenge2=[[d20]]}} {{momentum=[[@{momentum}]]}} {{modifiers=[[@{wits}+(?{Modifier|0})]]}} {{add=[[(?{Modifier|0})]]}} {{stat=[[@{wits}]]}}"></button>
      <h3 class="sheet-stats-title">WITS</h3>
      <input class="sheet-stats-input" type="text" name="attr_wits" value="1"/>
    </div>
  </div>
  <h3 class="sheet-divide">&emsp;MISSES&emsp;</h3>
  <div class="sheet-misses-track">
    <div>
      <select class="sheet-progress-input" name="attr_misses-0">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_misses-1">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_misses-2">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_misses-3">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_misses-4">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_misses-5">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_misses-6">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_misses-7">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_misses-8">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_misses-9">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <input class="sheet-hide" type="text" name="attr_misses-filled" value="floor((@{misses-0}+@{misses-1}+@{misses-2}+@{misses-3}+@{misses-4}+@{misses-5}+@{misses-6}+@{misses-7}+@{misses-8}+@{misses-9})/4)" disabled="true"/>
    </div>
  </div>
  <div>
    <h3 class="sheet-divide" style="margin-top: 1em;">NOTES</h3><br/>
    <textarea name="attr_sheet-notes"></textarea>
  </div>
</div>
<input class="sheet-hide sheet-bonds" type="radio" name="attr_ironcrunch-page" id="sheet-bonds" value="2"/>
<div class="sheet-bonds sheet-hide">
  <h3 class="sheet-divide">&emsp;BONDS&emsp;</h3>
  <div class="sheet-bonds-track">
    <div>
      <select class="sheet-progress-input" name="attr_bond-0">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_bond-1">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_bond-2">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_bond-3">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_bond-4">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_bond-5">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_bond-6">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_bond-7">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_bond-8">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <select class="sheet-progress-input" name="attr_bond-9">
          <option value="0" selected="selected"></option>
          <option value="1">-</option>
          <option value="2">+</option>
          <option value="3">*</option>
          <option value="4">#</option>
      </select>
      <input class="sheet-hide" type="text" name="attr_bond-filled" value="floor((@{bond-0}+@{bond-1}+@{bond-2}+@{bond-3}+@{bond-4}+@{bond-5}+@{bond-6}+@{bond-7}+@{bond-8}+@{bond-9})/4)" disabled="true"/>
    </div>
  </div>
</div>
<input class="sheet-hide sheet-vows" type="radio" name="attr_ironcrunch-page" id="sheet-vows" value="3"/>
<div class="sheet-vows sheet-hide">
  <h3 class="sheet-divide">&emsp;VOWS&emsp;</h3>
  <div class="sheet-vows">
    <fieldset class="repeating_vow">
      <input class="sheet-vow-name" type="text" name="attr_vow_name"/>
      <div class="sheet-vows-header">
        <input type="radio" name="attr_vow_rank" value="1"/>
        <h5>Troublesome</h5>
        <input type="radio" name="attr_vow_rank" value="2"/>
        <h5>Dangerous</h5>
        <input type="radio" name="attr_vow_rank" value="3"/>
        <h5>Formidable</h5>
        <input type="radio" name="attr_vow_rank" value="4"/>
        <h5>Extreme</h5>
        <input type="radio" name="attr_vow_rank" value="5"/>
        <h5>Epic</h5>
      </div>
      <div class="sheet-vow">
        <div>
          <input class="sheet-clear-vow sheet-hide" type="radio" name="attr_clear_vow" value="0"/>
          <input class="sheet-clear-vow" type="radio" name="attr_clear_vow" value="1"/><span class="sheet-vow-clear-label">Clear</span>
          <select class="sheet-progress-input" name="attr_vow-0">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-1">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-2">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-3">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-4">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-5">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-6">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-7">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-8">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-9">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <select class="sheet-progress-input" name="attr_vow-10">
              <option value="0" selected="selected"></option>
              <option value="1">-</option>
              <option value="2">+</option>
              <option value="3">*</option>
              <option value="4">#</option>
          </select>
          <button type="roll" title="Fulfill your Vow" name="rollVow" value="&amp;{template:ironcrunch_progress} {{header=@{character_name} &lt;em&gt;Fulfill Your Vow&lt;/em&gt; }} {{vowname=@{vow_name}}} {{vow=[[@{vow-filled}]]}} {{challenge1=[[d10]]}} {{challenge2=[[d10]]}}">              </button>
          <input class="sheet-hide" type="text" name="attr_vow-filled" value="floor((@{vow-0}+@{vow-1}+@{vow-2}+@{vow-3}+@{vow-4}+@{vow-5}+@{vow-6}+@{vow-7}+@{vow-8}+@{vow-9})/4)" disabled="disabled"/>
        </div>
      </div>
    </fieldset>
  </div>
</div>
<input class="sheet-hide sheet-proficiencies" type="radio" name="attr_ironcrunch-page" id="sheet-proficiencies" value="4"/>
<div class="sheet-proficiencies sheet-hide">
  <h3 class="sheet-divide">&emsp;PROFICIENCIES&emsp;</h3>
  <div class="sheet-proficiencies-weapons">
    <div class="sheet-proficiency">
      <h3 class="sheet-proficiency-title">axes
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_axes_proficiency_0"/><span class="sheet-proficiency-text">when you <em>strike</em>, <em>clash</em>, or <em>battle</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_axes_proficiency_1"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_axes_proficiency_2"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, you may reroll.</span>
        </div>
      </h3>
    </div>
    <div class="sheet-proficiency">
      <h3 class="sheet-proficiency-title">polearms
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_polearms_proficiency_0"/><span class="sheet-proficiency-text">when you <em>strike</em>, <em>clash</em>, or <em>battle</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_polearms_proficiency_1"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_polearms_proficiency_2"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, you may reroll.</span>
        </div>
      </h3>
    </div>
    <div class="sheet-proficiency">
      <h3 class="sheet-proficiency-title">swords
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_swords_proficiency_0"/><span class="sheet-proficiency-text">when you <em>strike</em>, <em>clash</em>, or <em>battle</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_swords_proficiency_1"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_swords_proficiency_2"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, you may reroll.</span>
        </div>
      </h3>
    </div>
    <div class="sheet-proficiency">
      <h3 class="sheet-proficiency-title">thrown weapons
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_thrown weapons_proficiency_0"/><span class="sheet-proficiency-text">when you <em>strike</em>, <em>clash</em>, or <em>battle</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_thrown weapons_proficiency_1"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_thrown weapons_proficiency_2"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, you may reroll.</span>
        </div>
      </h3>
    </div>
    <div class="sheet-proficiency">
      <h3 class="sheet-proficiency-title">whips &amp; chains
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_whips &amp; chains_proficiency_0"/><span class="sheet-proficiency-text">when you <em>strike</em>, <em>clash</em>, or <em>battle</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_whips &amp; chains_proficiency_1"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_whips &amp; chains_proficiency_2"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, you may reroll.</span>
        </div>
      </h3>
    </div>
    <div class="sheet-proficiency">
      <h3 class="sheet-proficiency-title">blunt weapons
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_blunt weapons_proficiency_0"/><span class="sheet-proficiency-text">when you <em>strike</em>, <em>clash</em>, or <em>battle</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_blunt weapons_proficiency_1"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_blunt weapons_proficiency_2"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, you may reroll.</span>
        </div>
      </h3>
    </div>
    <div class="sheet-proficiency">
      <h3 class="sheet-proficiency-title">projectile weapons
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_projectile weapons_proficiency_0"/><span class="sheet-proficiency-text">when you <em>strike</em>, <em>clash</em>, or <em>battle</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_projectile weapons_proficiency_1"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_projectile weapons_proficiency_2"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, you may reroll.</span>
        </div>
      </h3>
    </div>
    <div class="sheet-proficiency">
      <h3 class="sheet-proficiency-title">stabbing weapons
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_stabbing weapons_proficiency_0"/><span class="sheet-proficiency-text">when you <em>strike</em>, <em>clash</em>, or <em>battle</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_stabbing weapons_proficiency_1"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_stabbing weapons_proficiency_2"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, you may reroll.</span>
        </div>
      </h3>
    </div>
    <div class="sheet-proficiency">
      <h3 class="sheet-proficiency-title">unarmed
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_unarmed_proficiency_0"/><span class="sheet-proficiency-text">when you <em>strike</em>, <em>clash</em>, or <em>battle</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_unarmed_proficiency_1"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, add +1.</span>
        </div>
        <div class="sheet-option-list">
          <input type="checkbox" name="attr_unarmed_proficiency_2"/><span class="sheet-proficiency-text">when you <em>inflict harm</em>, you may reroll.</span>
        </div>
      </h3>
    </div>
  </div>
</div>
<div class="sheet-footer">
  <div class="sheet-momentum">
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="20"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+20</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="19"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+19</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="18"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+18</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="17"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+17</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="16"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+16</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="15"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+15</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="14"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+14</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="13"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+13</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="12"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+12</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="11"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+11</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="10"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+10</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="9"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+9</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="8"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+8</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="7"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+7</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="6"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+6</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="5"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+5</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="4"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+4</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="3"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+3</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="2"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+2</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="1"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">+1</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="0"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">0</h3>
      </div>
    </div>
  </div>
  <div class="sheet-momentum">
    <div class="sheet-momentum sheet-momentum-dark">
      <h3 class="sheet-momentum-title">Momentum</h3>
    </div>
    <div class="sheet-momentum-burn">
      <input class="sheet-momentum-burn" type="checkbox" title="Burn Momentum" name="attr_momentumBurn"/><span class="sheet-momentum-burn">BURN</span>
      <div class="sheet-momentum-burn-back"></div>
    </div>
    <div class="sheet-momentum-status-box">
      <h3 class="sheet-momentum-max">MAX</h3>
      <h3 class="sheet-momentum-status-value"><span name="attr_momentum_max"></span></h3>
      <input class="sheet-hide" type="text" name="attr_momentum_max" value="20"/>
    </div>
    <div class="sheet-momentum-status-box">
      <h3 class="sheet-momentum-reset">RESET</h3>
      <h3 class="sheet-momentum-status-value"><span name="attr_momentum_reset"></span></h3>
      <input class="sheet-hide" type="text" name="attr_momentum_reset" value="2"/>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="-1"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">-1</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="-2"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">-2</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="-3"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">-3</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="-4"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">-4</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="-5"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">-5</h3>
      </div>
    </div>
    <div class="sheet-momentum-box">
      <input class="sheet-momentum-box-input" type="radio" name="attr_momentum" value="-6"/>
      <div class="sheet-momentum-box-back">
        <h3 class="sheet-momentum-box-value">-6</h3>
      </div>
    </div>
  </div>
</div>
<rolltemplate class="sheet-rolltemplate-ironcrunch_moves"> 
  <table>{{#action}}
    <tr>
      <td class="sheet-subheader" colspan="2">{{header}}</td>
    </tr>
    <tr>
      <th colspan="2">{{name}}</th>
    </tr>{{#rollLess() momentum 0}}
    {{#rollTotal() momentum -1}}
    {{#rollTotal() action negate1 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate1 }}
    {{#rollTotal() action negate2 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate2 }}
    {{/rollTotal() momentum -1}}
    {{#rollTotal() momentum -2}}
    {{#rollTotal() action negate3 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate3 }}
    {{#rollTotal() action negate4 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate4 }}
    {{/rollTotal() momentum -2}}
    {{#rollTotal() momentum -3}}
    {{#rollTotal() action negate5 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate5 }}
    {{#rollTotal() action negate6 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate6 }}
    {{/rollTotal() momentum -3}}
    {{#rollTotal() momentum -4}}
    {{#rollTotal() action negate7 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate7 }}
    {{#rollTotal() action negate8 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate8 }}
    {{/rollTotal() momentum -4}}
    {{#rollTotal() momentum -5}}
    {{#rollTotal() action negate9 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate9 }}
    {{#rollTotal() action negate10 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate10 }}
    {{/rollTotal() momentum -5}}
    {{#rollTotal() momentum -6}}
    {{#rollTotal() action negate11 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate11 }}
    {{#rollTotal() action negate12 }}
    <tr>
      <td>Previous Action Score:</td>
      <td>{{action}}</td>
    </tr>
    <tr>
      <td class="sheet-subfooter sheet-alert" colspan="2">Action die cancelled for matching negative momentum.</td>
    </tr>
    <tr>
      <td>Stat + Add:</td>
      <td>{{stat}} + {{add}}</td>
    </tr>
    <tr>
      <td>New Action Score:</td>
      <td>{{modifiers}}</td>
    </tr>
    <tr>
      <td><span>Challenge Dice:</span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{/rollTotal() action negate12 }}
    {{/rollTotal() momentum -6}}
    {{/rollLess() momentum 0}}
    {{#^rollLess() momentum 0}}
    <tr>
      <td><span>Action Score: </span></td>
      <td><span>{{action}}</span></td>
    </tr>
    <tr>
      <td><span>Challenge Dice: </span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{#rollGreater() action challenge1}}
    {{#rollTotal() challenge1 challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-opportunity" colspan="2">Opportunity</td>
    </tr>{{/rollTotal() challenge1 challenge2}}
    {{#^rollTotal() challenge1 challenge2}}
    {{#rollGreater() action challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-strong-hit" colspan="2">Strong Hit</td>
    </tr>{{/rollGreater() action challenge2}}
    {{#^rollGreater() action challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-weak-hit" colspan="2">Weak Hit</td>
    </tr>{{/^rollGreater() action challenge2}}
    {{/^rollTotal() challenge1 challenge2}}
    {{/rollGreater() action challenge1}}
    {{#^rollGreater() action challenge1}}
    {{#rollTotal() challenge1 challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-complication" colspan="2">Complication</td>
    </tr>{{/rollTotal() challenge1 challenge2}}
    {{#^rollTotal() challenge1 challenge2}}
    {{#rollGreater() action challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-weak-hit" colspan="2">Weak Hit</td>
    </tr>{{/rollGreater() action challenge2}}
    {{#^rollGreater() action challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-miss" colspan="2">Miss</td>
    </tr>{{/^rollGreater() action challenge2}}
    {{/^rollTotal() challenge1 challenge2}}
    {{/^rollGreater() action challenge1}}
    {{/^rollLess() momentum 0}}
    {{/action}}
    {{#custom}}
    {{#header}}
    <tr>
      <td class="sheet-subheader" colspan="2">{{header}}</td>
    </tr>{{/header}}
    <tr>
      <th colspan="2">{{name}}  </th>
    </tr>{{#allprops() custom name header}}
    <tr>
      <td><span>{{key}}</span></td>
      <td><span>{{value}}</span></td>
    </tr>{{/allprops() custom name header}}
    {{/custom}}
  </table>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-ironcrunch_progress">
  <table>{{#vow}}
    <tr>
      <td class="sheet-subheader" colspan="2">{{header}}</td>
    </tr>
    <tr>
      <th colspan="2">{{vowname}} </th>
    </tr>
    <tr>
      <td><span>Vow Progress: </span></td>
      <td><span>{{vow}}</span></td>
    </tr>
    <tr>
      <td><span>Challenge Dice: </span></td>
      <td><span>{{challenge1}} {{challenge2}}</span></td>
    </tr>{{#rollGreater() vow challenge1}}
    {{#rollTotal() challenge1 challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-opportunity" colspan="2">Opportunity</td>
    </tr>{{/rollTotal() challenge1 challenge2}}
    {{#^rollTotal() challenge1 challenge2}}
    {{#rollGreater() vow challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-strong-hit" colspan="2">Strong Hit</td>
    </tr>{{/rollGreater() vow challenge2}}
    {{#^rollGreater() vow challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-weak-hit" colspan="2">Weak Hit</td>
    </tr>{{/^rollGreater() vow challenge2}}
    {{/^rollTotal() challenge1 challenge2}}
    {{/rollGreater() vow challenge1}}
    {{#^rollGreater() vow challenge1}}
    {{#rollTotal() challenge1 challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-complication" colspan="2">Complication</td>
    </tr>{{/rollTotal() challenge1 challenge2}}
    {{#^rollTotal() challenge1 challenge2}}
    {{#rollGreater() vow challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-weak-hit" colspan="2">Weak Hit</td>
    </tr>{{/rollGreater() vow challenge2}}
    {{#^rollGreater() vow challenge2}}
    <tr>
      <td class="sheet-subfooter sheet-miss" colspan="2">Miss</td>
    </tr>{{/^rollGreater() vow challenge2}}
    {{/^rollTotal() challenge1 challenge2}}
    {{/^rollGreater() vow challenge1}}
    {{/vow}}
  </table>
</rolltemplate>
<script type="text/worker">
  // Debilities update Momentum MAX and RESET.
  on('change:debilWounded change:debilShaken change:debilUnprepared change:debilEncumbered change:debilMarked change:debilHaunted change:debilMaimed change:debilCorrupted change:debilOathbreaker change:debilLeech change:debilCustom1 change:debilCustom2', function() {
      var numDebilities=0
      getAttrs(["debilWounded","debilShaken", "debilUnprepared", "debilEncumbered", "debilMarked", "debilHaunted", "debilMaimed", "debilCorrupted", "debilOathbreaker", "debilLeech", "debilCustom1", "debilCustom2", "momentum_max", "momentum_reset"], function(values) {
          if(values.debilWounded == "on") numDebilities=numDebilities+1;
          if(values.debilShaken == "on") numDebilities=numDebilities+1;
          if(values.debilUnprepared == "on") numDebilities=numDebilities+1;
          if(values.debilEncumbered == "on") numDebilities=numDebilities+1;
          if(values.debilMarked == "on") numDebilities=numDebilities+1;
          if(values.debilHaunted == "on") numDebilities=numDebilities+1;
          if(values.debilMaimed == "on") numDebilities=numDebilities+1;
          if(values.debilCorrupted == "on") numDebilities=numDebilities+1;
          if(values.debilOathbreaker == "on") numDebilities=numDebilities+1;
          if(values.debilLeech == "on") numDebilities=numDebilities+1;
          if(values.debilCustom1 == "on") numDebilities=numDebilities+1;
          if(values.debilCustom2 == "on") numDebilities=numDebilities+1;
          setAttrs({ momentum_max: (20 - numDebilities)});
          if (numDebilities===0) setAttrs({ momentum_reset: 2});
          if (numDebilities===1) setAttrs({ momentum_reset: 1});
          if (numDebilities>1) setAttrs({ momentum_reset: 0});
      });
  });
  //Calculate Max Health
  on('change:iron', function() {
    updateMaxHealth();
  });
  //Reset Health if set above Max
  on('change:health', function(healthChange) {
    getAttrs(["max_health"], function(values) {
      if (parseInt(healthChange.newValue) > parseInt(values.max_health)) {
        setAttrs({health: values.max_health});
      }
    });
  });
  on('change:health_reset', function() {
    getAttrs(["max_health"], function(values) {
        setAttrs({health: values.max_health});
    });
  });
  //Cannot increase Health while Wounded
  //Health reaching 0 marks Wounded
  on('change:health', function(eventinfo) {
      getAttrs(["debilWounded"], function(values) {
          if(values.debilWounded == "on") {
              if (parseInt(eventinfo.newValue) > parseInt(eventinfo.previousValue)) {
                  setAttrs({health: eventinfo.previousValue});
              }
          }
      });
  });
  //Cannot increase Spirit while Shaken
  //Spirit reaching 0 marks Shaken
  on('change:spirit', function(eventinfo) {
      getAttrs(["debilShaken"], function(values) {
          if(values.debilShaken == "on") {
              if (parseInt(eventinfo.newValue) > parseInt(eventinfo.previousValue)) {
                  setAttrs({spirit: eventinfo.previousValue});
              }
          }
      });
  });
  //Cannot increase Supply while Unprepared
  //Supply reaching 0 marks Unprepared
  on('change:supply', function(eventinfo) {
      getAttrs(["debilUnprepared"], function(values) {
          if(values.debilUnprepared == "on") {
              if (parseInt(eventinfo.newValue) > parseInt(eventinfo.previousValue)) {
                  setAttrs({supply: eventinfo.previousValue});
              }
          }
      });
      if (parseInt(eventinfo.newValue) === 0) setAttrs({debilUnprepared: "on"});
  });
  // Do not allow Momentum to go over MAX.
  on('change:momentum change:momentum_max', function() {
      getAttrs(["momentum","momentum_max"], function(values) {
          if(parseInt(values.momentum) > parseInt(values.momentum_max)) setAttrs({ momentum: parseInt(values.momentum_max)});
      });
  });
  on('change:clear_vow', function(values) {
      if(values.newValue === '1'){
          setAttrs({ 'vow1-0': '0', 'vow1-1': '0', 'vow1-2': '0', 'vow1-3': '0', 'vow1-4': '0', 'vow1-5': '0', 'vow1-6': '0', 'vow1-7': '0', 'vow1-8': '0', 'vow1-9': '0', clear_vow: '0' });
      }
      if(values.newValue === '2'){
          setAttrs({ 'vow2-0': '0', 'vow2-1': '0', 'vow2-2': '0', 'vow2-3': '0', 'vow2-4': '0', 'vow2-5': '0', 'vow2-6': '0', 'vow2-7': '0', 'vow2-8': '0', 'vow2-9': '0', clear_vow: '0' });
      }
      if(values.newValue === '3'){
          setAttrs({ 'vow3-0': '0', 'vow3-1': '0', 'vow3-2': '0', 'vow3-3': '0', 'vow3-4': '0', 'vow3-5': '0', 'vow3-6': '0', 'vow3-7': '0', 'vow3-8': '0', 'vow3-9': '0', clear_vow: '0' });
      }
      if(values.newValue === '4'){
          setAttrs({ 'vow4-0': '0', 'vow4-1': '0', 'vow4-2': '0', 'vow4-3': '0', 'vow4-4': '0', 'vow4-5': '0', 'vow4-6': '0', 'vow4-7': '0', 'vow4-8': '0', 'vow4-9': '0', clear_vow: '0' });
      }
      if(values.newValue === '5'){
          setAttrs({ 'vow5-0': '0', 'vow5-1': '0', 'vow5-2': '0', 'vow5-3': '0', 'vow5-4': '0', 'vow5-5': '0', 'vow5-6': '0', 'vow5-7': '0', 'vow5-8': '0', 'vow5-9': '0', clear_vow: '0' });
      }
  });
  on('change:repeating_assets:assettype', function(values) {
      setAttrs({
          ['repeating_assets_Asset' + values.previousValue]: 'off',
          ['repeating_assets_Asset' + values.newValue]: 'on'
      });
  });
  on('change:repeating_assets:assetDropdownCompanion', function(values) {
      setAttrs({
          ['repeating_assets_AssetCompanionDiv' + values.previousValue]: 'off',
          ['repeating_assets_AssetCompanionDiv' + values.newValue]: 'on'
      });
  });
  on('change:repeating_assets:assetDropdownPath', function(values) {
      setAttrs({
          ['repeating_assets_AssetPathDiv' + values.previousValue]: 'off',
          ['repeating_assets_AssetPathDiv' + values.newValue]: 'on'
      });
  });
  on('change:repeating_assets:assetDropdownCombatTalent', function(values) {
      setAttrs({
          ['repeating_assets_AssetCombatTalentDiv' + values.previousValue]: 'off',
          ['repeating_assets_AssetCombatTalentDiv' + values.newValue]: 'on'
      });
  });
  on('change:repeating_assets:assetDropdownRitual', function(values) {
      setAttrs({
          ['repeating_assets_AssetRitualDiv' + values.previousValue]: 'off',
          ['repeating_assets_AssetRitualDiv' + values.newValue]: 'on'
      });
  });
  on('change:repeating_assets:builder-titles', function(values) {
      setAttrs({
          ['repeating_assets_builder-titles-' + values.previousValue]: 'off',
          ['repeating_assets_builder-titles-' + values.newValue]: 'on'
      });
  });
  on('change:repeating_assets:builder-ability-1', function(values) {
      setAttrs({
          ['repeating_assets_builder-ability-1-' + values.previousValue]: 'off',
          ['repeating_assets_builder-ability-1-' + values.newValue]: 'on'
      });
  });
  on('change:repeating_assets:builder-ability-2', function(values) {
      setAttrs({
          ['repeating_assets_builder-ability-2-' + values.previousValue]: 'off',
          ['repeating_assets_builder-ability-2-' + values.newValue]: 'on'
      });
  });
  on('change:repeating_assets:builder-ability-3', function(values) {
      setAttrs({
          ['repeating_assets_builder-ability-3-' + values.previousValue]: 'off',
          ['repeating_assets_builder-ability-3-' + values.newValue]: 'on'
      });
  });
  on('change:repeating_assets:track-dropdown', function(values) {
      setAttrs({
          ['repeating_assets_track-dropdown-' + values.previousValue]: 'off',
          ['repeating_assets_track-dropdown-' + values.newValue]: 'on'
      });
  });
  on('change:momentumBurn', function() {
      getAttrs([ "momentum_reset" ], function(values) {
          setAttrs({
              momentum: parseInt(values.momentum_reset),
              momentumBurn: 'off'
          });
      });
  });
  var updateMaxHealth = function() {
    getAttrs(['iron'], function(v) {
      let max_health = (v.iron*4)+16
      setAttrs({
        max_health: max_health
      });
    });
  };
</script>
<rolltemplate class="sheet-rolltemplate-5eDefault">
  <div class="sheet-rt-card">
    <div class="sheet-rt-header sheet-relative {{#attack_roll}} sheet-attack{{/attack_roll}}{{#weapon}} sheet-weapon{{/weapon}}{{#action}} sheet-action{{/action}}{{#spell}} sheet-spell{{/spell}}{{#ability}} sheet-ability{{/ability}}{{#save}} sheet-save{{/save}}{{#deathsave}} sheet-deathsave{{/deathsave}}">
      <div class="sheet-rt-title sheet-pad-l-xxl sheet-pad-r-xxl">{{title}}</div>
      <div class="sheet-tooltip-position-wrapper">
        {{#spellconcentration}}
          <div class="sheet-col sheet-tooltip">
            <span class="sheet-pictos-custom sheet-concentration-icon sheet-center">y</span>
            <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label">
              <span>Concentration</span>
            </div>
          </div>
        {{/spellconcentration}}
        {{#spellritual}}
          <div class="sheet-col sheet-tooltip">
            <span class="sheet-pictos-custom sheet-ritual-icon sheet-center">r</span>
            <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label">
              <span>Ritual</span>
            </div>
          </div>
        {{/spellritual}}
      </div>
      {{#show_character_name}}
        <div class="sheet-rt-subheader">{{character_name}}</div>
      {{/show_character_name}}

      <!--old weapons-->
      {{#melee}}
        <div class="sheet-rt-subheader">Melee {{#reach}} &bullet; {{reach}}{{/reach}}</div>
      {{/melee}}
      {{#ranged}}
        <div class="sheet-rt-subheader">Ranged {{#range}} &bullet; {{range}}{{/range}}{{#ammo}} &bullet; {{ammo}} ammo{{/ammo}}</div>
      {{/ranged}}
      <!--old weapons-->
      {{#spell}}
        <div class="sheet-rt-subheader">{{spellfriendlylevel}}{{#spell_cast_as_level}} (as {{spell_cast_as_level}}){{/spell_cast_as_level}}{{#spellschool}} &bullet; {{spellschool}}{{/spellschool}}{{#range}} &bullet; {{range}}{{/range}}</div>
        <div class="sheet-rt-subheader">
          {{#spell_components_verbal}}V{{/spell_components_verbal}}{{#spell_components_somatic}}{{#spell_components_verbal}}, {{/spell_components_verbal}}S{{/spell_components_somatic}}{{#spell_components_material}}{{#spell_components_verbal}}{{^spell_components_somatic}}, {{/spell_components_somatic}}{{/spell_components_verbal}}{{#spell_components_somatic}}, {{/spell_components_somatic}}M{{/spell_components_material}}
          {{#spellcomponents}}{{#spell_components_material}} ({{/spell_components_material}}{{spellcomponents}}{{#spell_components_material}}){{/spell_components_material}}{{/spellcomponents}}
        </div>
        <div class="sheet-rt-subheader">{{spellcasttime}}{{#spellduration}} &bullet; {{spellduration}}{{/spellduration}}</div>
        <div class="sheet-rt-subheader">{{spellsource}}</div>
      {{/spell}}
      {{#action}}
        <div class="sheet-rt-subheader">{{action_type}} {{#reach}} &bullet; {{reach}}{{/reach}}{{#range}} &bullet; {{range}}{{/range}}{{#target}} &bullet; {{target}}{{/target}}</div>
      {{/action}}
      {{#subheader}}
        <div class="sheet-rt-subheader">{{subheader}}{{#subheaderright}} &bullet; {{subheaderright}}{{/subheaderright}}</div>
      {{/subheader}}
      {{#subheader2}}
        <div class="sheet-rt-subheader">{{subheader2}}{{#subheaderright2}} &bullet; {{subheaderright2}}{{/subheaderright2}}</div>
      {{/subheader2}}
      {{#targetName}}
        <div class="sheet-rt-subheader">vs {{targetName}}</div>
      {{/targetName}}
    </div>
    {{#emote}}
      <p class="sheet-rt-emote">{{character_name}} {{emote}}</p>
    {{/emote}}
    <div class="sheet-main-content">
      {{#spellgainedfrom}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Gained From</div>
          <div class="sheet-col-67 sheet-rt-value">{{spellgainedfrom}}</div>
        </div>
      {{/spellgainedfrom}}
      {{#spelldescription}}
        <div class="sheet-row">
          <div class="sheet-col-1 sheet-rt-key">Description</div>
          <div class="sheet-col-1 sheet-rt-value">{{spelldescription}}</div>
        </div>
      {{/spelldescription}}
      {{#spell}}
        {{#target}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Target</div>
            <div class="sheet-col-67 sheet-rt-value">{{target}}</div>
          </div>
        {{/target}}
      {{/spell}}
      {{#aoe}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">AoE</div>
          <div class="sheet-col-67 sheet-rt-value">{{aoe}}</div>
        </div>
      {{/aoe}}

      <!--old weapons-->
      {{#attack}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Attack</div>
          <div class="sheet-col-67 sheet-rt-value">{{attack}} | {{attackadv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
        </div>
      {{/attack}}
      {{#damage}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Damage</div>
          <div class="sheet-col-67 sheet-rt-value">{{damage}}</div>
        </div>
      {{/damage}}
      {{#weapon}}
        {{#rollWasCrit() attack}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit</div>
            <div class="sheet-col-67 sheet-rt-value">{{critdamage}}</div>
          </div>
        {{/rollWasCrit() attack}}
        {{#rollWasCrit() attackadv}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{critdamage}} (if attack was made with advantage)</div>
          </div>
        {{/rollWasCrit() attackadv}}
      {{/weapon}}
      <!--old weapons-->

      {{#action_damage}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Damage</div>
          <div class="sheet-col-67 sheet-rt-value">{{action_damage}} {{action_damage_type}}{{#action_alt_damage}}, or {{action_alt_damage}} {{action_damage_type}}{{#action_alt_damage_reason}} {{action_alt_damage_reason}}{{/action_alt_damage_reason}}{{/action_alt_damage}}{{#action_second_damage}} + {{action_second_damage}} {{action_second_damage_type}}{{/action_second_damage}}</div>
        </div>
      {{/action_damage}}
      {{#can_crit}}
        {{#rollWasCrit() attack}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit Dmg</div>
            <div class="sheet-col-67 sheet-rt-value">{{action_crit_damage}} {{action_damage_type}}{{#action_alt_damage}}, or {{action_alt_crit_damage}} {{action_damage_type}}{{#action_alt_damage_reason}} {{action_alt_damage_reason}}{{/action_alt_damage_reason}}{{/action_alt_damage}}{{#action_second_damage}} + {{action_second_crit_damage}} {{action_second_damage_type}}{{/action_second_damage}}</div>
          </div>
        {{/rollWasCrit() attack}}
        {{#rollWasCrit() attackadv}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit Dmg (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{action_crit_damage_adv}} {{action_damage_type}}{{#action_alt_damage}}, or {{action_alt_crit_damage_adv}} {{action_damage_type}}{{#action_alt_damage_reason}} {{action_alt_damage_reason}}{{/action_alt_damage_reason}}{{/action_alt_damage}}{{#action_second_damage}} + {{action_second_crit_damage_adv}} {{action_second_damage_type}}{{/action_second_damage}} <span class="sheet-small-label">(if attack was made with advantage)</span></div>
          </div>
        {{/rollWasCrit() attackadv}}
      {{/can_crit}}
      {{#spellhealing}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Healing</div>
          <div class="sheet-col-67 sheet-rt-value">{{spellhealing}} HP healed</div>
        </div>
      {{/spellhealing}}
      {{#save_condition}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Save Condition</div>
          <div class="sheet-col-67 sheet-rt-value">{{save_condition}}</div>
        </div>
      {{/save_condition}}
      {{#save_dc}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Save</div>
          <div class="sheet-col-67 sheet-rt-value">DC {{save_dc}} {{action_save_stat}}</div>
        </div>
      {{/save_dc}}
      {{#save_damage}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Damage</div>
          <div class="sheet-col-67 sheet-rt-value">{{save_damage}} {{save_damage_type}}{{#save_second_damage}} + {{save_second_damage}} {{save_second_damage_type}}{{/save_second_damage}}</div>
        </div>
      {{/save_damage}}
      {{#save_failure}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Save Failure</div>
          <div class="sheet-col-67 sheet-rt-value">{{save_failure}}</div>
        </div>
      {{/save_failure}}
      {{#save_success}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Save Success</div>
          <div class="sheet-col-67 sheet-rt-value">{{save_success}}</div>
        </div>
      {{/save_success}}
      {{#effects}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Effect</div>
          <div class="sheet-col-1 sheet-rt-value">{{effects}}</div>
        </div>
      {{/effects}}
      {{#recharge}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key sheet-smaller-letter-spacing">Recharge</div>
          <div class="sheet-col-67 sheet-rt-value">{{recharge}}</div>
        </div>
      {{/recharge}}


      <!-- REMOVE BELOW THIS POINT -->
      {{#spellattack}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Attack</div>
          <div class="sheet-col-67 sheet-rt-value">{{spellattack}} | {{spellattackadv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
        </div>
      {{/spellattack}}
      {{#spellsavedc}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Save</div>
          <div class="sheet-col-67 sheet-rt-value">DC {{spellsavedc}} {{spellsavestat}}</div>
        </div>
      {{/spellsavedc}}
      {{#spelldamage}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Damage</div>
          <div class="sheet-col-67 sheet-rt-value">{{spelldamage}}</div>
        </div>
      {{/spelldamage}}
      {{#spellcancrit}}
        {{#spellattack}}
          {{#rollWasCrit() spellattack}}
            <div class="sheet-row">
              <div class="sheet-col-33 sheet-rt-key">Crit</div>
              <div class="sheet-col-67 sheet-rt-value">{{spellcritdamage}}</div>
            </div>
          {{/rollWasCrit() spellattack}}
          {{#rollWasCrit() spellattackadv}}
            <div class="sheet-row">
              <div class="sheet-col-33 sheet-rt-key">Crit (adv roll)</div>
              <div class="sheet-col-67 sheet-rt-value">{{spellcritdamage}} (if attack was made with advantage)</div>
            </div>
          {{/rollWasCrit() spellattackadv}}
        {{/spellattack}}
      {{/spellcancrit}}
      {{#spellsavesuccess}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">Save success</div>
          <div class="sheet-col-67 sheet-rt-value">{{spellsavesuccess}}</div>
        </div>
      {{/spellsavesuccess}}
      {{#spelleffect}}
        <div class="sheet-row">
          <div class="sheet-col-1 sheet-rt-key">Effect</div>
          <div class="sheet-col-1 sheet-rt-value">{{spelleffect}}</div>
        </div>
      {{/spelleffect}}
      <!-- REMOVE UP TO THIS POINT -->

      {{#spellhigherlevel}}
        <div class="sheet-row">
          <div class="sheet-col-1 sheet-rt-key">At Higher Levels</div>
          <div class="sheet-col-1 sheet-rt-value">{{spellhigherlevel}}</div>
        </div>
      {{/spellhigherlevel}}

      {{#freetext}}
        <div class="sheet-row">
          <div class="sheet-col-1 sheet-rt-key">{{freetextname}}</div>
          <div class="sheet-col-1 sheet-rt-value">{{freetext}}</div>
        </div>
      {{/freetext}}
      {{#roll}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">{{rollname}}</div>
          <div class="sheet-col-67 sheet-rt-value">{{roll}}{{#rolladv}} | {{rolladv}}{{/rolladv}}</div>
        </div>
      {{/roll}}

      {{#allprops() classaction freetext character_name save title show_character_name subheader subheaderright subheader2 subheaderright2 rollname roll rolladv ability emote deathsave targetAC targetName weapon attack attack_roll can_crit action action_type action_damage action_damage_type action_crit_damage action_crit_damage_adv action_second_damage action_second_damage_type action_second_crit_damage action_second_crit_damage_adv action_alt_damage action_alt_damage_reason action_alt_crit_damage action_alt_crit_damage_adv melee ranged attackadv damage critdamage target aoe reach range ammo ammo_auto ammo_field spell save_condition save_dc action_save action_save_stat save_success save_failure save_damage save_damage_type save_second_damage save_second_damage_type spellfriendlylevel spellschool spellconcentration spellritual spellgainedfrom spelldescription spellhigherlevel spell_cast_as_level spellhealing spellcasttime spellduration spellsource spellcomponents spell_components_verbal spell_components_somatic spell_components_material effects       spellshowdesc spellshowhigherlvl spellshowattack spellcancrit spellcritdamage spellattack spellattackadv spellshowattackadv spellsavedc spellsavestat spellsavefailure spellsavesuccess spellshowdamage spelldamage spellshowhealing spellshowsource spellshowgainedfrom spellshowsavethrow spellshoweffects spelleffect}}
        <div class="sheet-row">
          <div class="sheet-col-33 sheet-rt-key">{{key}}</div>
          <div class="sheet-col-67 sheet-rt-value">{{value}}</div>
        </div>
      {{/allprops() classaction freetext character_name save title show_character_name subheader subheaderright subheader2 subheaderright2 rollname roll rolladv ability emote deathsave targetAC targetName weapon attack attack_roll can_crit action action_type action_damage action_damage_type action_crit_damage action_crit_damage_adv action_second_damage action_second_damage_type action_second_crit_damage action_second_crit_damage_adv action_alt_damage action_alt_damage_reason action_alt_crit_damage action_alt_crit_damage_adv melee ranged attackadv damage critdamage target aoe reach range ammo ammo_auto ammo_field spell save_condition save_dc action_save action_save_stat save_success save_failure save_damage save_damage_type save_second_damage save_second_damage_type spellfriendlylevel spellschool spellconcentration spellritual spellgainedfrom spelldescription spellhigherlevel spell_cast_as_level spellhealing spellcasttime spellduration spellsource spellcomponents spell_components_verbal spell_components_somatic spell_components_material effects       spellshowdesc spellshowhigherlvl spellshowattack spellcancrit spellcritdamage spellattack spellattackadv spellshowattackadv spellsavedc spellsavestat spellsavefailure spellsavesuccess spellshowdamage spelldamage spellshowhealing spellshowsource spellshowgainedfrom spellshowsavethrow spellshoweffects spelleffect}}

      {{#multiattack}}
        {{#mattack1}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Attack1</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack1}} | {{mattack1adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack1}}
        {{#mdamage1}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Damage1</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage1}}</div>
          </div>
        {{/mdamage1}}
        {{#rollWasCrit() mattack1}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit1</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage1}}</div>
          </div>
        {{/rollWasCrit() mattack1}}
        {{#rollWasCrit() mattack1adv}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit1 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage1}} (if attack was made with advantage)</div>
          </div>
        {{/rollWasCrit() mattack1adv}}

        {{#mattack2}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Attack2</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack2}} | {{mattack2adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack2}}
        {{#mdamage2}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Damage2</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage2}}</div>
          </div>
        {{/mdamage2}}
        {{#rollWasCrit() mattack2}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit2</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage2}}</div>
          </div>
        {{/rollWasCrit() mattack2}}
        {{#rollWasCrit() mattack2adv}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit2 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage2}} (if attack was made with advantage)</div>
          </div>
        {{/rollWasCrit() mattack2adv}}

        {{#mattack3}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Attack3</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack3}} | {{mattack3adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack3}}
        {{#mdamage3}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Damage3</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage3}}</div>
          </div>
        {{/mdamage3}}
        {{#rollWasCrit() mattack3}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit3</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage3}}</div>
          </div>
        {{/rollWasCrit() mattack3}}
        {{#rollWasCrit() mattack3adv}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit3 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage3}} (if attack was made with advantage)</div>
          </div>
        {{/rollWasCrit() mattack3adv}}

        {{#mattack4}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Attack4</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack4}} | {{mattack4adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack4}}
        {{#mdamage4}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Damage4</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage4}}</div>
          </div>
        {{/mdamage4}}
        {{#rollWasCrit() mattack4}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit4</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage4}}</div>
          </div>
        {{/rollWasCrit() mattack4}}
        {{#rollWasCrit() mattack4adv}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit4 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage4}} (if attack was made with advantage)</div>
          </div>
        {{/rollWasCrit() mattack4adv}}

        {{#mattack5}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Attack5</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack5}} | {{mattack5adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack5}}
        {{#mdamage5}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Damage5</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage5}}</div>
          </div>
        {{/mdamage5}}
        {{#rollWasCrit() mattack5}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit5</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage5}}</div>
          </div>
        {{/rollWasCrit() mattack5}}
        {{#rollWasCrit() mattack5adv}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">Crit5 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage5}} (if attack was made with advantage)</div>
          </div>
        {{/rollWasCrit() mattack5adv}}
      {{/multiattack}}

      {{#outputall}}
        {{#allprops() outputall title subheader subheaderright subheader2 subheaderright2 emote weapon spell ability save deathsave}}
          <div class="sheet-row">
            <div class="sheet-col-33 sheet-rt-key">{{key}}</div>
            <div class="sheet-col-67 sheet-rt-value">{{value}}</div>
          </div>
        {{/allprops() outputall title subheader subheaderright subheader2 subheaderright2 emote weapon spell ability save deathsave}}
      {{/outputall}}
    </div>
  </div>
</rolltemplate>
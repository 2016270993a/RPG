<rolltemplate class="sheet-rolltemplate-5eDefault">
  <div class="sheet-rt-card">
    <div class="sheet-rt-header sheet-relative {{#attack_roll}} sheet-attack{{/attack_roll}}{{#weapon}} sheet-weapon{{/weapon}}{{#action}} sheet-action{{/action}}{{#spell}} sheet-spell{{/spell}}{{#ability}} sheet-ability{{/ability}}{{#save}} sheet-save{{/save}}{{#deathsave}} sheet-deathsave{{/deathsave}}">
      <div class="sheet-rt-title sheet-pad-l-xxl sheet-pad-r-xxl">{{title}}</div>
      <div class="sheet-tooltip-position-wrapper">
        {{#spellconcentration}}
          <div class="sheet-col sheet-tooltip">
            <span class="sheet-pictos-custom sheet-concentration-icon sheet-center">y</span>
            <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label">
              <span>Concentration</span>
            </div>
          </div>
        {{/spellconcentration}}
        {{#spellritual}}
          <div class="sheet-col sheet-tooltip">
            <span class="sheet-pictos-custom sheet-ritual-icon sheet-center">r</span>
            <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label">
              <span>Ritual</span>
            </div>
          </div>
        {{/spellritual}}
      </div>
      {{#show_character_name}}
        <div class="sheet-rt-subheader">{{character_name}}</div>
      {{/show_character_name}}

      {{#melee}}
        <div class="sheet-rt-subheader">Melee {{#reach}} &bullet; {{reach}}{{/reach}}</div>
      {{/melee}}
      {{#ranged}}
        <div class="sheet-rt-subheader">Ranged {{#range}} &bullet; {{range}}{{/range}}{{#ammo}} &bullet; {{ammo}} ammo{{/ammo}}</div>
      {{/ranged}}
      {{#spell}}
        <div class="sheet-rt-subheader">{{spellfriendlylevel}}{{#spellschool}} &bullet; {{spellschool}}{{/spellschool}}{{#range}} &bullet; {{range}}{{/range}}</div>
        <div class="sheet-rt-subheader">{{#spellcomponents}}{{spellcomponents}}{{/spellcomponents}}</div>
        <div class="sheet-rt-subheader">{{spellcasttime}}{{#spellduration}} &bullet; {{spellduration}}{{/spellduration}}{{#target}} &bullet; {{target}}{{/target}}</div>
      {{/spell}}
      {{#action}}
        <div class="sheet-rt-subheader">{{action_type}} {{#reach}} &bullet; {{reach}}{{/reach}}{{#range}} &bullet; {{range}}{{/range}}{{#target}} &bullet; {{target}}{{/target}}</div>
      {{/action}}
      {{#subheader}}
        <div class="sheet-rt-subheader">{{subheader}}{{#subheaderright}} &bullet; {{subheaderright}}{{/subheaderright}}</div>
      {{/subheader}}
      {{#subheader2}}
        <div class="sheet-rt-subheader">{{subheader2}}{{#subheaderright2}} &bullet; {{subheaderright2}}{{/subheaderright2}}</div>
      {{/subheader2}}
    </div>
    {{#emote}}
      <p class="sheet-rt-emote">{{emote}}</p>
    {{/emote}}
    <div class="sheet-main-content">
      {{#attack}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Attack</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-smaller-letter-spacing sheet-rt-value">{{attack}} | {{attackadv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
        </div>
      {{/attack}}
      {{#damage}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Damage</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{damage}}</div>
        </div>
      {{/damage}}
      {{#weapon}}
        {{#rollWasCrit() attack}}
          <div class="sheet-row">
            <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Crit</div>
            <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{critdamage}}</div>
          </div>
        {{/rollWasCrit() attack}}
        {{#rollWasCrit() attackadv}}
          <div class="sheet-row">
            <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Crit (adv roll)</div>
            <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{critdamage}} (if attack was made with advantage)</div>
          </div>
        {{/rollWasCrit() attackadv}}
      {{/weapon}}

      {{#action_damage}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Damage</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{action_damage}} {{action_damage_type}}{{#action_alt_damage}}, or {{action_alt_damage}} {{action_damage_type}}{{#action_alt_damage_reason}} {{action_alt_damage_reason}}{{/action_alt_damage_reason}}{{/action_alt_damage}}{{#action_second_damage}} + {{action_second_damage}} {{action_second_damage_type}}{{/action_second_damage}}</div>
        </div>
      {{/action_damage}}
      {{#can_crit}}
        {{#attack}}
          {{#rollWasCrit() attack}}
            <div class="sheet-row">
              <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Crit Dmg</div>
              <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{action_crit_damage}} {{action_damage_type}}{{#action_alt_damage}}, or {{action_alt_crit_damage}} {{action_damage_type}}{{#action_alt_damage_reason}} {{action_alt_damage_reason}}{{/action_alt_damage_reason}}{{/action_alt_damage}}{{#action_second_damage}} + {{action_second_crit_damage}} {{action_second_damage_type}}{{/action_second_damage}}</div>
            </div>
          {{/rollWasCrit() attack}}
          {{#rollWasCrit() attackadv}}
            <div class="sheet-row">
              <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Crit Dmg (adv roll)</div>
              <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{action_crit_damage_adv}} {{action_damage_type}}{{#action_alt_damage}}, or {{action_alt_crit_damage_adv}} {{action_damage_type}}{{#action_alt_damage_reason}} {{action_alt_damage_reason}}{{/action_alt_damage_reason}}{{/action_alt_damage}}{{#action_second_damage}} + {{action_second_crit_damage_adv}} {{action_second_damage_type}}{{/action_second_damage}} <span class="sheet-small-label">(if attack was made with advantage)</span></div>
            </div>
          {{/rollWasCrit() attackadv}}
        {{/attack}}
      {{/can_crit}}
      {{#save_dc}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Save</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">DC {{save_dc}} {{action_save_stat}}</div>
        </div>
      {{/save_dc}}
      {{#save_damage}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Damage</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{save_damage}} {{save_damage_type}}</div>
        </div>
      {{/save_damage}}
      {{#save_success}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Save success</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{save_success}}</div>
        </div>
      {{/save_success}}
      {{#effects}}
        <div class="sheet-row">
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Spell Effects</div>
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-value">{{effects}}</div>
        </div>
      {{/effects}}
      {{#recharge}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Recharge</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{recharge}}</div>
        </div>
      {{/recharge}}

      {{#spellshowinfoblock}}
        {{#spellgainedfrom}}
          <div class="sheet-row">
            <div class="sheet-col-50 sheet-pad-l-md sheet-pad-r-sm">
              <span class="sheet-rt-key">Gained From</span>
            </div>
            <div class="sheet-col-50 sheet-pad-r-md">
              <span class="sheet-rt-value">{{spellgainedfrom}}</span>
            </div>
          </div>
        {{/spellgainedfrom}}
      {{/spellshowinfoblock}}
      {{#spelldescription}}
        <div class="sheet-row">
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Spell Description</div>
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-value">{{spelldescription}}</div>
        </div>
      {{/spelldescription}}
      {{#spellattack}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Attack</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-smaller-letter-spacing sheet-rt-value">{{spellattack}} | {{spellattackadv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
        </div>
      {{/spellattack}}
      {{#spellsavedc}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Save</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">DC {{spellsavedc}} {{spellsavestat}}</div>
        </div>
      {{/spellsavedc}}
      {{#spellhealing}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Healing</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{spellhealing}} HP healed</div>
        </div>
      {{/spellhealing}}
      {{#spelldamage}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Damage</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{spelldamage}}</div>
        </div>
      {{/spelldamage}}
      {{#spellcancrit}}
        {{#spellattack}}
          {{#rollWasCrit() spellattack}}
            <div class="sheet-row">
              <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Crit</div>
              <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{spellcritdamage}}</div>
            </div>
          {{/rollWasCrit() spellattack}}
          {{#rollWasCrit() spellattackadv}}
            <div class="sheet-row">
              <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Crit (adv roll)</div>
              <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{spellcritdamage}} (if attack was made with advantage)</div>
            </div>
          {{/rollWasCrit() spellattackadv}}
        {{/spellattack}}
      {{/spellcancrit}}
      {{#spelleffect}}
        <div class="sheet-row">
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Effect</div>
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-value">{{spelleffect}}</div>
        </div>
      {{/spelleffect}}
      {{#spellsavesuccess}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">Save success</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{spellsavesuccess}}</div>
        </div>
      {{/spellsavesuccess}}
      {{#spellhigherlevel}}
        <div class="sheet-row">
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">At Higher Levels</div>
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-value">{{spellhigherlevel}}</div>
        </div>
      {{/spellhigherlevel}}

      {{#freetext}}
        <div class="sheet-row">
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-key-wide">{{freetextname}}</div>
          <div class="sheet-col-1 sheet-pad-l-md sheet-pad-r-md sheet-rt-value">{{freetext}}</div>
        </div>
      {{/freetext}}
      {{#roll}}
        <div class="sheet-row">
          <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">{{rollname}}</div>
          <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{roll}}{{#rolladv}} | {{rolladv}}{{/rolladv}}</div>
        </div>
      {{/roll}}

      {{#showclassactions}}
        {{#allprops() showclassactions character_name save title show_character_name subheader subheaderright subheader2 subheaderright2 rollname roll rolladv emote deathsave targetAC weapon attack attack_roll can_crit action action_damage action_damage_type action_crit_damage action_crit_damage_adv action_second_damage action_second_damage_type action_second_crit_damage action_second_crit_damage_adv melee ranged attackadv damage critdamage target reach range ammo ammo_auto ammo_field spell spellfriendlylevel spellschool spellconcentration spellritual spellshowinfoblock spellshowdesc spelldescription spellshowhigherlvl spellhigherlevel spellshowattack spellattack spellshowattackadv spellattackadv spellshowsavethrow spellsavedc spellsavestat spellsavesuccess spellshowhealing spellhealing spellshowdamage spelldamage spellcancrit spellcritdamage spellshoweffects spelleffect spellcasttime spellduration spellgainedfrom spellcomponents ability}}
          <div class="sheet-row">
            <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">{{key}}</div>
            <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{value}}</div>
          </div>
        {{/allprops() showclassactions character_name save title show_character_name subheader subheaderright subheader2 subheaderright2 rollname roll rolladv emote deathsave targetAC weapon attack attack_roll can_crit action action_damage action_damage_type action_crit_damage action_crit_damage_adv action_second_damage action_second_damage_type action_second_crit_damage action_second_crit_damage_adv melee ranged attackadv damage critdamage target reach range ammo ammo_auto ammo_field spell spellfriendlylevel spellschool spellconcentration spellritual spellshowinfoblock spellshowdesc spelldescription spellshowhigherlvl spellhigherlevel spellshowattack spellattack spellshowattackadv spellattackadv spellshowsavethrow spellsavedc spellsavestat spellsavesuccess spellshowhealing spellhealing spellshowdamage spelldamage spellcancrit spellcritdamage spellshoweffects spelleffect spellcasttime spellduration spellgainedfrom spellcomponents ability}}
      {{/showclassactions}}

      {{#outputall}}
        {{#allprops() outputall title subheader subheaderright subheader2 subheaderright2 emote weapon spell ability save deathsave}}
          <div class="sheet-row">
            <div class="sheet-col-38 sheet-pad-l-md sheet-pad-r-md sheet-rt-key">{{key}}</div>
            <div class="sheet-col-62 sheet-pad-r-sm sheet-rt-value">{{value}}</div>
          </div>
        {{/allprops() outputall title subheader subheaderright subheader2 subheaderright2 emote weapon spell ability save deathsave}}
      {{/outputall}}
    </div>
  </div>
</rolltemplate>
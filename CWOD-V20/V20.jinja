<!-- DO NOT EDIT V20.html, generated from V20.py -->
<h1>Vampire the Masquerade</h1>
<h4>20th Anniversary Edition</h4>

<div class="sheet-3colrow">
    <div class="sheet-col">
        <label>Name:</label><input type="text" name="attr_name"/><br/>
        <label>Player:</label><input type="text" name="attr_player"/><br/>
        <label>Chronicle:</label><input type="text" name="attr_chronicle"/><br/>
    </div>
    <div class="sheet-col">
        <label>Nature:</label><input type="text" name="attr_nature"/><br/>
        <label>Demeanor:</label><input type="text" name="attr_demeanor"/><br/>
        <label>Concept:</label><input type="text" name="attr_concept"/><br/>
    </div>
    <div class="sheet-col">
        <label>Clan:</label>
        <select name="attr_clan">
        {%- for clan in d.clans %}
          <option value="{{ clan }}">{{ clan|title }}</option>
        {%- endfor %}
        </select><br/>
        <label>Generation:</label><input type="number" value="13" min="1" max="15" name="attr_generation"/><br/>
        <label>Sire:</label><input type="text" name="attr_sire"/><br/>
    </div>
</div>

{%- macro bar(name, name_editable, value, min, max, default_name, base_disabled) -%}
    <tr>
    {%- if (name_editable) %}
        <th><input name="attr_{{ name }}_name" type="text" value="{{ default_name }}" class="sheet-namebox"></th>
    {%- else %}
        <th>{{ name|title }}</th>
    {%- endif %}
        <td><input name="attr_{{ name }}_base" type="number" value="{{ value[0] }}" min="{{ min[0] }}" max="{{ max[0] }}" title="{{ name }}_base" disabled="{{ base_disabled }}" class="sheet-short"></td>
        <td><input name="attr_{{ name }}_free" type="number" value="{{ value[1] }}" min="{{ min[1] }}" max="{{ max[1] }}" title="{{ name }}_free" class="sheet-short"></td>
        <td><input name="attr_{{ name }}_xp" type="number" value="{{ value[2] }}" min="{{ min[2] }}" max="{{ max[2] }}" title="{{ name }}_xp" class="sheet-short"></td>
        <td><input name="attr_{{ name }}" type="number" value="@{{'{'}}{{ name }}_base{{'}'}} + @{{'{'}}{{ name }}_free{{'}'}} + @{{'{'}}{{ name }}_xp{{'}'}}" title="{{ name }}" class="sheet-short" disabled="true"></td>
    </tr>
{%- endmacro %}

<h2>Attributes</h2>
<div class="sheet-3colrow">
{% for attr_type in d.attribute_types %}
    <div class="sheet-col">
        <table>
            <tr>
                <th><h5>{{ attr_type|title }}</h5></th>
                <th>Base</th>
                <th>Free</th>
                <th>Xp</th>
                <th>Tot</th>
            </tr>
        {%- for name in d[attr_type] %}
            {{ bar(name, false, [1, 0, 0], [1, 0, 0], [10, 10, 10], "", false)|indent(8) }}
        {%- endfor %}
        </table>
    </div>
{%- endfor %}
</div>

<h2>Abilities</h2>
<div class="sheet-3colrow">
{% for abil_type in d.ability_types %}
    <div class="sheet-col">
        <table>
            <tr>
                <th><h5>{{ abil_type|title }}</h5></th>
                <th>Base</th>
                <th>Free</th>
                <th>Xp</th>
                <th>Tot</th>
            </tr>
        {%- for name in d[abil_type] %}
            {{ bar(name, false, [0, 0, 0], [0, 0, 0], [10, 10, 10], "", false)|indent(8) }}
        {%- endfor %}
        </table>
    </div>
{%- endfor %}
</div>

<h2>Advantages</h2>
<div class="sheet-3colrow">
    <div class="sheet-col">
        <table>
            <tr>
                <th><h5>Disciplines</h5></th>
                <th>Base</th>
                <th>Free</th>
                <th>Xp</th>
                <th>Tot</th>
            </tr>
        {%- for name in d.disciplines %}
            {{ bar(name, true, [0, 0, 0], [0, 0, 0], [10, 10, 10], "", false)|indent(8) }}
        {%- endfor %}
        </table>
    </div>
    <div class="sheet-col">
        <table>
            <tr>
                <th><h5>Backgrounds</h5></th>
                <th>Base</th>
                <th>Free</th>
                <th>Xp</th>
                <th>Tot</th>
            </tr>
        {%- for name in d.backgrounds %}
            {{ bar(name, true, [0, 0, 0], [0, 0, 0], [10, 10, 10], "", false)|indent(8) }}
        {%- endfor %}
        </table>
    </div>
    <div class="sheet-col">
        <table>
            <tr>
                <th><h5>Virtues</h5></th>
                <th>Base</th>
                <th>Free</th>
                <th>Xp</th>
                <th>Tot</th>
            </tr>
        {%- for name in d.virtues %}
            {{ bar(name, false, [1, 0, 0], [1, 0, 0], [5, 5, 5], "", false)|indent(8) }}
        {%- endfor %}
        </table>

    </div>
</div>

<hr />
<table>
    <tr>
    {%- for type in ["merit", "flaw"] %}
        <td>
            <table>
                <tr>
                    <th><h4>{{ type|title }}</h4></th>
                    <th>Cost</th>
                </tr>
        {%- for i in range(6) %}
            {%- set name="{{ type }}_{{ i }}" %}
                <tr>
                    <th><input name="attr_{{ name }}_name" type="text" value="" class="sheet-namebox"></th>
                    <td><input name="attr_{{ name }}_free" type="number" value="0" class="sheet-short" disabled="true"></td>
                </tr>
        {%- endfor %}
            </table>
        </td>
    {%- endfor %}
        <td>
            <table>
                <tr>
                    <ht><h4>Path</h4></th>
                </tr>
                {{ bar("path", true, ["@{conscience_base} + @{self_control_base}", 0, 0], [0, 0, 0], [10, 10, 10], "humanity", true)|indent(8) }}
                <tr>
                    <th><h4>Willpower</h4></th>
                    <td><input name="attr_willpower_pool" type="number" value="0" class="sheet-short"></td>
                </tr>
                {{ bar("willpower", false, ["@{courage_base}", 0, 0], [0, 0, 0], [10, 10, 10], "", true)|indent(8) }}
                <tr>
                    <th><h4>Blood Pool</h4></th>
                    <td><input name="attr_blood_pool" type="number" value="0" class="sheet-short"></td>
                </tr>
            </table>
        </td>
    </tr>
</table>
 

<h2>Calculations</h2>
<table>
    <tr>
        <td>
            <table>
                <tr>
                    <th><h4>Attributes</h4></th>
                    <th>7/5/3 (any order)</th>
                </tr>
    {%- for attr_type in d.attribute_types %}
                <tr>
                    <th>{{ attr_type|title }}</th>
                    <input name="attr_base_{{ attr_type }}" type="hidden" value="0">
                    <td><input name="attr_base_{{ attr_type }}_disp" type="number" value="@{base_{{ attr_type }}}" class="sheet-short" disabled="true"></td>
                </tr>
    {%- endfor %}
            </table>
        </td>
        <td>
            <table>
                <tr>
                    <th><h4>Abilities</h4></th>
                    <th>13/9/5 (any order)</th>
                </tr>
    {%- for abil_type in d.ability_types %}
                <tr>
                    <th>{{ abil_type|title }}</th>
                    <input name="attr_base_{{ abil_type }}" type="hidden" value="0">
                    <td><input name="attr_base_{{ abil_type }}_disp" type="number" value="@{base_{{ abil_type }}}" class="sheet-short" disabled="true"></td>
                </tr>
    {%- endfor %}
            </table>
        </td>
        <td>
            <table>
                <tr>
                    <th><h4>Advantages</h4></th>
                    <th>5/7/3</th>
                </tr>
    {%- for attr_type in ["background", "virtue", "discipline"] %}
                <tr>
                    <th>{{ attr_type|title }}</th>
                    <input name="attr_base_{{ attr_type }}" type="hidden" value="0">
                    <td><input name="attr_base_{{ attr_type }}_disp" type="number" value="@{base_{{ attr_type }}}" class="sheet-short" disabled="true"></td>
                </tr>
    {%- endfor %}
            </table>
        </td>
        <td>
            <table>
                <tr>
                    <th><h4>Experience</h4></th>
                </tr>
                <tr>
                    <th></th>
                    <th>Avail</th>
                    <th>Spent</th>
                    <th>Left</th>
                </tr>
                <tr>
                    <th>Free</th>
                    <input name="attr_free_spent" type="hidden" value="0">
                    <td><input name="attr_free_avail" type="number" value="15" class="sheet-short" disabled="true"></td>
                    <td><input name="attr_free_spent_disp" type="number" value="@{free_spent}" class="sheet-short" disabled="true"></td>
                    <td><input name="attr_free_left" type="number" value="(@{free_avail} - @{free_spent})" class="sheet-short" disabled="true"></td>
                </tr>
                <tr>
                    <th>Experience</th>
                    <input name="attr_xp_spent" type="hidden" value="0">
                    <td><input name="attr_xp_avail" type="number" value="50" class="sheet-short"</td>
                    <td><input name="attr_xp_spent_disp" type="number" value="@{xp_spent}" class="sheet-short" disabled="true"></td>
                    <td><input name="attr_xp_left" type="number" value="(@{xp_avail} - @{xp_spent})" class="sheet-short" disabled="true"></td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<script type="text/worker">
const data = JSON.parse('{{ d.json_txt }}');
{{ d.worker_js }}
</script>

<!-- vim: set et fenc=utf-8 ff=unix sts=0 sw=4 ts=4 ft=javascript nowrap: -->

<rolltemplate class="sheet-rolltemplate-ironsworn">
    <table>
        {{#action}}
        <tr>
            <td colspan="2" class="sheet-subheader">{{header}}</td>
        </tr>
        <tr>
            <th colspan="2">{{name}}</th>
        </tr>
        {{#rollTotal() action momentum_cancel}}
        <tr>
            <td>Action Die:</td>
            <td>{{fake_roll}}</td>
        </tr>
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-alert ">Action die cancelled for matching negative momentum.
            </td>
        </tr>
        <tr>
            <td>Stat + Add:</td>
            <td>{{stat}} + {{add}}</td>
        </tr>
        <tr>
            <td>Action Score:</td>
            <td>{{modifiers}}</td>
        </tr>
        <tr>
            <td><span>Challenge Dice: </span></td>
            <td><span>{{challenge1}} {{challenge2}}</span></td>
        </tr>
        {{#rollGreater() modifiers challenge1}}
        {{#rollTotal() challenge1 challenge2}}
        <!--CHALLENGE DIE MATCH-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-opportunity">Opportunity</td>
        </tr>
        {{/rollTotal() challenge1 challenge2}}
        {{#^rollTotal() challenge1 challenge2}}
        {{#rollGreater() modifiers challenge2}}
        <!--Strong Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-strong-hit">Strong Hit</td>
        </tr>
        {{/rollGreater() modifiers challenge2}}
        {{#^rollGreater() modifiers challenge2}}
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Weak Hit</td>
        </tr>
        {{/^rollGreater() modifiers challenge2}}
        {{/^rollTotal() challenge1 challenge2}}
        {{/rollGreater() modifiers challenge1}}
        {{#^rollGreater() modifiers challenge1}}
        {{#rollTotal() challenge1 challenge2}}
        <!--CHALLENGE DIE MATCH-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-complication">Complication</td>
        </tr>
        {{/rollTotal() challenge1 challenge2}}
        {{#^rollTotal() challenge1 challenge2}}
        {{#rollGreater() modifiers challenge2}}
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Weak Hit</td>
        </tr>
        {{/rollGreater() modifiers challenge2}}
        {{#^rollGreater() modifiers challenge2}}
        <!--Miss-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-miss">Miss</td>
        </tr>
        {{/^rollGreater() modifiers challenge2}}
        {{/^rollTotal() challenge1 challenge2}}
        {{/^rollGreater() modifiers challenge1}}
        {{/rollTotal() action momentum_cancel}}
        {{#^rollTotal() action momentum_cancel}}
        <tr>
            <td><span>Action Score: </span></td>
            <td><span>{{action}}</span></td>
        </tr>
        <tr>
            <td><span>Challenge Dice: </span></td>
            <td><span>{{challenge1}} {{challenge2}}</span></td>
        </tr>
        {{#rollGreater() action challenge1}}
        {{#rollTotal() challenge1 challenge2}}
        <!--CHALLENGE DIE MATCH-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-opportunity">Opportunity</td>
        </tr>
        {{/rollTotal() challenge1 challenge2}}
        {{#^rollTotal() challenge1 challenge2}}
        {{#rollGreater() action challenge2}}
        <!--Strong Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-strong-hit">Strong Hit</td>
        </tr>
        {{/rollGreater() action challenge2}}
        {{#^rollGreater() action challenge2}}
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Weak Hit</td>
        </tr>
        {{#rollGreater() momentum challenge2}}
        <tr>
            <td>Momentum:</td>
            <td>{{momentum}}</td>
        </tr>
        <!--Strong Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-strong-hit">Burn Momentum: Strong Hit</td>
        </tr>
        {{/rollGreater() momentum challenge2}}
        {{/^rollGreater() action challenge2}}
        {{/^rollTotal() challenge1 challenge2}}
        {{/rollGreater() action challenge1}}
        {{#^rollGreater() action challenge1}}
        {{#rollTotal() challenge1 challenge2}}
        <!--CHALLENGE DIE MATCH-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-complication">Complication</td>
        </tr>
        {{#rollGreater() momentum challenge1}}
        <tr>
            <td>Momentum:</td>
            <td>{{momentum}}</td>
        </tr>
        <!--Strong Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-strong-hit">Burn Momentum: Strong Hit</td>
        </tr>
        {{/rollGreater() momentum challenge1}}
        {{/rollTotal() challenge1 challenge2}}
        {{#^rollTotal() challenge1 challenge2}}
        {{#rollGreater() action challenge2}}
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Weak Hit</td>
        </tr>
        {{#rollGreater() momentum challenge1}}
        {{#rollGreater() momentum challenge2}}
        <tr>
            <td>Momentum:</td>
            <td>{{momentum}}</td>
        </tr>
        <!--Strong Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-strong-hit">Burn Momentum: Strong Hit</td>
        </tr>
        {{/rollGreater() momentum challenge2}}
        {{/rollGreater() momentum challenge1}}
        {{/rollGreater() action challenge2}}
        {{#^rollGreater() action challenge2}}
        <!--Miss-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-miss">Miss</td>
        </tr>
        {{#rollGreater() momentum challenge1}}
        {{#rollGreater() momentum challenge2}}
        <tr>
            <td>Momentum:</td>
            <td>{{momentum}}</td>
        </tr>
        <!--Strong Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-strong-hit">Burn Momentum: Strong Hit</td>
        </tr>
        {{/rollGreater() momentum challenge2}}
        {{#^rollGreater() momentum challenge2}}
        <tr>
            <td>Momentum:</td>
            <td>{{momentum}}</td>
        </tr>
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Burn Momentum: Weak Hit</td>
        </tr>
        {{/^rollGreater() momentum challenge2}}
        {{/rollGreater() momentum challenge1}}
        {{#^rollGreater() momentum challenge1}}
        {{#rollGreater() momentum challenge2}}
        <tr>
            <td>Momentum:</td>
            <td>{{momentum}}</td>
        </tr>
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Burn Momentum: Weak Hit</td>
        </tr>
        {{/rollGreater() momentum challenge2}}
        {{/^rollGreater() momentum challenge1}}
        {{/^rollGreater() action challenge2}}
        {{/^rollTotal() challenge1 challenge2}}
        {{/^rollGreater() action challenge1}}
        {{/^rollTotal() action momentum_cancel}}
        {{/action}}
        {{#vow}}
        <tr>
            <td colspan="2" class="sheet-subheader">{{header}}</td>
        </tr>
        <tr>
            <th colspan="2">{{vowname}}</th>
        </tr>
        <tr>
            <td><span>Vow Progress: </span></td>
            <td><span>{{vow}}</span></td>
        </tr>
        <tr>
            <td><span>Challenge Dice: </span></td>
            <td><span>{{challenge1}} {{challenge2}}</span></td>
        </tr>
        {{#rollGreater() vow challenge1}}
        {{#rollTotal() challenge1 challenge2}}
        <!--CHALLENGE DIE MATCH-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-opportunity">Opportunity</td>
        </tr>
        {{/rollTotal() challenge1 challenge2}}
        {{#^rollTotal() challenge1 challenge2}}
        {{#rollGreater() vow challenge2}}
        <!--Strong Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-strong-hit">Strong Hit</td>
        </tr>
        {{/rollGreater() vow challenge2}}
        {{#^rollGreater() vow challenge2}}
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Weak Hit</td>
        </tr>
        {{/^rollGreater() vow challenge2}}
        {{/^rollTotal() challenge1 challenge2}}
        {{/rollGreater() vow challenge1}}
        {{#^rollGreater() vow challenge1}}
        {{#rollTotal() challenge1 challenge2}}
        <!--CHALLENGE DIE MATCH-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-complication">Complication</td>
        </tr>
        {{/rollTotal() challenge1 challenge2}}
        {{#^rollTotal() challenge1 challenge2}}
        {{#rollGreater() vow challenge2}}
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Weak Hit</td>
        </tr>
        {{/rollGreater() vow challenge2}}
        {{#^rollGreater() vow challenge2}}
        <!--Miss-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-miss">Miss</td>
        </tr>
        {{/^rollGreater() vow challenge2}}
        {{/^rollTotal() challenge1 challenge2}}
        {{/^rollGreater() vow challenge1}}
        {{/vow}}
        {{#progress}}
        <tr>
            <td colspan="2" class="sheet-subheader">{{header}}</td>
        </tr>
        <tr>
            <th colspan="2">{{progressname}}</th>
        </tr>
        <tr>
            <td><span>Progress: </span></td>
            <td><span>{{progress}}</span></td>
        </tr>
        <tr>
            <td><span>Challenge Dice: </span></td>
            <td><span>{{challenge1}} {{challenge2}}</span></td>
        </tr>
        {{#rollGreater() progress challenge1}}
        {{#rollTotal() challenge1 challenge2}}
        <!--CHALLENGE DIE MATCH-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-opportunity">Opportunity</td>
        </tr>
        {{/rollTotal() challenge1 challenge2}}
        {{#^rollTotal() challenge1 challenge2}}
        {{#rollGreater() progress challenge2}}
        <!--Strong Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-strong-hit">Strong Hit</td>
        </tr>
        {{/rollGreater() progress challenge2}}
        {{#^rollGreater() progress challenge2}}
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Weak Hit</td>
        </tr>
        {{/^rollGreater() progress challenge2}}
        {{/^rollTotal() challenge1 challenge2}}
        {{/rollGreater() progress challenge1}}
        {{#^rollGreater() progress challenge1}}
        {{#rollTotal() challenge1 challenge2}}
        <!--CHALLENGE DIE MATCH-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-complication">Complication</td>
        </tr>
        {{/rollTotal() challenge1 challenge2}}
        {{#^rollTotal() challenge1 challenge2}}
        {{#rollGreater() progress challenge2}}
        <!--Weak Hit-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-weak-hit">Weak Hit</td>
        </tr>
        {{/rollGreater() progress challenge2}}
        {{#^rollGreater() progress challenge2}}
        <!--Miss-->
        <tr>
            <td colspan="2" class="sheet-subfooter sheet-miss">Miss</td>
        </tr>
        {{/^rollGreater() progress challenge2}}
        {{/^rollTotal() challenge1 challenge2}}
        {{/^rollGreater() progress challenge1}}
        {{/progress}}
        {{#custom}}
        {{#header}}
        <tr>
            <td colspan="2" class="sheet-subheader">{{header}}</td>
        </tr>
        {{/header}}
        <tr>
            <th colspan="2">{{name}}</th>
        </tr>
        {{#allprops() custom name header}}
        <tr>
            <td><span>{{key}}</span></td>
            <td><span>{{value}}</span></td>
        </tr>
        {{/allprops() custom name header}}
        {{/custom}}
    </table>
</rolltemplate>
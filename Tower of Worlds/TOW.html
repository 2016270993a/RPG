<h1> Tower Of Worlds Fiche de Personnage </h1>
<hr> <!--/-->
Nom du personnage: <input type="text" name="attr_character_name" value="votre nom" />
Genre/sexe: <input type="text" name="attr__gender" value="M/F" />
<br>
Race: <input type="text" name="attr_character_race" value="race"/>
Classe: <input type="text" name="attr_character_class" value="classe"/>
<br><br>
<!--trouvé le moyen de transmettre les caractéristiques sur les PV MAX et MANA MAX-->
<strong> Health: </strong>
<input type="number" name="attr_hp" value="0"/>
<text> / </text>
<input type="number" name="attr_hp_max" value="0"/>
<!-- mettre un espace entre les deux -->
<strong> Mana: </strong>
<input type="number" name="attr_mp" value="0"/>
<text> / </text>
<input type="number" name="attr_mp_max" value="0"/>
<hr>
<h2>Character Stats</h2>
<br>
<!--To do: ajouté le script TOW a la fin pour chaque caractéristiques.-->
<!--To do: ajouté un système d'exp pour chaque caractéristique.-->
<!--To do: ajouté plus d'effet a chaque caractéristiques (ajoute de PV/Mana/initiatives...)-->
<!--strength-->
<h3> Force </h3>
<text>niveau</text> 
<input type="number" name="attr_Strength" value="4" />
<button name="roll_Strength" type='roll' value="/em @{character_name} utilise sa force...
/roll 1d10 + @{Strength_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Strength_mod" value="0" readonly/>
<br>
<!--Constitution-->
<h3> Constitution </h3>
<text>niveau</text> 
<input type="number" name="attr_Constitution" value="4" />
<button name="roll_Constitution" type='roll' value="/em @{character_name} utilise sa constitution...
/roll 1d10 + @{Constitution_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Constitution_mod" value="0" readonly/>
<br>
<!--Dexterity-->
<h3> Dextérité </h3>
<text>niveau</text> 
<input type="number" name="attr_Dexterity" value="4" />
<button name="roll_Dexterity" type='roll' value="/em @{character_name} utilise sa dextérité...
/roll 1d10 + @{Dexterity_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Dexterity_mod" value="0" readonly/>
<br>
<!--Perception-->
<h3> Perception </h3>
<text>niveau</text> 
<input type="number" name="attr_Perception" value="4" />
<button name="roll_Perception" type='roll' value="/em @{character_name} utilise sa perception...
/roll 1d10 + @{Perception_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Perception_mod" value="0" readonly/>
<br>
<!--Relational-->
<h3> Relationnelle </h3>
<text>niveau</text> 
<input type="number" name="attr_Relational" value="4" />
<button name="roll_Relational" type='roll' value="/em @{character_name} utilise son relationnelle...
/roll 1d10 + @{Relational_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Relational_mod" value="0" readonly/>
<br>
<!--Will-->
<h3> Volonté </h3>
<text>niveau</text> 
<input type="number" name="attr_Will" value="4" />
<button name="roll_Will" type='roll' value="/em @{character_name} utilise sa volonté...
/roll 1d10 + @{Will_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Will_mod" value="0" readonly/>
<br>
<!--intellect-->
<h3> Intelligence </h3>
<text>niveau</text> 
<input type="number" name="attr_Intellect" value="4" />
<button name="roll_Intellect" type='roll' value="/em @{character_name} utilise son intelligence...
/roll 1d10 + @{Intellect_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Intellect_mod" value="0" readonly/>
<br>
<!--knowledge-->
<h3> Connaissance </h3>
<text>niveau</text> 
<input type="number" name="attr_Knowledge" value="4" />
<button name="roll_Knowledge" type='roll' value="/em @{character_name} utilise sa connaissance...
/roll 1d10 + @{Knowledge_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Knowledge_mod" value="0" readonly/>
<br>
<!--Mana "Nexus"-->
<h3> Liaison Magique </h3>
<text>niveau</text> 
<input type="number" name="attr_Nexus" value="4" />
<button name="roll_Nexus" type='roll' value="/em @{character_name} utilise sa liaison au mana...
/roll 1d10 + @{Nexus_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Nexus_mod" value="0" readonly/>
<br>
<!--magic "Control"-->
<h3> Maitrise Magique </h3>
<text>niveau</text> 
<input type="number" name="attr_Control" value="4" />
<button name="roll_Control" type='roll' value="/em @{character_name} utilise sa maitrise de la magie...
/roll 1d10 + @{Control_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Control_mod" value="0" readonly/>
<br>
<!--Magic "Resilience"-->
<h3> résistance Magique </h3>
<text>niveau</text> 
<input type="number" name="attr_Resilience" value="4" />
<button name="roll_Resilience" type='roll' value="/em @{character_name} utilise sa résistance magique...
/roll 1d10 + @{Resilience_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Resilience_mod" value="0" readonly/>
<br>
<!--6TH sense-->
<h3> 6ème sens </h3>
<text>niveau</text> 
<input type="number" name="attr_Sense" value="4" />
<button name="roll_Sense" type='roll' value="/em @{character_name} utilise son 6ème sens...
/roll 1d10 + @{Sense_mod}"></button>
<text>Stat Mod</text> 
<input type="text" name="attr_Sense_mod" value="0" readonly/>
<hr>
<!--faire un vrai système monétaire.-->
<h2>Possessions</h2>
<strong>pièce de cuivre:</strong> <input type="number" name="attr_copper" value="0"/>
<strong>pièce d'argent:</strong> <input type="number" name="attr_silver" value="0"/>
<strong>pièce d'or:</strong> <input type="number" name="attr_gold" value="0"/>
<br>
<strong>cristal mineur:</strong> <input type="number" name="attr_minor" value="0"/>
<strong>cristal moyen:</strong> <input type="number" name="attr_medium" value="0"/>
<strong>cristal supérieur:</strong> <input type="number" name="attr_superior" value="0"/><br>
(10 pièce de cuivre = 1 pièce d'argent/ 10 argent = 10 or. ext)
<br>
<strong>Inventory</strong>
<br>
<textarea name="attr_inventory" rows="10" cols="10">Describe your belongings.</textarea>
<br>
<!--rendre le systéme d'équipement fonctionnelle (actuellement HS)-->
<h2>équipement</h2>
<fieldset class="repeating_weapons"> 
<Strong>Name:</Strong>
<input type="text" name="attr_weaponName" /> 
Stat:
<select name="attr_weaponStat">
    <option selected disabled>None</option>
    <option>Strength</option>
    <option>Constitution</option>
    <option>Dexterity</option>
    <option>Perception</option>
    <option>Relational</option>
    <option>Will</option>
    <option>Intellect</option>
    <option>Knowledge</option>
    <option>Nexus</option>
    <option>Control</option>
    <option>Resilience</option>
    <option>Sense</option>
</select>
<!-- <input type="text" name="attr_weaponStat" /> -->
Roll Bonus: 
<input type="text" name="attr_weaponDiceBonus" value="+0"/>
<br>
<Strong>Description</Strong>
<textarea name="attr_weaponDescription" rows="5" cols="5">description de l'objet.</textarea>
</fieldset>
<hr>
<!--créé système pour magie rapide-->


<h2>Description du personnage</h2>
<br>
<strong>Backstory et autres info</strong> <br>
<textarea name="attr_story" rows="10" cols="10">ici seront noté les informations principales sur le personnage

origine:

comment c'est il retrouvé en prison:

objectif:

Special: </textarea>
<br><br>

<!--description racial standard-->
<strong>Racial description</strong>
<br>
<textarea name="attr_racedesc" rows="8" cols="10">description racial + compétences racial (Le MJ s'en chargera)</textarea>
<br><br>

<hr>
<br>
TOW (Tower Of Worlds) System by Clément Verkimpe, Alias Rhyme.

<script type="text/worker">
    // .. Update button for STAT MODS
    /*
    on("change:repeating_affinity", function() {
        getAttrs(["repeating_affinity_type","repeating_affinity_effect"], function(values) {
           setAttrs({
               repeating_affinity_effect: values.repeating_affinity_type
           }) 
        }); 
    });
    */
    on("sheet:opened change:Strength change:Constitution change:Dexterity change:Perception change:Relational change:Will change:Intellect change:Knowledge change:Nexus change:Control change:Resilience change:Sense", function() {
        getAttrs(["Strength","Constitution","Dexterity","Perception","Relational","Will","Intellect","Knowledge","Nexus","Control","Resilience","Sense"], function(values) {
            //Do something with values.Strength
            function getModifier(stat)
            {
                let statMod = 0;
                let statFlat = stat;
                if(statFlat <= 0){
                    // .. Lowest Mod Possible
                    statMod = "-4";
                }else if(statFlat < 20 ){
                    // .. No additives here
                    statMod = (statFlat - 3).toString();    
                }else{
                    // .. Apply the function for all further values
                    statMod = "4 + "
                }
                return statMod;
            }
            let StrengthMod = getModifier(values.Strength);
            let ConstitutionhMod = getModifier(values.Constitution);
            let DexterityMod = getModifier(values.Dexterity);
            let PerceptionhMod = getModifier(values.Perception);
            let RelationalMod = getModifier(values.Relational);
            let WillMod = getModifier(values.Will);
            let IntellectMod = getModifier(values.Intellect);
            let KnowledgeMod = getModifier(values.Knowledge);
            let NexushMod = getModifier(values.Nexus);
            let ControlMod = getModifier(values.Control);
            let ResilienceMod = getModifier(values.Resilience);
            let SenseMod = getModifier(values.Sense);
            
            setAttrs({
                Strength_mod: StrengthMod,
                Constitution_mod: ConstitutionMod,
                Dexterity_mod: DexterityMod,
                Perception_mod: PerceptionMod,
                Relational_mod: RelationalMod,
                Will_mod: WillMod,
                Intellect_mod: IntellectMod,
                Knowledge_mod: KnowledgeMod,
                Nexus_mod: NexusMod,
                Control_mod: ControlMod,
                Resilience_mod: ResilienceMod,
                Sense_mod: SenseMod,
          });
       });
    });

</script>

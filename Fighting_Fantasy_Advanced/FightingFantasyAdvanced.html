<div class="main-content" style="max-width:1000px; position:relative; margin: 0 auto;">

  <div class="heroSection">
    <!--#region Hero Info-->
    <details open>
      <summary>hero info</summary>
      <div class="heroInfo">


        <div class="nameRaceAgeExp">
          <div class="heroName">
            <span>Name</span>
            <input type="text" name="attr_character_name" class="attr_character_name">
          </div>

          <div class="heroRace">
            <span>Race</span>
            <input type="text" name="attr_heroRace" class="heroRace" maxlength="10" style="width:60px">
          </div>

          <div class="heroAge">
            <span>Age</span>
            <input type="number" name="attr_heroAge" class="heroAge">
          </div>

          <div class="heroExp">
            <span>Experience</span>
            <input type="number" name="attr_heroExp" class="heroExp">
          </div>
        </div>

        <div class="descriptionClassGoldSilverProvisions">
          <div class="heroDescription">
            <span>Description</span>
            <input type="text" name="attr_heroDescription" class="heroDescription">
          </div>

          <div class="heroClass">
            <span>Social Class</span>
            <input type="number" name="attr_heroClass" class="heroClass" size="2" />
          </div>



          <div class="heroGold">
            <span>GP</span>
            <input type="number" name="attr_heroGold">
          </div>

          <div class="heroSilver">
            <span>SP</span>
            <input type="number" name="attr_heroSilver" class="heroSilver">
          </div>

          <div class="heroProvisions">
            <span>Provisions</span>
            <input type="number" name="attr_heroProvisions" class="heroProvisions">
          </div>
        </div>



    </details>


    <!--#endregion Hero Info-->

    <!--#region Hero Stats-->
    <details open>
      <summary>hero stats</summary>

      <div class="heroStats">

        <div style="display:grid; grid-template-columns: auto auto auto auto auto;">
          <div class="heroSkill stat ">
            <div style="display:flex; justify-content: center; width:100%;  align-items:flex-start">
              <label style="margin-top:3px; width:50%;">Skill </label>
              <button type="roll" value="[[2d6+@{heroSkill}]]"></button>
            </div>

            <input type="number" size="2" name="attr_heroSkill" autofocus />
          </div>

          <div class="heroStamina stat ">
            <label>Stamina</label>
            <input type="number" size="2" name="attr_heroStamina" />
          </div>

          <div class="heroLuck stat ">
            <label>Luck</label>
            <input type="number" size="2" name="attr_heroLuck" />
          </div>

          <div class="heroMagic stat ">
            <label>Magic</label>
            <input type="number" size="2" name="attr_heroMagic" />
          </div>

          <div class="heroMagicPoints stat ">
            <label>Magic Points</label>
            <input type="number" size="2" name="attr_heroMagicPoints" />
          </div>
        </div>

        <div class="talentsAndBackstory">
          <div class="heroTalents">
            <span>Talents</span>
            <textarea></textarea>
          </div>
          <div class="heroBackStory">
            <span>Backstory</span>
            <textarea name="attr_heroBackStory" class="heroBackStory"></textarea>
          </div>
        </div>
      </div>

    </details>
    <!--#endregion Hero Stats-->


  </div>

  <div style="display:flex; justify-content: space-around;">
    <div>Skills
      <fieldset class="repeating_skills">
        <input type="text" />
        <input type="number" size="2" />
      </fieldset>
    </div>

    <div style="display:flex; flex-flow: column;">
      <div>Cantrips
        <fieldset class="repeating_cantrips">
          <input type="text" />
        </fieldset>
      </div>
      <div>Spells
        <fieldset class="repeating_spells">
          <input type="text" />
        </fieldset>
      </div>
    </div>




    <div>Equipments
      <fieldset class="repeating_equipments">
        <input type="text" />
      </fieldset>
    </div>
    <div style="display:flex; flex-flow: column;">
      <div>Weapon
        <fieldset class="repeating_weapon">
          <div style="margin:10px 0">
            <input type="text" style="width:80px" />
            <input type="number" size="2" style="font-size:10px; width:15px; height:15px;" />
            <input type="number" size="2" style="font-size:10px; width:15px; height:15px;" />
            <input type="number" size="2" style="font-size:10px; width:15px; height:15px;" />
            <input type="number" size="2" style="font-size:10px; width:15px; height:15px;" />
            <input type="number" size="2" style="font-size:10px; width:15px; height:15px;" />
            <input type="number" size="2" style="font-size:10px; width:15px; height:15px;" />
            <input type="number" size="2" style="font-size:10px; width:15px; height:15px;" />
          </div>

        </fieldset>
      </div>

      <div>Armour
        <fieldset class="repeating_armour">
          <input type="text" />
        </fieldset>
      </div>
    </div>
  </div>




</div>
<script type="text/worker">
on('sheet:opened', function(){

  getAttrs(['character_name'], function(v){
    console.log(typeof v.character_name)
    console.log(v.character_name)
  })
 
})

on('change:heroSkill', function(){

  getAttrs(["heroSkill"], function(v){

    let skill = parseInt(v.heroSkill)
    if(skill > 18 || skill < 0 || skill == "") {
      setAttrs({heroSkill: 0})
    }else {
      setAttrs({heroSkill: skill})
    }
    console.log(skill)
  })

  })


</script>
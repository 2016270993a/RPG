<div>
	<button type="action" name="act_character">Character</button>
	<button type="action" name="act_notes">Notes</button>
	<button type="action" name="act_settings">Settings</button>
</div>
<input type="hidden" class="sheet-tabs-toggle" name="attr_sheetTab"  value="character"  />

<input type="hidden" class="sheet-color-toggle" name="attr_sheetColor"  value="red"  />
<div class="sheet-character-sheet">
	<div align="center">
		<input class="sheet-gimmick-input" type="text" name="attr_gimmick_name" placeholder="gimmick" />
		<h3>Now Making Their Way to the Ring</h3>
		<input class="sheet-char-name" type="text" name="attr_character_name" placeholder="wrestler name"/>
		<div>
			<textarea class="sheet-char-desc" name="attr_character_description" placeholder="Enter character description..." />
		</div>
	</div>
	<div class="sheet-role-grid">
		<div class="role-box1">
			<h4>Hailing From</h4>
			<textarea class="sheet-role-textarea" name="attr_hailing_from"/>
		</div>
		<div class="role-box2">
			<h4>Entrance</h4>
			<textarea class="sheet-role-textarea" name="attr_entrance" />
		</div>
		<div class="sheet-stats-grid role-box3">
			<div>
				<input class="sheet-stat-input" type="number" step="1" min="-2" max="3" name="attr_body">
			</div>
			<div>
				<button class="sheet-stat-roll" type="roll" name="roll_body" value="&{template:rollstat} {{statName=Body}} {{charName=@{character_name} }} {{statValue=@{body} }} {{statResult=[[2d6+@{body}]]}}" /><span class="stat-label">Body</span>
			</div>
			<div>
				<p class="stat-desc">Athletic Feat / Wrestling</p>
			</div>
			
			<div>
				<input class="sheet-stat-input" type="number" step="1" min="-2" max="3" name="attr_look">
			</div>
			<div>
				<button class="sheet-stat-roll" type="roll" name="roll_look" value="&{template:rollstat} {{statName=Look}} {{charName=@{character_name} }} {{statValue=@{look} }} {{statResult=[[2d6+@{look}]]}}" /><span class="stat-label">Look</span>
			</div>
			<div>
				<p class="stat-desc">Cut a Promo</p>
			</div>

			<div>
				<input class="sheet-stat-input" type="number" step="1" min="-2" max="3" name="attr_real">
			</div>
			<div>
				<button class="sheet-stat-roll" type="roll" name="roll_real" value="&{template:rollstat} {{statName=Real}} {{charName=@{character_name} }} {{statValue=@{real} }} {{statResult=[[2d6+@{real}]]}}" /><span class="stat-label">Real</span>
			</div>
			<div>
				<p class="stat-desc">Break Kayfabe / Work Real Stiff</p>
			</div>
			
			<div>
				<input class="sheet-stat-input" type="number" step="1" min="-2" max="3" name="attr_work">
			</div>
			<div>
				<button class="sheet-stat-roll" type="roll" name="roll_work" value="&{template:rollstat} {{statName=Work}} {{charName=@{character_name} }} {{statValue=@{work} }} {{statResult=[[2d6+@{Work}]]}}" /><span class="stat-label">Work</span>
			</div>
			<div>
				<p class="stat-desc">Wrestling</p>
			</div>
			
		</div>
		<div class="sheet-role-box role-box4">
			<h2>Choose Your Role</h2>
			<hr style="height:1px;width:90%;margin-top:1px;margin-bottom:1px;color:gray;background-color:gray">
			<div class="sheet-role-selector-grid">
				<div></div>
				<div>
					<input type="radio" class="sheet-role-radio" name="attr_role" value="babyface">
					<label class="sheet-role-label" for="babyface">Babyface</label><br>
					<p class="sheet-arsenal-italic" style="line-height:70%">You are a hero.</p>
				</div>
				<div><p class="sheet-kulim-bold">VS</p></div>
				<div>
					<input type="radio" class="sheet-role-radio" name="attr_role" value="heel">
					<label class="sheet-role-label" for="heel">Heel</label><br>
					<p class="sheet-arsenal-italic" style="line-height:70%">You are a villain.</p>
				</div>
				<div></div>
			</div>
			<div style="padding: 6px 6px 6px 6px;">
				<p class="sheet-arsenal-normal">Start with +1 Heat with wrestlers of the opposite Role.</p>
				<p class="sheet-arsenal-normal">You can use the Move of the same name by spending 2 Momentum.</p>
				<p class="sheet-arsenal-normal">When you <strong>deliberately act against your role</strong>, it’s a Face Turn or a Heel Turn. Switch Roles, and gain +1 Heat with who you turn on (or away from).<p>
			</div>
		</div>
	</div>
	<div class="sheet-heat-grid">
		<div class="heat-box1">
			<p class="stat-label">Heat</p>
			<p class="stat-desc">Roll +Heat for: Run-In, Wrestling</p>
			
			<fieldset class="repeating_wrestler-heat">
				<div class="sheet-wrestler-heat-grid">
					<div>
						<button class="sheet-heat-roll" type="roll" name="roll_heat" value="&{template:rollstat} {{statName=Heat with @{wrestler_name}}} {{charName=@{character_name} }} {{statValue=@{wrestler_heat} }} {{statResult=[[2d6+@{wrestler_heat}]]}}" />
					</div>
					<div>
						<input class="sheet-heat-input" type="number" step="1" min="0" max="4" name="attr_wrestler_heat">
					</div>
					<div>
						<input class="sheet-wrestler-input" type="text" name="attr_wrestler_name" placeholder="wrestler name"/>
					</div>
				</div>
			</fieldset>
			
			<p class="sheet-arsenal-normal" style="padding-top:4px">When you wrestle someone you have +4 Heat with, <strong>gain +1 Audience</strong>. If you don’t cross paths with someone in an Episode, <strong>lose -1 Heat</strong> with them.</p>
		</div>
		<div class="heat-box2">
			<div class="sheet-momentum-grid">
				<div class="momentum-box1">
					<input class="sheet-stat-input" type="number" step="1" min="0" name="attr_momentum">
				</div>
				<div class="momentum-box2">
					<span class="stat-label">Momentum</span>
				</div>
				<div class="momentum-box3">
					<p class="stat-desc">Spend to add to your<br/>result after any roll</p>
				</div>
			</div>
		</div>
		<div class="heat-box3"  style="padding: 6px 6px 6px 6px;">
			<p class="stat-label" style="text-align:center;">Want</p>
			<p class="sheet-arsenal-normal">Pick the desire that <em>most</em> drives you. When you have a match that satisfies your Want, take an Advance and pick a new Want.</p>
			<textarea class="sheet-want-textarea" name="attr_want"/>
			<p class="sheet-arsenal-normal">You can also change Wants anytime (without taking an Advance).</p>
		</div>
	</div>

	<div class="sheet-moves-and-audience-grid">
		<div class="main-moves-box">
			<p class="stat-label">Your Moves</p>
			<fieldset class="repeating_move">
				<div class="sheet-moves-grid">
					<div class="moves-roll-setting-box">
						<select class="sheet-move-dropdown" name="attr_move_attribute">
							<option value="0" selected="selected">Finishing Move</option>
							<option value="@{body}">Body</option>
							<option value="@{look}">Look</option>
							<option value="@{real}">Real</option>
							<option value="@{wprk}">Work</option>
							<option value="@{audience}">Audience</option>
							<option value="-100">None</option>
						</select>
					</div>
					<div class="moves-roll-box">
						<button class="sheet-stat-roll" type="roll" name="roll_move" value="&{template:rollstat} {{statName=@{move_name}}} {{charName=@{character_name} }}  {{moveDesc=@{move_desc} }} {{statValue=@{move_attribute} }} {{noRollCheck=[[@{move_attribute}]]}} {{statResult=[[2d6+@{move_attribute}]]}}" />
					</div>
					<div class="moves-name-box">
						<input class="sheet-movename-input" type="text" name="attr_move_name" placeholder="move name"/>
					</div>
					<div class="moves-desc-box">
						<textarea class="sheet-movedesc-textarea" name="attr_move_desc"/>
					</div>
				</div>
			</fieldset>
		</div>
		<div class="audience-box">
			<p>
				<button class="sheet-audience-roll" type="roll" name="roll_audience" value="&{template:rollstat} {{statName=Audience}} {{charName=@{character_name} }} {{statValue=@{audience} }} {{statResult=[[2d6+@{audience}]]}}" /><span class="stat-label">Audience &nbsp;</span>
			</p>
			<p class="sheet-arsenal-normal">This is how popular you are with the crowd.</p>
			<p class="sheet-default-audience">You start and reset to audience: &nbsp;<input class="sheet-stat-input" type="number" step="1" min="0" name="attr_base_audience" style="position:relative;top:-1px;"></p>
			<div class="sheet-audience-grid">
				<input type="hidden" class="sheet-audience-toggle" name="attr_audienceType"  value="standard" />
				<div class="audience-top1"><input type="checkbox" name="attr_topspot"> Top Spot</div>
				<div class="audience-top2">Gain an Advance. Anyone you knock out of the Top Spot resets their Audience. Make the <span class="sheet-over-text">Over</span> Move at the top of each Episode!</div>
				<div class="audience-box1"><input type="radio" name="attr_audience" value="4"> +4</div>
				<div class="audience-box2">
					<input type="hidden" class="sheet-audience-toggle" name="attr_audienceType"  value="standard" />
					<div class="sheet-audience-standard2">Start each Episode with 2 Momentum.</div>
					<div class="sheet-audience-jobber2">Gain an Advance. If you end an Episode at +4, <strong>you can choose to <em>repackage</em></strong> to any other Gimmick. If you choose to stay a Jobber, reset to +1 at the beginning of the next Episode.</div>
				</div>
				<div class="audience-box1"><input type="radio" name="attr_audience" value="3"> +3</div>
				<div class="audience-box2">Start each Episode with 2 Momentum.</div>
				<div class="audience-box1"><input type="radio" name="attr_audience" value="2"> +2</div>
				<div class="audience-box2">Start each Episode with 1 Momentum.</div>
				<div class="audience-box1"><input type="radio" name="attr_audience" value="1"> +1</div>
				<div class="audience-box2">Start each Episode with 1 Momentum.</div>
				<div class="audience-box1"><input type="radio" name="attr_audience" value="0"> 0</div>
				<div class="audience-box2">
					<input type="hidden" class="sheet-audience-toggle" name="attr_audienceType"  value="standard" />
					<div class="sheet-audience-standard2">Gain an Advance. If you have 0 at the end of an Episode, you’re fired!</div>
					<div class="sheet-audience-jobber2">Gain an Advance. If you have 0 at the end of an Episode, reset your Audience!</div>
				</div>
			</div>
			
			<p class="stat-desc">Roll +Audience for: Work the Audience, Play Politics</p>
		</div>
		<div class="advances-box">
			<p class="sheet-arsenal-normal">You can spend Advances immediately, or bank them and spend them when you’d like.</p>
			<p class="stat-label">Banked Advances</p>
			<input class="sheet-stat-input" type="number" step="1" min="0" name="attr_banked_advances">
			<p class="sheet-arsenal-normal" style="padding-top:5px">Choose whether or not to remove an Injury every time you spend an Advance.</p>
			<p class="stat-label">Injuries</p>
			<span class="sheet-arsenal-normal" style="margin-left:20px"><input class="sheet-stat-input" type="number" step="1" min="0" name="attr_injuries"> / <input class="sheet-stat-input" type="number" step="1" min="0" name="attr_injuries_max"> max</span>
		</div>
	</div>
</div>

<div class="sheet-notes">
	Info Sheet
</div>

<div class="sheet-settings-page">
	<div class="sheet-settings">
		<p class="stat-label">Audience Type</p>
		<input type="radio" class="sheet-audience-radio" name="attr_audience_setting" value="standard" checked>
		<label class="sheet-other-label" for="standard">Standard</label>
		<input type="radio" class="sheet-audience-radio" name="attr_audience_setting" value="jobber">
		<label class="sheet-other-label" for="standard">Jobber</label>
		<p class="stat-label">Sheet Color</p>
		<input type="radio" class="sheet-color-radio" name="attr_sheetcolor_setting" value="red" checked>
		<label class="sheet-other-label" for="standard">Red</label>
		<input type="radio" class="sheet-color-radio" name="attr_sheetcolor_setting" value="blue">
		<label class="sheet-other-label" for="standard">Blue</label>
		<input type="radio" class="sheet-color-radio" name="attr_sheetcolor_setting" value="green">
		<label class="sheet-other-label" for="standard">Green</label>
		<input type="radio" class="sheet-color-radio" name="attr_sheetcolor_setting" value="yellow">
		<label class="sheet-other-label" for="standard">Yellow</label>
		<input type="radio" class="sheet-color-radio" name="attr_sheetcolor_setting" value="purple">
		<label class="sheet-other-label" for="standard">Purple</label>
		<input type="radio" class="sheet-color-radio" name="attr_sheetcolor_setting" value="orange">
		<label class="sheet-other-label" for="standard">Orange</label>
	</div>
</div>

<script type="text/worker">
    const buttonlist = ["character","notes","settings"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });
</script>

<script type="text/worker">
    on("change:audience_setting", function() {
		getAttrs(["audience_setting"], function(values) {
			setAttrs({
				audienceType: values.audience_setting
			});
		});
    });
</script>

<script type="text/worker">
    on("change:sheetcolor_setting", function() {
		getAttrs(["sheetcolor_setting"], function(values) {
			setAttrs({
				sheetColor: values.sheetcolor_setting
			});
		});
    });
</script>

<rolltemplate class="sheet-rolltemplate-rollstat">
    <div class="sheet-roll-container">

		<div class="sheet-roll-header">
			<div class="sheet-roll-title">
				{{charName}}
			</div>
			{{^noRollCheck}}
				{{#statName}}
					<div class="sheet-roll-subtitle">
						{{statName}}: {{statValue}}
					</div> 
				{{/statName}}
			{{/noRollCheck}}
			
			{{#noRollCheck}}
				{{#rollTotal() noRollCheck -100}}
					{{#statName}}
						<div class="sheet-roll-subtitle">
							{{statName}}
						</div> 
					{{/statName}}
				{{/rollTotal() noRollCheck -100}}
				
				{{#^rollTotal() noRollCheck -100}}
					{{#statName}}
						<div class="sheet-roll-subtitle">
							{{statName}}: {{statValue}}
						</div> 
					{{/statName}}
				{{/^rollTotal() noRollCheck -100}}
			{{/noRollCheck}}
		</div>
		
		{{#statResult}}
			{{^noRollCheck}}
				<div class="sheet-roll-row">		
					{{#rollGreater() statResult 9}}
						{{statResult}}<br/>
						<span class="sheet-result-stronghit">10+</span>
					{{/rollGreater() statResult 9}}
					{{#rollBetween() statResult 7 9}}
						{{statResult}}<br/>
						<span class="sheet-result-weakhit">7-9</span>
					{{/rollBetween() statResult 7 9}}
					{{#rollLess() statResult 7}}
						{{statResult}}<br/>
						<span class="sheet-result-botch">Botch</span>
					{{/rollLess() statResult 7}}
				</div>
			{{/noRollCheck}}
			
			{{#noRollCheck}}
				{{#^rollTotal() noRollCheck -100}}
					<div class="sheet-roll-row">		
						{{#rollGreater() statResult 9}}
							{{statResult}}<br/>
							<span class="sheet-result-stronghit">10+</span>
						{{/rollGreater() statResult 9}}
						{{#rollBetween() statResult 7 9}}
							{{statResult}}<br/>
							<span class="sheet-result-weakhit">7-9</span>
						{{/rollBetween() statResult 7 9}}
						{{#rollLess() statResult 7}}
							{{statResult}}<br/>
							<span class="sheet-result-botch">Botch</span>
						{{/rollLess() statResult 7}}
					</div>
				{{/^rollTotal() noRollCheck -100}}
			{{/noRollCheck}}
		{{/statResult}}
		
		{{#moveDesc}}
			<div class="sheet-movedesc-row">		
				{{moveDesc}}
			</div>
		{{/moveDesc}}
	</div>
</rolltemplate>
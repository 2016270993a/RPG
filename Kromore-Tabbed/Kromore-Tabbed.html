<!DOCTYPE html>
<html>
    <script type="text/worker">
        on("change:Level", function() {
            getAttrs(["Level"], function(values) {
                setAttrs({
                    levelCP: parseInt(values.Level) >= 5 ? Math.floor(1 + (parseInt(values.Level) - 5) / 6) : 0
                });
            });
        });
        on("change:repeating_weapons:mainHand", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_weapons_", "").replace("_mainhand", "");
            getAttrs(["repeating_weapons_mainHand", "repeating_weapons_attribute", "repeating_weapons_size", "repeating_weapons_CP", "repeating_weapons_numDice", "repeating_weapons_dieType", "repeating_weapons_bonus", "mhId", "ohId", "ohSize"], function(values) {
                if (parseInt(values.repeating_weapons_mainHand) > 0) {
                    console.log("Detected that main hand has been switched to weapon with ID " + idOfUpdate);
                    var attrs = {
                        mhId: idOfUpdate,
                        mhAttribute: values.repeating_weapons_attribute ? values.repeating_weapons_attribute : '',
                        mhSize: values.repeating_weapons_size,
                        mhNumDice: values.repeating_weapons_numDice,
                        mhDieType: values.repeating_weapons_dieType,
                        mhBonus: values.repeating_weapons_bonus,
                        mhCP: values.repeating_weapons_CP
                    };
                    
                    if (values.mhId != null && values.mhId !== '') {
                        console.log("Unequipping weapon with ID " + values.mhId);
                        attrs["repeating_weapons_" + values.mhId + "_mainHand"] = 0;
                    }
                    
                    setAttrs(attrs);
                } else {
                    getAttrs(["mhId"], function(values) {
                        if (values.mhId != null && idOfUpdate === values.mhId) {
                            console.log("Detected that main hand weapon was unequipped");
                            setAttrs({
                                Dual: 0,
                                mhId: '',
                                mhSize: '',
                                mhNumDice: 0,
                                mhDieType: 'D4',
                                mhBonus: 0,
                                mh_cpPenalties: 0,
                                mh_cp: 0,
                                mhAttribute: '',
                                mhAttributeBonus: 0
                            });
                        }
                    });
                }
            });
        });
        on("change:repeating_weapons:offHand", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_weapons_", "").replace("_offhand", "");
            getAttrs(["repeating_weapons_offHand", "repeating_weapons_attribute", "repeating_weapons_size", "repeating_weapons_CP", "repeating_weapons_numDice", "repeating_weapons_dieType", "repeating_weapons_bonus", "ohId", "ohType", "mhId", "mhSize"], function(values) {
                if (parseInt(values.repeating_weapons_offHand) > 0) {
                    console.log("Detected that offhand has been switched to weapon with ID " + idOfUpdate);
                    var attrs = {
                        ohId: idOfUpdate,
                        ohType: 'weapon',
                        ohSize: values.repeating_weapons_size,
                        ohNumDice: values.repeating_weapons_numDice,
                        ohDieType: values.repeating_weapons_dieType,
                        ohBonus: values.repeating_weapons_bonus,
                        ohAttribute: values.repeating_weapons_attribute ? values.repeating_weapons_attribute : '',
                        ohCP: values.repeating_weapons_CP,
                        shieldDR: 0
                    }
                    
                    console.log("ohId: " + values.ohId + " ohType: " + values.ohType);
                    if (values.ohId != null && values.ohId !== '') {
                        if (values.ohType === 'weapon') {
                            console.log("Unequipping weapon with ID " + values.ohId);
                            attrs["repeating_weapons_" + values.ohId + "_offHand"] = 0;
                        } else {
                            console.log("Unequipping shield with ID " + values.ohId);
                            attrs["repeating_shields_" + values.ohId + "_offHand"] = 0;
                        }
                    }
                    
                    setAttrs(attrs);
                } else {
                    getAttrs(["ohId"], function(values) {
                        if (values.ohId != null && idOfUpdate === values.ohId) {
                            console.log("Detected that equipped offhand weapon was unequipped");
                            setAttrs({
                                Dual: 0,
                                ohId: '',
                                ohType: '',
                                ohSize: '',
                                ohNumDice: 0,
                                ohDieType: 'D4',
                                ohBonus: 0,
                                oh_cpPenalties: 0,
                                ohAttribute: '',
                                ohAttributeBonus: 0,
                                ohCP: 0,
                                shieldDR: 0,
                                shield_cpPenalties: 0,
                                shield_movementPenalties: 0
                            });
                        }
                    });
                }
            });
        });
        on("change:repeating_shields:offHand", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_shields_", "").replace("_offhand", "");
            getAttrs(["repeating_shields_offHand", "repeating_shields_CP", "repeating_shields_DR", "ohId", "ohType"], function(values) {
                if (parseInt(values.repeating_shields_offHand) > 0) {
                    console.log("Detected that offhand has been switched to shield with ID " + idOfUpdate);
                    var attrs = {
                        ohId: idOfUpdate,
                        ohType: 'shield',
                        ohSize: '',
                        ohNumDice: 0,
                        ohDieType: 'D4',
                        ohBonus: 0,
                        ohAttributeBonus: 0,
                        Dual: 0,
                        ohCP: values.repeating_shields_CP,
                        oh_cpPenalties: 0,
                        ohAttribute: '',
                        shieldDR: values.repeating_shields_DR
                    }
                    
                    if (values.ohId != null && values.ohId !== '') {
                        if (values.ohType === 'weapon') {
                            console.log("Unequipping weapon with ID " + values.ohId);
                            attrs["repeating_weapons_" + values.ohId + "_offHand"] = 0;
                        } else {
                            console.log("Unequipping shield with ID " + values.ohId);
                            attrs["repeating_shields_" + values.ohId + "_offHand"] = 0;
                        }
                    }
                    
                    setAttrs(attrs);
                } else {
                    getAttrs(["ohId"], function(values) {
                        if (values.ohId != null && idOfUpdate === values.ohId) {
                            console.log("Detected that equipped shield was unequipped");
                            setAttrs({
                                Dual: 0,
                                ohId: '',
                                ohType: '',
                                ohSize: '',
                                ohNumDice: 0,
                                ohDieType: 'D4',
                                ohBonus: 0,
                                oh_cpPenalties: 0,
                                ohAttribute: '',
                                ohAttributeBonus: 0,
                                ohCP: 0,
                                shieldDR: 0,
                                shield_cpPenalties: 0,
                                shield_movementPenalties: 0
                            });
                        }
                    });
                }
            });
        });
        on("change:repeating_armor:worn", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_armor_", "").replace("_worn", "");
            getAttrs(["repeating_armor_worn", "repeating_armor_CP", "armorId"], function(values) {
                if (parseInt(values.repeating_armor_worn) > 0) {
                    console.log("Detected that armor has been switched to armor with ID " + idOfUpdate);
                    var attrs = {
                        armorId: idOfUpdate,
                        armorCP: values.repeating_armor_CP
                    }
                    
                    if (values.armorId != null && values.armorId !== '') {
                        console.log("Unequipping armor with ID " + values.armorId);
                        attrs["repeating_armor_" + values.armorId + "_worn"] = 0;
                    }
                    
                    setAttrs(attrs);
                } else {
                    getAttrs(["armorId"], function(values) {
                        if (values.armorId != null && idOfUpdate === values.armorId) {
                            console.log("Detected that equipped armor was unequipped");
                            setAttrs({
                                armorId: '',
                                armorCP: '',
                                armor_cpPenalties: 0,
                                armor_movementPenalties: 0
                            });
                        }
                    });
                }
            });
        });
        on("change:repeating_armorset:worn", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_armorset_", "").replace("_worn", "");
            getAttrs(["repeating_armorset_worn", "repeating_armorset_CP", "armorId"], function(values) {
                if (parseInt(values.repeating_armorset_worn) > 0) {
                    console.log("Detected that armor set has been switched to armor set with ID " + idOfUpdate);
                    var attrs = {
                        armorsetId: idOfUpdate,
                        armorsetCP: values.repeating_armorset_CP
                    }
                    
                    if (values.armorsetId != null && values.armorsetId !== '') {
                        console.log("Unequipping armor set with ID " + values.armorsetId);
                        attrs["repeating_armorset_" + values.armorsetId + "_worn"] = 0;
                    }
                    
                    setAttrs(attrs);
                } else {
                    getAttrs(["armorsetId"], function(values) {
                        if (values.armorsetId != null && idOfUpdate === values.armorsetId) {
                            console.log("Detected that equipped armor set was unequipped");
                            setAttrs({
                                armorsetId: '',
                                armorsetCP: '',
                                armorset_cpPenalties: 0,
                                armorset_movementPenalties: 0
                            });
                        }
                    });
                }
            });
        });
        on("change:repeating_backplate:worn", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_backplate_", "").replace("_worn", "");
            getAttrs(["repeating_backplate_worn", "repeating_backplate_CP", "backplateId"], function(values) {
                if (parseInt(values.repeating_backplate_worn) > 0) {
                    console.log("Detected that backplate has been switched to backplate with ID " + idOfUpdate);
                    var attrs = {
                        backplateId: idOfUpdate,
                        backplateCP: values.repeating_backplate_CP
                    }
                    
                    if (values.backplateId != null && values.backplateId !== '') {
                        console.log("Unequipping backplate with ID " + values.backplateId);
                        attrs["repeating_backplate_" + values.backplateId + "_worn"] = 0;
                    }
                    
                    setAttrs(attrs);
                } else {
                    getAttrs(["backplateId"], function(values) {
                        if (values.backplateId != null && idOfUpdate === values.backplateId) {
                            console.log("Detected that equipped backplate was unequipped");
                            setAttrs({
                                backplateId: '',
                                backplateCP: '',
                                backplate_cpPenalties: 0,
                                backplate_movementPenalties: 0
                            });
                        }
                    });
                }
            });
        });
        on("change:MuscleTotal change:AgilityTotal change:IntellectTotal change:CharmTotal change:SoulTotal", function(eventInfo) {
            var attrBase = eventInfo.sourceAttribute.charAt(0).toUpperCase() + eventInfo.sourceAttribute.slice(1, -5);
            console.log("Detected change in " + attrBase);
            var attrLvl = attrBase != null && attrBase !== '' ? "Lv" + attrBase : null;
            var attrOrigin = attrBase != null && attrBase !== '' ? attrBase.substring(0, 3) + "3" : null;
            var attrRace = attrBase != null && attrBase !== '' ? attrBase.substring(0, 3) + "R" : null;
            var attrItem = attrBase != null && attrBase !== '' ? attrBase.substring(0, 3) + "I" : null;
            var attrBonus = attrBase + "Bonus";
            var attributesToRetrieve = ["mhAttribute", "ohAttribute", "ohType", attrBase, attrLvl, attrOrigin, attrRace, attrItem, attrBonus];
            getAttrs(attributesToRetrieve, function(values) {
                var attributeBonus = parseInt(values[attrBase]) + parseInt(values[attrLvl]) + parseInt(values[attrOrigin]) + parseInt(values[attrRace]) + parseInt(values[attrItem]) + parseInt(values[attrBonus]);
                var attrsToSet = {}
                if (values.mhAttribute === attrBase) {
                    console.log("Updating mhAttributeBonus to " + attributeBonus);
                    attrsToSet["mhAttributeBonus"] = attributeBonus
                }
                if (values.ohType === 'weapon' && values.ohAttribute === attrBase) {
                    console.log("Updating ohAttributeBonus to " + attributeBonus);
                    attrsToSet["ohAttributeBonus"] = attributeBonus
                }
                setAttrs(attrsToSet);
            });
        });
        on("change:CP1 change:CP2 change:CP3 change:CPR change:CPA change:CPP change:CPI change:levelCP change:CPBonus change:mhCP change:ohCP change:armorCP change:armorsetCP change:backplateCP", function(eventInfo) {
            console.log("Detected a change in CP value " + eventInfo.sourceAttribute);
            getAttrs(["CP1", "CP2", "CP3", "CPR", "CPA", "CPP", "CPI", "levelCP", "CPBonus", "mhId", "mhCP", "ohId", "ohCP", "ohType", "armorId", "armorCP", "armorsetId", "armorsetCP", "backplateId", "backplateCP"], function(values) {
                var totalCP = parseInt(values.CP1) + parseInt(values.CP2) + parseInt(values.CP3) + parseInt(values.CPR) + parseInt(values.CPA) + parseInt(values.CPP) + parseInt(values.CPI) + parseInt(values.levelCP) + parseInt(values.CPBonus);
                var attrsToSet = {}
                if (values.mhId != null) {
                    var newPenalty = Math.min(0, totalCP - parseInt(values.mhCP))
                    console.log("Updating mh_cpPenalties to " + newPenalty);
                    attrsToSet["mh_cpPenalties"] = newPenalty;
                }
                if (values.ohId != null) {
                    if (values.ohType === 'weapon') {
                        var newPenalty = Math.min(0, totalCP - parseInt(values.ohCP))
                        attrsToSet["oh_cpPenalties"] = newPenalty;
                        attrsToSet["shield_cpPenalties"] = 0;
                        attrsToSet["shield_movementPenalties"] = 0;
                        console.log("Updating oh_cpPenalties to " + newPenalty);
                    } else {
                        attrsToSet["oh_cpPenalties"] = 0;
                        var cpDifference = Math.min(0, totalCP - parseInt(values.ohCP));
                        if (cpDifference == 0) {
                            attrsToSet["shield_cpPenalties"] = 0;
                            attrsToSet["shield_movementPenalties"] = 0;
                        } else if (cpDifference == -1) {
                            attrsToSet["shield_cpPenalties"] = -1;
                            attrsToSet["shield_movementPenalties"] = 0;
                        } else if (cpDifference == -2) {
                            attrsToSet["shield_cpPenalties"] = -2;
                            attrsToSet["shield_movementPenalties"] = -5;
                        } else if (cpDifference == -3) {
                            attrsToSet["shield_cpPenalties"] = -4;
                            attrsToSet["shield_movementPenalties"] = -10;
                        } else if (cpDifference == -4) {
                            attrsToSet["shield_cpPenalties"] = -6;
                            attrsToSet["shield_movementPenalties"] = -15;
                        } else if (cpDifference == -5) {
                            attrsToSet["shield_cpPenalties"] = -10;
                            attrsToSet["shield_movementPenalties"] = -20;
                        } else if (cpDifference == -6) {
                            attrsToSet["shield_cpPenalties"] = -15;
                            attrsToSet["shield_movementPenalties"] = -25;
                        } else {
                            attrsToSet["shield_cpPenalties"] = -20;
                            attrsToSet["shield_movementPenalties"] = -30;
                        }
                        console.log("Updating shield_cpPenalties to " + attrsToSet["shield_cpPenalties"] + " and shield_movementPenalties to " + attrsToSet["shield_movementPenalties"]);
                    }
                }
                if (values.armorId != null) {
                    var cpDifference = Math.min(0, totalCP - parseInt(values.armorCP));
                    if (cpDifference == 0) {
                        attrsToSet["armor_cpPenalties"] = 0;
                        attrsToSet["armor_movementPenalties"] = 0;
                    } else if (cpDifference == -1) {
                        attrsToSet["armor_cpPenalties"] = -1;
                        attrsToSet["armor_movementPenalties"] = 0;
                    } else if (cpDifference == -2) {
                        attrsToSet["armor_cpPenalties"] = -2;
                        attrsToSet["armor_movementPenalties"] = -5;
                    } else if (cpDifference == -3) {
                        attrsToSet["armor_cpPenalties"] = -4;
                        attrsToSet["armor_movementPenalties"] = -10;
                    } else if (cpDifference == -4) {
                        attrsToSet["armor_cpPenalties"] = -6;
                        attrsToSet["armor_movementPenalties"] = -15;
                    } else if (cpDifference == -5) {
                        attrsToSet["armor_cpPenalties"] = -10;
                        attrsToSet["armor_movementPenalties"] = -20;
                    } else if (cpDifference == -6) {
                        attrsToSet["armor_cpPenalties"] = -15;
                        attrsToSet["armor_movementPenalties"] = -25;
                    } else {
                        attrsToSet["armor_cpPenalties"] = -20;
                        attrsToSet["armor_movementPenalties"] = -30;
                    }
                    console.log("Updating armor_cpPenalties to " + attrsToSet["armor_cpPenalties"] + " and armor_movementPenalties to " + attrsToSet["armor_movementPenalties"]);
                }
                if (values.armorsetId != null) {
                    var cpDifference = Math.min(0, totalCP - parseInt(values.armorsetCP));
                    if (cpDifference == 0) {
                        attrsToSet["armorset_cpPenalties"] = 0;
                        attrsToSet["armorset_movementPenalties"] = 0;
                    } else if (cpDifference == -1) {
                        attrsToSet["armorset_cpPenalties"] = -1;
                        attrsToSet["armorset_movementPenalties"] = 0;
                    } else if (cpDifference == -2) {
                        attrsToSet["armorset_cpPenalties"] = -2;
                        attrsToSet["armorset_movementPenalties"] = -5;
                    } else if (cpDifference == -3) {
                        attrsToSet["armorset_cpPenalties"] = -4;
                        attrsToSet["armorset_movementPenalties"] = -10;
                    } else if (cpDifference == -4) {
                        attrsToSet["armorset_cpPenalties"] = -6;
                        attrsToSet["armorset_movementPenalties"] = -15;
                    } else if (cpDifference == -5) {
                        attrsToSet["armorset_cpPenalties"] = -10;
                        attrsToSet["armorset_movementPenalties"] = -20;
                    } else if (cpDifference == -6) {
                        attrsToSet["armorset_cpPenalties"] = -15;
                        attrsToSet["armorset_movementPenalties"] = -25;
                    } else {
                        attrsToSet["armorset_cpPenalties"] = -20;
                        attrsToSet["armorset_movementPenalties"] = -30;
                    }
                    console.log("Updating armorset_cpPenalties to " + attrsToSet["armorset_cpPenalties"] + " and armorset_movementPenalties to " + attrsToSet["armorset_movementPenalties"]);
                }
                if (values.backplateId != null) {
                    var cpDifference = Math.min(0, totalCP - parseInt(values.backplateCP));
                    if (cpDifference == 0) {
                        attrsToSet["backplate_cpPenalties"] = 0;
                        attrsToSet["backplate_movementPenalties"] = 0;
                    } else if (cpDifference == -1) {
                        attrsToSet["backplate_cpPenalties"] = -1;
                        attrsToSet["backplate_movementPenalties"] = 0;
                    } else if (cpDifference == -2) {
                        attrsToSet["backplate_cpPenalties"] = -2;
                        attrsToSet["backplate_movementPenalties"] = -5;
                    } else if (cpDifference == -3) {
                        attrsToSet["backplate_cpPenalties"] = -4;
                        attrsToSet["backplate_movementPenalties"] = -10;
                    } else if (cpDifference == -4) {
                        attrsToSet["backplate_cpPenalties"] = -6;
                        attrsToSet["backplate_movementPenalties"] = -15;
                    } else if (cpDifference == -5) {
                        attrsToSet["backplate_cpPenalties"] = -10;
                        attrsToSet["backplate_movementPenalties"] = -20;
                    } else if (cpDifference == -6) {
                        attrsToSet["backplate_cpPenalties"] = -15;
                        attrsToSet["backplate_movementPenalties"] = -25;
                    } else {
                        attrsToSet["backplate_cpPenalties"] = -20;
                        attrsToSet["backplate_movementPenalties"] = -30;
                    }
                    console.log("Updating backplate_cpPenalties to " + attrsToSet["backplate_cpPenalties"] + " and backplate_movementPenalties to " + attrsToSet["backplate_movementPenalties"]);
                }
                setAttrs(attrsToSet);
            });
        });
        on("change:Dual_ability change:mhSize change:ohSize change:mhId change:ohId", function(eventInfo) {
            console.log("Detected change in character dual wielding value " + eventInfo.sourceAttribute);
            getAttrs(["Dual_ability", "mhSize", "ohSize", "mhId", "ohId", "ohType"], function(values) {
                var dual = 0
                if (values.mhId != null && values.mhId !== '' && values.ohId != null && values.ohId !== '' && values.ohType === 'weapon' && values.mhId !== values.ohId) {
                    dual = parseInt(values.Dual_ability)
                    var mhSize = values.mhSize
                    var ohSize = values.ohSize
                    if (mhSize === 'M' && ohSize === 'M') {
                        dual -= 9
                    } else if ((mhSize === 'M' && ohSize === 'S') || (mhSize === 'M' && ohSize === 'T') || (mhSize === 'S' && ohSize === 'M') || (mhSize === 'T' && ohSize === 'M')) {
                        dual -= 6
                    } else if (mhSize === 'S' && ohSize === 'S') {
                        dual -= 4
                    } else if ((mhSize === 'S' && ohSize === 'T') || (mhSize === 'T' && ohSize === 'S')) {
                        dual -= 3
                    } else if (mhSize === 'T' && ohSize === 'T') {
                        dual -= 2
                    }
                }
                console.log("Updating dual wielding modifier to " + dual);
                setAttrs({
                    Dual: dual
                });
            });
        });
        on("change:repeating_weapons:attribute", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_weapons_", "").replace("_attribute", "")
            getAttrs(["repeating_weapons_attribute", "mhId", "ohId"], function(values) {
                var newValue = values.repeating_weapons_attribute ? values.repeating_weapons_attribute : '';
                
                var updater = {};
                if (idOfUpdate === values.mhId) {
                    console.log("Changed mainhand weapon attribute benefit to " + newValue)
                    updater.mhAttribute = newValue;
                }
                if (idOfUpdate === values.ohId) {
                    console.log("Changed offhand weapon attribute benefit to " + newValue)
                    updater.ohAttribute = newValue;
                }
                setAttrs(updater);
            });
        });
        on("change:mhAttribute change:ohAttribute", function(eventInfo) {
            console.log("Detected change to " + eventInfo.sourceAttribute)
            var hand = eventInfo.sourceAttribute.substring(0, 2);
            var attr = hand + "Attribute";
            var attrToUpdate = hand + "AttributeBonus";
                
            getAttrs([attr], function(values) {
                var attrBase = values[attr];
                var updater = {};
                if (attrBase != null && attrBase !== '') {
                    var attrOrigin = attrBase.substring(0, 3) + "3";
                    var attrRace = attrBase.substring(0, 3) + "R";
                    var attrItem = attrBase.substring(0, 3) + "I";
                    var attrBonus = attrBase + "Bonus";
                    getAttrs([attrBase, attrOrigin, attrRace, attrItem, attrBonus], function(attributeValues) {
                        updater[attrToUpdate] = parseInt(attributeValues[attrBase]) + parseInt(attributeValues[attrOrigin]) + parseInt(attributeValues[attrRace]) + parseInt(attributeValues[attrItem]) + parseInt(attributeValues[attrBonus]);
                        console.log("Updating " + attrToUpdate + " to " + updater[attrToUpdate]);
                        setAttrs(updater);
                    });
                } else {
                    updater[attrToUpdate] = 0;
                    console.log("Updating " + attrToUpdate + " to 0");
                    setAttrs(updater);
                }
            });
        });
        on("change:repeating_weapons:numDice", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_weapons_", "").replace("_numdice", "")
            getAttrs(["repeating_weapons_numDice", "mhId", "ohId"], function(values) {
                var newValue = values.repeating_weapons_numDice ? values.repeating_weapons_numDice : 0;
                
                var updater = {};
                if (idOfUpdate === values.mhId) {
                    console.log("Changed mainhand weapon numDice to " + newValue)
                    updater.mhNumDice = newValue;
                }
                if (idOfUpdate === values.ohId) {
                    console.log("Changed offhand weapon numDice to " + newValue)
                    updater.ohNumDice = newValue;
                }
                setAttrs(updater);
            });
        });
        on("change:repeating_weapons:dieType", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_weapons_", "").replace("_dietype", "")
            getAttrs(["repeating_weapons_dieType", "mhId", "ohId"], function(values) {
                var newValue = values.repeating_weapons_dieType;
                
                var updater = {};
                if (idOfUpdate === values.mhId) {
                    console.log("Changed mainhand weapon dieType to " + newValue)
                    updater.mhDieType = newValue;
                }
                if (idOfUpdate === values.ohId) {
                    console.log("Changed offhand weapon dieType to " + newValue)
                    updater.ohDieType = newValue;
                }
                setAttrs(updater);
            });
        });
        on("change:repeating_weapons:bonus", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_weapons_", "").replace("_bonus", "")
            getAttrs(["repeating_weapons_bonus", "mhId", "ohId"], function(values) {
                var newValue = values.repeating_weapons_bonus;
                
                var updater = {};
                if (idOfUpdate === values.mhId) {
                    console.log("Changed mainhand weapon static bonus to " + newValue)
                    updater.mhBonus = newValue;
                }
                if (idOfUpdate === values.ohId) {
                    console.log("Changed offhand weapon static bonus to " + newValue)
                    updater.ohBonus = newValue;
                }
                setAttrs(updater);
            });
        });
        on("change:repeating_weapons:CP", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_weapons_", "").replace("_cp", "")
            getAttrs(["repeating_weapons_CP", "mhId", "ohId"], function(values) {
                var newValue = values.repeating_weapons_CP;
                
                var updater = {};
                if (idOfUpdate === values.mhId) {
                    console.log("Changed mainhand weapon CP to " + newValue)
                    updater.mhCP = newValue;
                }
                if (idOfUpdate === values.ohId) {
                    console.log("Changed offhand weapon CP to " + newValue)
                    updater.ohCP = newValue;
                }
                setAttrs(updater);
            });
        });
        on("change:repeating_weapons:size", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_weapons_", "").replace("_size", "")
            getAttrs(["repeating_weapons_size", "mhId", "ohId"], function(values) {
                var newValue = values.repeating_weapons_size;
                
                var updater = {};
                if (idOfUpdate === values.mhId) {
                    console.log("Changed mainhand weapon size to " + newValue)
                    updater.mhSize = newValue;
                }
                if (idOfUpdate === values.ohId) {
                    console.log("Changed offhand weapon size to " + newValue)
                    updater.ohSize = newValue;
                }
                setAttrs(updater);
            });
        });
        on("change:repeating_shields:DR", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_shields_", "").replace("_dr", "")
            getAttrs(["repeating_shields_DR", "ohId"], function(values) {
                var newValue = values.repeating_shields_DR;
                
                var updater = {};
                if (idOfUpdate === values.ohId) {
                    console.log("Changed shield DR to " + newValue)
                    setAttrs({
                        shieldDR: newValue
                    });
                }
            });
        });
        on("change:repeating_shields:CP", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_shields_", "").replace("_cp", "")
            getAttrs(["repeating_shields_CP", "ohId"], function(values) {
                var newValue = values.repeating_shields_CP;
                
                var updater = {};
                if (idOfUpdate === values.ohId) {
                    console.log("Changed shield CP to " + newValue)
                    setAttrs({
                        ohCP: newValue
                    });
                }
            });
        });
        on("change:repeating_armor:CP", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_armor_", "").replace("_cp", "")
            getAttrs(["repeating_armor_CP", "armorId"], function(values) {
                var newValue = values.repeating_armor_CP;
                
                var updater = {};
                if (idOfUpdate === values.armorId) {
                    console.log("Changed armor CP to " + newValue)
                    setAttrs({
                        armorCP: newValue
                    });
                }
            });
        });
        on("change:repeating_armorset:CP", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_armorset_", "").replace("_cp", "")
            getAttrs(["repeating_armorset_CP", "armorsetId"], function(values) {
                var newValue = values.repeating_armorset_CP;
                
                var updater = {};
                if (idOfUpdate === values.armorsetId) {
                    console.log("Changed armorset CP to " + newValue)
                    setAttrs({
                        armorsetCP: newValue
                    });
                }
            });
        });
        on("change:repeating_backplate:CP", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_backplate_", "").replace("_cp", "")
            getAttrs(["repeating_backplate_CP", "backplateId"], function(values) {
                var newValue = values.repeating_backplate_CP;
                
                var updater = {};
                if (idOfUpdate === values.backplateId) {
                    console.log("Changed backplate CP to " + newValue)
                    setAttrs({
                        backplateCP: newValue
                    });
                }
            });
        });
        on("remove:repeating_weapons", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_weapons_", "");
            console.log("Detected removal of weapon with ID " + idOfUpdate);
            getAttrs(["mhId", "ohId"], function(values) {
                var attrs = {};
                if (values.mhId != null && values.mhId !== '' && values.mhId.toUpperCase() === idOfUpdate.toUpperCase()) {
                    console.log("Unequipping weapon with ID " + values.mhId);
                    setAttrs({
                        Dual: 0,
                        mhId: '',
                        mhSize: '',
                        mhNumDice: 0,
                        mhDieType: 'D4',
                        mhBonus: 0,
                        mh_cpPenalties: 0,
                        mh_cp: 0,
                        mhAttribute: '',
                        mhAttributeBonus: 0
                    });
                }
                
                if (values.ohId != null && values.ohId !== '' && values.ohId.toUpperCase() === idOfUpdate.toUpperCase()) {
                    console.log("Unequipping weapon with ID " + values.ohId);
                    setAttrs({
                        Dual: 0,
                        ohId: '',
                        ohType: '',
                        ohSize: '',
                        ohNumDice: 0,
                        ohDieType: 'D4',
                        ohBonus: 0,
                        oh_cpPenalties: 0,
                        ohAttribute: '',
                        ohAttributeBonus: 0,
                        ohCP: 0,
                        shieldDR: 0,
                        shield_cpPenalties: 0,
                        shield_movementPenalties: 0
                    });
                }
            });
        });
        on("remove:repeating_shields", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_shields_", "");
            console.log("Detected removal of shield with ID " + idOfUpdate);
            getAttrs(["ohId"], function(values) {
                if (values.ohId != null && values.ohId !== '' && values.ohId.toUpperCase() === idOfUpdate.toUpperCase()) {
                    console.log("Unequipping shield with ID " + values.ohId);
                    setAttrs({
                        Dual: 0,
                        ohId: '',
                        ohType: '',
                        ohSize: '',
                        ohNumDice: 0,
                        ohDieType: 'D4',
                        ohBonus: 0,
                        oh_cpPenalties: 0,
                        ohAttribute: '',
                        ohAttributeBonus: 0,
                        ohCP: 0,
                        shieldDR: 0,
                        shield_cpPenalties: 0,
                        shield_movementPenalties: 0
                    });
                }
            });
        });
        on("remove:repeating_armor", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_armor_", "");
            console.log("Detected removal of armor with ID " + idOfUpdate);
            getAttrs(["armorId"], function(values) {
                if (values.armorId != null && values.armorId !== '' && values.armorId.toUpperCase() === idOfUpdate.toUpperCase()) {
                    console.log("Unequipping armor with ID " + values.armorId);
                    setAttrs({
                        armorId: '',
                        armorCP: 0,
                        armor_cpPenalties: 0,
                        armor_movementPenalties: 0
                    });
                }
            });
        });
        on("remove:repeating_armorset", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_armorset_", "");
            console.log("Detected removal of armor set with ID " + idOfUpdate);
            getAttrs(["armorsetId"], function(values) {
                if (values.armorsetId != null && values.armorsetId !== '' && values.armorsetId.toUpperCase() === idOfUpdate.toUpperCase()) {
                    console.log("Unequipping armor set with ID " + values.armorsetId);
                    setAttrs({
                        armorsetId: '',
                        armorsetCP: 0,
                        armorset_cpPenalties: 0,
                        armorset_movementPenalties: 0
                    });
                }
            });
        });
        on("remove:repeating_backplate", function(eventInfo) {
            var idOfUpdate = eventInfo.sourceAttribute.replace("repeating_backplate_", "");
            console.log("Detected removal of backplate with ID " + idOfUpdate);
            getAttrs(["backplateId"], function(values) {
                if (values.backplateId != null && values.backplateId !== '' && values.backplateId.toUpperCase() === idOfUpdate.toUpperCase()) {
                    console.log("Unequipping backplate with ID " + values.backplateId);
                    setAttrs({
                        backplateId: '',
                        backplateCP: 0,
                        backplate_cpPenalties: 0,
                        backplate_movementPenalties: 0
                    });
                }
            });
        });
        on("change:AgilityTotal change:Movement4 change:MovementI change:MovementA change:MoveBonus change:shield_movementPenalties", function() {
            console.log("Detected change in movement");
            getAttrs(["Agility", "LvAgility", "Agi3", "AgiR", "AgiI", "AgilityBonus", "MovementR", "MovementI", "MovementA", "MoveBonus", "shield_movementPenalties", "armor_movementPenalties", "armorset_movementPenalties", "backplate_movementPenalties"], function(values) {
                var agilityTotal = parseInt(values.Agility) + parseInt(values.LvAgility) + parseInt(values.Agi3) + parseInt(values.AgiR) + parseInt(values.AgiI) + parseInt(values.AgilityBonus);
                var movement = Math.max(5, (agilityTotal * 5) + 5 + parseInt(values.MovementI) + parseInt(values.MovementR) + parseInt(values.MovementA) + parseInt(values.MoveBonus) + parseInt(values.shield_movementPenalties) + parseInt(values.armor_movementPenalties) + parseInt(values.armorset_movementPenalties) + parseInt(values.backplate_movementPenalties));
                console.log("Updating Move to " + movement);
                setAttrs({
                    MoveTotal: movement
                });
            });
        });
        on("change:MuscleTotal change:ThrowBonus", function() {
            console.log("Detected change in throwing range");
            getAttrs(["Muscle", "LvMuscle", "Mus3", "MusR", "MusI", "MuscleBonus", "ThrowBonus"], function(values) {
                var muscleTotal = parseInt(values.Muscle) + parseInt(values.LvMuscle) + parseInt(values.Mus3) + parseInt(values.MusR) + parseInt(values.MusI) + parseInt(values.MuscleBonus);
                var throwingRange = muscleTotal * 5 + 5 + parseInt(values.ThrowBonus);
                setAttrs({
                    ThrowTotal: throwingRange
                });
            });
        });
        on("change:Muscle change:Agility change:Intellect change:Charm change:Soul", function() {
            console.log("Detected change in an initial attribute");
            getAttrs(["Muscle", "Agility", "Intellect", "Charm", "Soul"], function(values) {
                var charPointsUsed = 0;
                for (var key in values) {
                    var attribute = parseInt(values[key]);
                    if (attribute == 0 || attribute == 1) {
                        charPointsUsed += attribute;
                    } else if (attribute == 2) {
                        charPointsUsed += 3;
                    } else if (attribute == 3) {
                        charPointsUsed += 6;
                    } else if (attribute == 4) {
                        charPointsUsed += 10;
                    } else {
                        charPointsUsed += 15;
                    }
                }
                setAttrs({
                    ExtraFreeAbilities: 15 - charPointsUsed
                });
            });
        });
    </script>
    <div class='characterSheet'>
        <!-- Hidden Fields -->
        <div class='hidden'>
            <input type='text' name='attr_mhId' value=''>
            <input type='text' name='attr_mhSize' value=''>
            <input type='number' name='attr_mhNumDice' value='0'>
            <input type='text' name='attr_mhDieType' value='D4'>
            <input type='number' name='attr_mhAttributeBonus' value='0'>
            <input type='number' name='attr_mhBonus' value='0'>
            <input type='number' name='attr_mh_cpPenalties'>
            <input type='text' name='attr_mhAttribute' value=''>
            <input type='number' name='attr_mhCP' value='0'>
            <input type='text' name='attr_ohId' value=''>
            <input type='text' name='attr_ohType' value=''>
            <input type='text' name='attr_ohSize' value=''>
            <input type='number' name='attr_ohNumDice' value='0'>
            <input type='text' name='attr_ohDieType' value='D4'>
            <input type='number' name='attr_ohAttributeBonus' value='0'>
            <input type='number' name='attr_ohBonus' value='0'>
            <input type='number' name='attr_oh_cpPenalties'>
            <input type='text' name='attr_ohAttribute' value=''>
            <input type='number' name='attr_ohCP' value='0'>
            <input type='number' name='attr_shieldDR' value='0'>
            <input type='number' name='attr_shield_cpPenalties' value='0'>
            <input type='number' name='attr_shield_movementPenalties' value='0'>
            <input type='text' name='attr_armorId' value=''>
            <input type='number' name='attr_armorCP' value='0'>
            <input type='number' name='attr_armor_cpPenalties' value='0'>
            <input type='number' name='attr_armor_movementPenalties' value='0'>
            <input type='text' name='attr_armorsetId' value=''>
            <input type='number' name='attr_armorsetCP' value='0'>
            <input type='number' name='attr_armorset_cpPenalties' value='0'>
            <input type='number' name='attr_armorset_movementPenalties' value='0'>
            <input type='text' name='attr_backplateId' value=''>
            <input type='number' name='attr_backplateCP' value='0'>
            <input type='number' name='attr_backplate_cpPenalties' value='0'>
            <input type='number' name='attr_backplate_movementPenalties' value='0'>
            <input type='number' name='attr_Dual' value='0'>
            <input type='number' name='attr_ExtraFreeAbilities' value='0'>
        </div>
        <!-- End Hidden Fields -->
        
        <!-- High Level Tabs -->
        <input type="radio" class="sheet-tab sheet-tab1" name="attr_core-tab" value="1" title="Details" checked="checked"/> 
        <span class="sheet-tab sheet-tab1">Initial</span>
        <input type="radio" class="sheet-tab sheet-tab2" name="attr_core-tab" value="2" title="Professions"/> 
        <span class="sheet-tab sheet-tab2">Growth</span>
        <input type="radio" class="sheet-tab sheet-tab3" name="attr_core-tab" value="3" title="Abilities"/> 
        <span class="sheet-tab sheet-tab3">Abilities</span>
        <input type="radio" class="sheet-tab sheet-tab4" name="attr_core-tab" value="4" title="Stats"/> 
        <span class="sheet-tab sheet-tab4">Stats</span>
        <input type="radio" class="sheet-tab sheet-tab5" name="attr_core-tab" value="5" title="Combat"/> 
        <span class="sheet-tab sheet-tab5">Combat</span>
        <input type="radio" class="sheet-tab sheet-tab6" name="attr_core-tab" value="6" title="Equipment"/> 
        <span class="sheet-tab sheet-tab6">Inventory</span>
        <!-- End High Level Tabs -->
        
        <span class='characterDetails'>
            <div class='sheet-2colrow'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Age</label>
                    <input type="number" name="attr_Age" value ="0" min="0" max="999" style="width: 52px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Sex</label>
                    <input type='text' name="attr_Sex" style="width: 80px;">
                </div>
            </div>
            
            <div class='sheet-2colrow'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Height</label>
                    <input type="text" name="attr_Height" style="width: 52px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Weight</label>
                    <input type="text" name="attr_Weight" style="width: 56px;">
                </div>
            </div>
            
            <div class='sheet-2colrow'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Eyes</label>
                    <input type="text" name="attr_Eyes" style="width: 56px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Hair</label>
                    <input type="text" name="attr_Hair" style="width: 65px;">
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Description and Background</label>
                    <textarea name="attr_Background" cols="100" rows="3"></textarea>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Total Creation Benefits</label>
                    Attributes:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Muscle:</td>
                            <td><input type="number" name="attr_Mus4" value ="@{Muscle} + @{Mus3} + @{MusR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Agility:</td>
                            <td><input type="number" name="attr_Agi4" value ="@{Agility} + @{Agi3} + @{AgiR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Intellect:</td>
                            <td><input type="number" name="attr_Int4" value ="@{Intellect} + @{Int3} + @{IntR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Charm:</td>
                            <td><input type="number" name="attr_Cha4" value ="@{Charm} + @{Cha3} + @{ChaR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Soul:</td>
                            <td><input type="number" name="attr_Sou4" value ="@{Soul} + @{Sou3} + @{SouR}" disabled="true" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    Skills:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Fitness:</td>
                            <td><input type="number" name="attr_F4" value ="@{F1} + @{F2} + @{F3} + @{FR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_F4D4" value ="@{F1D4} + @{F2D4} + @{F3D4} + @{FRD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Awareness:</td>
                            <td><input type="number" name="attr_A4" value ="@{A1} + @{A2} + @{A3} + @{AR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_A4D4" value ="@{A1D4} + @{A2D4} + @{A3D4} + @{ARD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Tech:</td>
                            <td><input type="number" name="attr_T4" value ="@{T1} + @{T2} + @{T3} + @{TR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_T4D4" value ="@{T1D4} + @{T2D4} + @{T3D4} + @{TRD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Survival:</td>
                            <td><input type="number" name="attr_S4" value ="@{S1} + @{S2} + @{S3} + @{SR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_S4D4" value ="@{S1D4} + @{S2D4} + @{S3D4} + @{SRD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Medicine:</td>
                            <td><input type="number" name="attr_M4" value ="@{M1} + @{M2} + @{M3} + @{MR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_M4D4" value ="@{M1D4} + @{M2D4} + @{M3D4} + @{MRD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Negotiate:</td>
                            <td><input type="number" name="attr_N4" value ="@{N1} + @{N2} + @{N3} + @{NR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_N4D4" value ="@{N1D4} + @{N2D4} + @{N3D4} + @{NRD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Operate:</td>
                            <td><input type="number" name="attr_O4" value ="@{O1} + @{O2} + @{O3} + @{OR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_O4D4" value ="@{O1D4} + @{O2D4} + @{O3D4} + @{ORD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Resistance:</td>
                            <td><input type="number" name="attr_R4" value ="@{R1} + @{R2} + @{R3} + @{RR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_R4D4" value ="@{R1D4} + @{R2D4} + @{R3D4} + @{RRD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Sneak:</td>
                            <td><input type="number" name="attr_SN4" value ="@{SN1} + @{SN2} + @{SN3} + @{SNR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SN4D4" value ="@{SN1D4} + @{SN2D4} + @{SN3D4} + @{SNRD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Focus:</td>
                            <td><input type="number" name="attr_FO4" value ="@{FO1} + @{FO2} + @{FO3} + @{FOR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FO4D4" value ="@{FO1D4} + @{FO2D4} + @{FO3D4} + @{FORD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Knowledge:</td>
                            <td><input type="number" name="attr_K4" value ="@{K1} + @{K2} + @{K3} + @{KR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_K4D4" value ="@{K1D4} + @{K2D4} + @{K3D4} + @{KRD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Initiative:</td>
                            <td><input type="number" name="attr_I4" value ="@{I1} + @{I2} + @{I3} + @{IR}" disabled="true" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_I4D4" value ="@{I1D4} + @{I2D4} + @{I3D4} + @{IRD4}" disabled="true" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    Other:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>CP:</td>
                            <td><input type="number" name="attr_CP4" value ="@{CP1} + @{CP2} + @{CP3} + @{CPR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Languages:</td>
                            <td><input type="number" name="attr_L4" value ="@{L1} + @{L2} + @{L3} + @{LR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>LP:</td>
                            <td><input type="number" name="attr_LP4" value ="@{LP1} + @{LP2} + @{LP3} + @{LPR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Rank:</td>
                            <td><input type="number" name="attr_Rank4" value ="@{Rank1} + @{Rank2} + @{Rank3} + @{RankR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Healing Pool:</td>
                            <td><input type="number" name="attr_Healing4" value ="@{Healing1} + @{Healing2} + @{Healing3} + @{HealingR}" disabled="true" style="width: 44px;"></td>
                        </tr>
                        <tr>
                            <td class='label'>Movement:</td>
                            <td><input type="number" name="attr_Movement4" value ="@{MovementR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Attacks:</td>
                            <td><input type="number" name="attr_Attacks4" value ="@{AttacksR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Nat. Defense:</td>
                            <td><input type="number" name="attr_DEF4" value ="@{DEFR}" disabled="true" style="width: 44px;"></td>
                            <td class='label'>Credits:</td>
                            <td><input type="number" name="attr_Credits4" value ="@{Credits1} + @{Credits2} + @{Credits3} + @{CreditsR}" disabled="true" style="width: 58px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <label class='headerLabel'>Initial Attributes</label>
                <div class='sheet-col'>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Muscle:</td>
                            <td><input type="number" name="attr_Muscle" value="0" min="0" max="5" style="width: 44px;"></td>
                            <td class='label'>Agility:</td>
                            <td><input type="number" name="attr_Agility" value="0" min="0" max="5" style="width: 44px;"></td>
                            <td class='label'>Intellect:</td>
                            <td><input type="number" name="attr_Intellect" value="0" min="0" max="5" style="width: 44px;"></td>
                            <td class='label'>Charm:</td>
                            <td><input type="number" name="attr_Charm" value="0" min="0" max="5" style="width: 44px;"></td>
                            <td class='label'>Soul:</td>
                            <td><input type="number" name="attr_Soul" value="0" min="0" max="5" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Race</label>
                <div class='sheet-col'>                
                    Species:
                    <select name="attr_Race" style="width: 157px; position: relative; top: 5px">
                        <option value=""></option>
                        <option value="Ferrian" title="+1 Attacks +2 Natural Defense +2 Fitness +2 Resistance -2 Negotiate -1 All Knowledge">Ferrian</option>
                        <option value="Metal Man" title="Realm Damage +1 Muscle +2 Natural Defense +1 CP +2 Resistance No Sci-Magic">Metal Man</option>
                        <option value="Gyxan" title="+1 Charm +1 Natural Defense +2 Sneak +2 Awareness">Gyx</option>
                        <option value="Human" title="+1 Soul +1 Natural Defense SELECT HUMAN TYPE">Human</option>
                        <option value="Zatilok" title="+1 Agility +1 Natural Defense +1d4 Melee Claws +2 Survival -1 CP -2 Negotiate">Zatilok</option>
                        <option value="Laerish" title="+1 Intellect +2 Natural Defense +2 Operate +2 Tech -5' Movement">Laerish</option>                            
                    </select>
                </div>
                <div class='sheet-col'>
                    Ethnicity:
                    <select name="attr_Type" style="width: 157px; position: relative; top: 5px">
                        <option value="blank"></option>
                        <option value="Azridian / Giyan" title="+1 Negotiate +2 Survival +3 Knowledge (All Eras)">Azridian / Giyan</option>
                        <option value="Daeadrin" title="+2 Focus +1 Resistance +1 Awareness (All Eras)">Daeadrin</option>
                        <option value="Earthling" title="+1 to four skills (All Eras)">Earthling</option>
                        <option value="Estyrleen / Ciax" title="+2 Awareness +2 Sneak (All Eras)">Estyrleen / Ciax</option>
                        <option value="Kalin" title="+2 Medicine +1 Fitness +1 Negotiate (Steam / Civil War / Space)">Kalin</option>
                        <option value="Kelmorian" title="+2 Fitness +2 Resistance (All Eras)">Kelmorian</option>
                        <option value="Mavin" title="+2 Tech +1 Survival +1 Initiative (Steam / Civil War / Space)">Mavin</option>
                        <option value="Moorelander" title="+2 Operate +1 Survival +1 Fitness (Three Kingdoms)">Moorelander</option>
                        <option value="Parinvian" title="+3 Knowledge +1 Survival +1 Negotiate (All Eras)">Parinvian</option>
                        <option value="Peko" title="+1 Negotiate +2 Awareness +1 Resistance (All Eras)">Peko</option>
                        <option value="Ra-cu'ket" title="+1 Fitness +2 Awareness +1 Operate (Three Kingdoms)">Ra-cu'ket</option>
                        <option value="Retian" title="+2 Operate +1 Sneak +3 Knowledge (Steam / Civil War / Space)">Retian</option>
                        <option value="Sarros" title="+1 Sneak +2 Fitness +1 Survival (All Eras)">Sarros</option>
                        <option value="Spacer / Outlander" title="+1 Fitness +1 Survival +2 Awareness (Steam / Civil War / Space)">Spacer / Outlander</option>
                        <option value="Symbdan" title="+1 Awareness +2 Focus +1 Resistance (All Eras)">Symbdan</option>
                        <option value="Tolusian" title="+1 Tech +1 Medicine +2 Awareness (All Eras)">Tolusian</option>
                    </select>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    Attributes:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Muscle:</td>
                            <td><input type="number" name="attr_MusR" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Agility:</td>
                            <td><input type="number" name="attr_AgiR" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Intellect:</td>
                            <td><input type="number" name="attr_IntR" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Charm:</td>
                            <td><input type="number" name="attr_ChaR" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Soul:</td>
                            <td><input type="number" name="attr_SouR" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    Skills:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Fitness:</td>
                            <td><input type="number" name="attr_FR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FRD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Awareness:</td>
                            <td><input type="number" name="attr_AR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_ARD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Tech:</td>
                            <td><input type="number" name="attr_TR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_TRD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Survival:</td>
                            <td><input type="number" name="attr_SR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SRD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Medicine:</td>
                            <td><input type="number" name="attr_MR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_MRD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Negotiate:</td>
                            <td><input type="number" name="attr_NR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_NRD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Operate:</td>
                            <td><input type="number" name="attr_OR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_ORD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Resistance:</td>
                            <td><input type="number" name="attr_RR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_RRD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Sneak:</td>
                            <td><input type="number" name="attr_SNR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SNRD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Focus:</td>
                            <td><input type="number" name="attr_FOR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FORD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Knowledge:</td>
                            <td><input type="number" name="attr_KR" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_KRD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Initiative:</td>
                            <td><input type="number" name="attr_IR" value="0" min="99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_IRD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    Other:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>CP:</td>
                            <td><input type="number" name="attr_CPR" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Languages:</td>
                            <td><input type="number" name="attr_LR" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>LP:</td>
                            <td><input type="number" name="attr_LPR" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Rank:</td>
                            <td><input type="number" name="attr_RankR" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Healing Pool:</td>
                            <td><input type="number" name="attr_HealingR" value="0" min="-99" max="99" style="width: 44px;"></td>
                        </tr>
                        <tr>
                            <td class='label'>Movement:</td>
                            <td><input type="number" name="attr_MovementR" value="0" min="-95" max="95" step="5" style="width: 44px;"></td>
                            <td class='label'>Attacks:</td>
                            <td><input type="number" name="attr_AttacksR" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Nat. Defense:</td>
                            <td><input type="number" name="attr_DEFR" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Credits:</td>
                            <td><input type="number" name="attr_CreditsR" value="0" min="-9999" max="9999" style="width: 58px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Origin</label>
                    Youth:
                    <select name="attr_Youth" style="width: 128px; position: relative; top: 5px"> 
                        <option></option>
                        <option>Citizen</option>
                        <option>Aristocrat</option>
                        <option>Educated</option>
                        <option>Enlightened</option>
                        <option>Warrior</option>
                        <option>Gear Head</option>
                        <option>Hunter</option>
                        <option>Pickpocket</option>
                        <option>Poverty</option>
                        <option>Outland Traveler</option>
                        <option>Captive</option>
                    </select>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    Skills:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Fitness:</td>
                            <td><input type="number" name="attr_F1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_F1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Awareness:</td>
                            <td><input type="number" name="attr_A1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_A1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Tech:</td>
                            <td><input type="number" name="attr_T1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_T1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Survival:</td>
                            <td><input type="number" name="attr_S1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_S1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Medicine:</td>
                            <td><input type="number" name="attr_M1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_M1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Negotiate:</td>
                            <td><input type="number" name="attr_N1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_N1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Operate:</td>
                            <td><input type="number" name="attr_O1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_O1D4" value="0" min="-990" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Resistance:</td>
                            <td><input type="number" name="attr_R1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_R1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Sneak:</td>
                            <td><input type="number" name="attr_SN1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SN1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Focus:</td>
                            <td><input type="number" name="attr_FO1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FO1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Knowledge:</td>
                            <td><input type="number" name="attr_K1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_K1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Initiative:</td>
                            <td><input type="number" name="attr_I1" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_I1D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                Other:
                <table class='originPathTable'>
                    <tr>
                        <td class='label'>CP:</td>
                        <td><input type="number" name="attr_CP1" value="0" min="-99" max="99" style="width: 44px;"></td>
                        <td class='label'>Languages:</td>
                        <td><input type="number" name="attr_L1" value="0" min="-99" max="99" style="width: 44px;"></td>
                        <td class='label'>LP:</td>
                        <td><input type="number" name="attr_LP1" value="0" min="-99" max="99" style="width: 44px;"></td>
                        <td class='label'>Rank:</td>
                        <td><input type="number" name="attr_Rank1" value="0" min="-99" max="99" style="width: 44px;"></td>
                        <td class='label'>Healing Pool:</td>
                        <td><input type="number" name="attr_Healing1" value="0" min="-99" max="99" style="width: 44px;"></td>
                        <td class='label'>Credits:</td>
                        <td><input type="number" name="attr_Credits1" value="0" min="-9999" max="9999" style="width: 58px;"></td>
                    </tr>
                </table>
            </div>
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Education</label>
                <div class='sheet-col'>
                    Basic Schooling:
                    <select name="attr_Education1" style="width: 98px; position: relative; top: 5px">
                        <option></option>
                        <option>Standard</option>
                        <option>Street</option>
                        <option>Survivor</option>
                    </select>
                </div>
                <div class='sheet-col'>
                    Advanced Schooling:
                    <select name="attr_Education2" style="width: 98px; position: relative; top: 5px">
                        <option></option>
                        <option>Advanced</option>
                        <option>Bootcamp</option>
                        <option>Freelancer</option>
                    </select>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    Skills:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Fitness:</td>
                            <td><input type="number" name="attr_F2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_F2D4" value="0" min="-990" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Awareness:</td>
                            <td><input type="number" name="attr_A2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_A2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Tech:</td>
                            <td><input type="number" name="attr_T2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_T2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Survival:</td>
                            <td><input type="number" name="attr_S2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_S2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Medicine:</td>
                            <td><input type="number" name="attr_M2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_M2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Negotiate:</td>
                            <td><input type="number" name="attr_N2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_N2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Operate:</td>
                            <td><input type="number" name="attr_O2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_O2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Resistance:</td>
                            <td><input type="number" name="attr_R2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_R2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Sneak:</td>
                            <td><input type="number" name="attr_SN2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SN2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Focus:</td>
                            <td><input type="number" name="attr_FO2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FO2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Knowledge:</td>
                            <td><input type="number" name="attr_K2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_K2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Initiative:</td>
                            <td><input type="number" name="attr_I2" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_I2D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    Other:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>CP:</td>
                            <td><input type="number" name="attr_CP2" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Languages:</td>
                            <td><input type="number" name="attr_L2" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>LP:</td>
                            <td><input type="number" name="attr_LP2" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Rank:</td>
                            <td><input type="number" name="attr_Rank2" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Healing Pool:</td>
                            <td><input type="number" name="attr_Healing2" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Credits:</td>
                            <td><input type="number" name="attr_Credits2" value="0" min="-9999" max="9999" style="width: 58px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Background</label>
                <div class='sheet-col'>
                    Profession:
                    <select name="attr_Profession1" style="width: 118px; position: relative; top: 5px">
                        <option></option>
                        <option>Officer</option>
                        <option>Political Aristocrat</option>
                        <option>Medic</option>
                        <option>Soldier</option>
                        <option>Mercenary</option>
                        <option>Merchant</option>
                        <option>Worker</option>
                        <option>Survivalist</option>
                        <option>Explorer</option>
                    </select>
                </div>
                <div class='sheet-col'>
                    Title:
                    <select name="attr_Profession2" style="width: 108px; position: relative; top: 5px">
                        <option></option>
                        <option>Field Officer</option>
                        <option>Commander</option>
                        <option>Socialite</option>
                        <option>Activist</option>
                        <option>Anarchist</option>
                        <option>Field Medic</option>
                        <option>Doctor</option>
                        <option>Grunt</option>
                        <option>Technician</option>
                        <option>Pilot</option>
                        <option>Tracker</option>
                        <option>Trader</option>
                        <option>Traveler</option>
                        <option>Crafter</option>
                        <option>Outcast</option>
                        <option>Drifter</option>
                        <option>Enlightened</option>
                        <option>Scout</option>
                    </select>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    Attributes:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Muscle:</td>
                            <td><input type="number" name="attr_Mus3" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Agility:</td>
                            <td><input type="number" name="attr_Agi3" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Intellect:</td>
                            <td><input type="number" name="attr_Int3" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Charm:</td>
                            <td><input type="number" name="attr_Cha3" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Soul:</td>
                            <td><input type="number" name="attr_Sou3" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    Skills:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Fitness:</td>
                            <td><input type="number" name="attr_F3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_F3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Awareness:</td>
                            <td><input type="number" name="attr_A3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_A3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Tech:</td>
                            <td><input type="number" name="attr_T3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_T3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Survival:</td>
                            <td><input type="number" name="attr_S3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_S3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Medicine:</td>
                            <td><input type="number" name="attr_M3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_M3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Negotiate:</td>
                            <td><input type="number" name="attr_N3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_N3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Operate:</td>
                            <td><input type="number" name="attr_O3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_O3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Resistance:</td>
                            <td><input type="number" name="attr_R3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_R3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Sneak:</td>
                            <td><input type="number" name="attr_SN3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SN3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Focus:</td>
                            <td><input type="number" name="attr_FO3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FO3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Knowledge:</td>
                            <td><input type="number" name="attr_K3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_K3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Initiative:</td>
                            <td><input type="number" name="attr_I3" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_I3D4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    Other:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>CP:</td>
                            <td><input type="number" name="attr_CP3" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Languages:</td>
                            <td><input type="number" name="attr_L3" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>LP:</td>
                            <td><input type="number" name="attr_LP3" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Rank:</td>
                            <td><input type="number" name="attr_Rank3" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Healing Pool:</td>
                            <td><input type="number" name="attr_Healing3" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Credits:</td>
                            <td><input type="number" name="attr_Credits3" value="0" min="-9999" max="9999" style="width: 58px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
        </span>
        
        <span class='characterProfessions'>
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Experience Points</label>
                    <input type="number" name="attr_XP" value ="0" min="0" max="9999" style="width: 68px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Level</label>
                    <select name="attr_Level" style="width: 65px; margin-bottom: 0">
                        <option value="1" title="Cumulative bonuses: +1 Heroic Point">1</option>
                        <option value="2" title="Cumulative bonuses: +1 Heroic Point">2</option>
                        <option value="3" title="Cumulative bonuses: +1 Heroic Point +1 Attribute">3</option>
                        <option value="4" title="Cumulative bonuses: +1 Heroic Point +1 Attribute">4</option>
                        <option value="5" title="Cumulative bonuses: +1 Heroic Point +1 Attribute +1 CP">5</option>
                        <option value="6" title="Cumulative bonuses: +1 Heroic Point +1 Attribute +1 CP">6</option>
                        <option value="7" title="Cumulative bonuses: +2 Heroic Point +1 Attribute +1 CP">7</option>
                        <option value="8" title="Cumulative bonuses: +2 Heroic Point +1 Attribute +1 CP">8</option>
                        <option value="9" title="Cumulative bonuses: +2 Heroic Point +2 Attribute +1 CP">9</option>
                        <option value="10" title="Cumulative bonuses: +2 Heroic Point +2 Attribute +1 CP">10</option>
                        <option value="11" title="Cumulative bonuses: +2 Heroic Point +2 Attribute +2 CP">11</option>
                        <option value="12" title="Cumulative bonuses: +2 Heroic Point +2 Attribute +2 CP">12</option>
                        <option value="13" title="Cumulative bonuses: +3 Heroic Point +2 Attribute +2 CP">13</option>
                        <option value="14" title="Cumulative bonuses: +3 Heroic Point +2 Attribute +2 CP">14</option>
                        <option value="15" title="Cumulative bonuses: +3 Heroic Point +3 Attribute +2 CP">15</option>
                        <option value="16" title="Cumulative bonuses: +3 Heroic Point +3 Attribute +2 CP">16</option>
                        <option value="17" title="Cumulative bonuses: +3 Heroic Point +3 Attribute +3 CP">17</option>
                        <option value="18" title="Cumulative bonuses: +3 Heroic Point +3 Attribute +3 CP">18</option>
                        <option value="19" title="Cumulative bonuses: +4 Heroic Point +3 Attribute +3 CP">19</option>
                        <option value="20" title="Cumulative bonuses: +4 Heroic Point +3 Attribute +3 CP">20</option>
                        <option value="21" title="Cumulative bonuses: +4 Heroic Point +4 Attribute +3 CP">21</option>
                        <option value="22" title="Cumulative bonuses: +4 Heroic Point +4 Attribute +3 CP">22</option>
                        <option value="23" title="Cumulative bonuses: +4 Heroic Point +4 Attribute +4 CP">23</option>
                        <option value="24" title="Cumulative bonuses: +4 Heroic Point +4 Attribute +4 CP">24</option>
                        <option value="25" title="Cumulative bonuses: +5 Heroic Point +4 Attribute +4 CP">25</option>
                        <option value="26" title="Cumulative bonuses: +5 Heroic Point +4 Attribute +4 CP">26</option>
                        <option value="27" title="Cumulative bonuses: +5 Heroic Point +5 Attribute +4 CP">27</option>
                        <option value="28" title="Cumulative bonuses: +5 Heroic Point +5 Attribute +4 CP">28</option>
                        <option value="29" title="Cumulative bonuses: +5 Heroic Point +5 Attribute +5 CP">29</option>
                        <option value="30" title="Cumulative bonuses: +5 Heroic Point +5 Attribute +5 CP">30</option>
                    </select>
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Heroic Points</label>
                    <input type="number" name="attr_Heroic" value ="0" min="0" max="99" style="width: 42px;">
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Attribute Growth</label>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Muscle:</td>
                            <td><input type="number" name="attr_LvMuscle" value="0" min="0" max="99" style="width: 44px;"></td>
                            <td class='label'>Agility:</td>
                            <td><input type="number" name="attr_LvAgility" value="0" min="0" max="99" style="width: 44px;"></td>
                            <td class='label'>Intellect:</td>
                            <td><input type="number" name="attr_LvIntellect" value="0" min="0" max="99" style="width: 44px;"></td>
                            <td class='label'>Charm:</td>
                            <td><input type="number" name="attr_LvCharm" value="0" min="0" max="99" style="width: 44px;"></td>
                            <td class='label'>Soul:</td>
                            <td><input type="number" name="attr_LvSoul" value="0" min="0" max="99" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'></div>
                <div class='sheet-col'>
                    <label class='headerLabel'>CP Growth</label>
                    <input class='hidden' type='number' name='attr_levelCP' value='0'>
                    <input type='number' name='attr_showlevelCP' value='@{levelCP}' disabled='true'>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Benefits from Professions/Ranks</label>
                <div class='sheet-col'>
                    <span style='font-weight: bold; position: relative; top: 5px'>Skills:</span>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Fitness:</td>
                            <td><input type="number" name="attr_FP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Awareness:</td>
                            <td><input type="number" name="attr_AP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_APD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Tech:</td>
                            <td><input type="number" name="attr_TP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_TPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Survival:</td>
                            <td><input type="number" name="attr_SP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Medicine:</td>
                            <td><input type="number" name="attr_MP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_MPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Negotiate:</td>
                            <td><input type="number" name="attr_NP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_NPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Operate:</td>
                            <td><input type="number" name="attr_OP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_OPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Resistance:</td>
                            <td><input type="number" name="attr_RP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_RPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Sneak:</td>
                            <td><input type="number" name="attr_SNP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SNPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Focus:</td>
                            <td><input type="number" name="attr_FOP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FOPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Knowledge:</td>
                            <td><input type="number" name="attr_KP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_KPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Initiative:</td>
                            <td><input type="number" name="attr_IP" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_IPD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <span style='font-weight: bold; position: relative; top: 5px'>Knowledge Categories:</span>
            <div class='sheet-3colrow'>
                <div class='sheet-col' style='position: relative; left: 20px'>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>History/Theology/Religion:</td>
                            <td><input type="number" name="attr_KhistoryP" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                        <tr>
                            <td class='label'>Magic/Realm Magic/Spells:</td>
                            <td><input type="number" name="attr_KmagicP" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Agriculture/Science/Geography:</td>
                            <td><input type="number" name="attr_KscienceP" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                        <tr>
                            <td class='label'>Politics/Aristocracy/Social/Military:</td>
                            <td><input type="number" name="attr_KsocialP" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <span style='font-weight: bold; position: relative; top: 5px'>Other:</span>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>CP:</td>
                            <td><input type="number" name="attr_CPP" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Languages:</td>
                            <td><input type="number" name="attr_LanguagesP" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>LP:</td>
                            <td><input type="number" name="attr_LPP" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Rank:</td>
                            <td><input type="number" name="attr_RankP" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Healing Pool:</td>
                            <td><input type="number" name="attr_HealingP" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Free Abilities:</td>
                            <td><input type='number' name='attr_FreeAbilitiesP' value='0' min='-99' max='99' style='width: 44px'></td>
                            <td class='label'>Credits:</td>
                            <td><input type="number" name="attr_CreditsP" value="0" min="-9999" max="9999" style="width: 58px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <label class='headerLabel'>Profession Tiers</label>
            <fieldset class="repeating_Professions">
                <div class='sheet-row'>
                    <div class='sheet-col'>
                        Name:
                        <select name="attr_Profession_name" style="width: 145px; position: relative; top: 5px">
                            <option value="blank"></option>
                            <option value="Adept" title="Requires SOUL 1, AGI 1, Innate Potential Ability">Adept</option>
                            <option value="Aristocrat" title="Requires CHA 1">Aristocrat</option>
                            <option value="Battler" title="Requires CHA 1, MUS 1">Battler</option>
                            <option value="Brawler" title="Requires SOUL 1, AGI 1">Brawler</option>
                            <option value="Combat Artist" title="Requires INT 1, AGI 2">Combat Artist</option>
                            <option value="Dark Blade"  title="Requires AGI 2">Dark Blade</option>
                            <option value="Demon Hunter"  title="Requires SOUL 1, CHA 1, Innate Potential Ability">Demon Hunter</option>
                            <option value="Duelist" title="Requires AGI 2, CHA 1">Duelist</option>
                            <option value="Ferrian Vanquisher" title="Requires Rerrian Race, SOUL 1">Ferrian Vanquisher</option>
                            <option value="Grifter" title="Requires AGI 1, CHA 1">Grifter</option>
                            <option value="Inventor" title="Requires INT 2">Inventor</option>
                            <option value="Knight Agent"  title="Requires INT 3, CHA 3, AGI 3, MUS 1, SOUL 1">Knight Agent</option>
                            <option value="Medic"  title="Requires INT 3">Medic</option>
                            <option value="Mercenary">Mercenary</option>
                            <option value="Officer" title="Requires CHA 1">Officer</option>
                            <option value="Pilot" title="Requires INT 1">Pilot</option>
                            <option value="Privateer" title="Requires INT 1, CHA 1">Privateer</option>
                            <option value="Shadow"  title="Requires INT 1, AGI 1">Shadow</option>
                            <option value="Sci-Magi" title="Requires SOUL 2, Realm Study Ability">Sci-Magi</option>
                            <option value="Sci-Priest" title="Requires SOUL 1, INT 1, Realm Study Ability">Sci-Priest</option>
                            <option value="Soldier">Soldier</option>
                            <option value="Warrior">Warrior</option>
                        </select>
                        Tier: <input type="number" name="attr_Profession_tier" value="" min="0" max="99" style="width: 48px;">
                        Description: <input type="text" name="attr_Profession_description" style="width: 380px;">
                        Page: <input type="number" name="attr_Profession_page" value="" min="0" max="999" style="width: 48px;">
                    </div>
                </div>
                
                <div class='sheet-row'>
                    <div class='sheet-col indented'>
                        Ability: <input type="text" name="attr_TierAbility1_name" style="width: 120px;"/>
                        Description: <input type="text" name="attr_TierAbility1_description" style="width: 320px;"/>
                        Skill Bonus:
                        <select name="attr_TierBonus1" style="width: 102px; position: relative; top: 5px">
                            <option></option>
                            <option>Fitness</option>
                            <option>Awareness</option>
                            <option>Tech</option>
                            <option>Survival</option>
                            <option>Medicine</option>
                            <option>Negotiate</option>
                            <option>Operate</option>
                            <option>Resistance</option>
                            <option>Sneak</option>
                            <option>Focus</option>
                            <option>All Knowledge</option>
                            <option>Knowledge History/Theology/Religion</option>
                            <option>Knowledge Politics/Aristocracy/Social/Military</option>
                            <option>Knowledge Agriculture/Science/Geography</option>
                            <option>Knowledge Magic/Realm Magic/Spells</option>
                            <option>Knowledge Agriculture</option>
                            <option>Knowledge Aristocracy</option>
                            <option>Knowledge Culture</option>
                            <option>Knowledge Geography</option>
                            <option>Knowledge History</option>
                            <option>Knowledge Magic</option>
                            <option>Knowledge Military</option>
                            <option>Knowledge Politics</option>
                            <option>Knowledge Realm Magic</option>
                            <option>Knowledge Religion</option>
                            <option>Knowledge Science</option>
                            <option>Knowledge Social</option>
                            <option>Knowledge Spells</option>
                            <option>Knowledge Theology</option>
                            <option>CP</option>
                            <option>LP</option>
                            <option>Rank</option>
                            <option>Agent Rank</option>
                            <option>Free Ability</option>
                        </select>
                        <input type="number" name="attr_TierBonus1_amount" min="1" max="9" style="width: 40px;"></td>
                    </div>
                </div>
                
                <div class='sheet-row'>
                    <div class='sheet-col indented'>
                        Ability: <input type="text" name="attr_TierAbility2_name" style="width: 120px;"/>
                        Description: <input type="text" name="attr_TierAbility2_description" style="width: 320px;"/>
                        Skill Bonus:
                        <select name="attr_TierBonus2" style="width: 102px; position: relative; top: 5px">
                            <option></option>
                            <option>Fitness</option>
                            <option>Awareness</option>
                            <option>Tech</option>
                            <option>Survival</option>
                            <option>Medicine</option>
                            <option>Negotiate</option>
                            <option>Operate</option>
                            <option>Resistance</option>
                            <option>Sneak</option>
                            <option>Focus</option>
                            <option>All Knowledge</option>
                            <option>Knowledge History/Theology/Religion</option>
                            <option>Knowledge Politics/Aristocracy/Social/Military</option>
                            <option>Knowledge Agriculture/Science/Geography</option>
                            <option>Knowledge Magic/Realm Magic/Spells</option>
                            <option>Knowledge Agriculture</option>
                            <option>Knowledge Aristocracy</option>
                            <option>Knowledge Culture</option>
                            <option>Knowledge Geography</option>
                            <option>Knowledge History</option>
                            <option>Knowledge Magic</option>
                            <option>Knowledge Military</option>
                            <option>Knowledge Politics</option>
                            <option>Knowledge Realm Magic</option>
                            <option>Knowledge Religion</option>
                            <option>Knowledge Science</option>
                            <option>Knowledge Social</option>
                            <option>Knowledge Spells</option>
                            <option>Knowledge Theology</option>
                            <option>CP</option>
                            <option>LP</option>
                            <option>Rank</option>
                            <option>Agent Rank</option>
                            <option>Free Ability</option>
                        </select>
                        <input type="number" name="attr_TierBonus2_amount" min="1" max="9" style="width: 40px;"></td>
                    </div>
                </div>
                
                <div class='sheet-row'>
                    <div class='sheet-col indented'>
                        Ability: <input type="text" name="attr_TierAbility3_name" style="width: 120px;"/>
                        Description: <input type="text" name="attr_TierAbility3_description" style="width: 320px;"/>
                        Skill Bonus:
                        <select name="attr_TierBonus3" style="width: 102px; position: relative; top: 5px">
                            <option></option>
                            <option>Fitness</option>
                            <option>Awareness</option>
                            <option>Tech</option>
                            <option>Survival</option>
                            <option>Medicine</option>
                            <option>Negotiate</option>
                            <option>Operate</option>
                            <option>Resistance</option>
                            <option>Sneak</option>
                            <option>Focus</option>
                            <option>All Knowledge</option>
                            <option>Knowledge History/Theology/Religion</option>
                            <option>Knowledge Politics/Aristocracy/Social/Military</option>
                            <option>Knowledge Agriculture/Science/Geography</option>
                            <option>Knowledge Magic/Realm Magic/Spells</option>
                            <option>Knowledge Agriculture</option>
                            <option>Knowledge Aristocracy</option>
                            <option>Knowledge Culture</option>
                            <option>Knowledge Geography</option>
                            <option>Knowledge History</option>
                            <option>Knowledge Magic</option>
                            <option>Knowledge Military</option>
                            <option>Knowledge Politics</option>
                            <option>Knowledge Realm Magic</option>
                            <option>Knowledge Religion</option>
                            <option>Knowledge Science</option>
                            <option>Knowledge Social</option>
                            <option>Knowledge Spells</option>
                            <option>Knowledge Theology</option>
                            <option>CP</option>
                            <option>LP</option>
                            <option>Rank</option>
                            <option>Agent Rank</option>
                            <option>Free Ability</option>
                        </select>
                        <input type="number" name="attr_TierBonus3_amount" min="1" max="9" style="width: 40px;"></td>
                    </div>
                </div>
            </fieldset>
            
            <div class='sheet-2colrow'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Military Rank</label>
                    Type:
                    <select name='attr_militaryType' style='width: 60px; margin-bottom: 0'>
                        <option></option>
                        <option>Enlisted</option>
                        <option>Officer</option>
                    </select>
                    Rank: <input type='number' name='attr_militaryRank' value='0' min='0' max='9' style='width: 33px;'>
                    Credits: <input type='number' name='attr_militaryCredits' value='0' min='0' max='99999' style='width: 54px'>
                    Free Abilities: <input type='number' name='attr_militaryAbilities' value='0' min='0' max='9' style='width: 33px;'>
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Knight Agent Rank</label>
                    Rank: <input type='number' name='attr_knightAgentRank' value='0' min='0' max='9' style='width: 33px;'>
                    Credits: <input type='number' name='attr_knightAgentCredits' value='0' min='0' max='9999' style='width: 54px'>
                    Free Abilities: <input type='number' name='attr_knightAgentAbilities' value='0' min='0' max='9' style='width: 33px;'>
                </div>
            </div>
        </span>
        
        <span class='characterAbilities'>
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Current Abilities</label>
                    <input type="number" name="attr_Total_Abilities" value ="@{Level} + @{FreeAbilitiesP} + @{Muscle} + @{Agility} + @{Intellect} + @{Charm} + @{Soul} + @{ExtraFreeAbilities} - 1" disabled="true" style="width: 40px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Healing Pool</label>
                    <input type="number" name='attr_HealingPool' value='0' min='0' style='width: 40px'> / 
                    <input type="number" name='attr_HealingPool_max' value ="@{Healing4}+@{HealingA}+@{HealingP}+@{HealingI}" disabled="true" style="width: 40px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Magical Healing Pool</label>
                    <input type="number" name='attr_MagicHealingPool' value='0' min='0' max='99' style='width: 40px'> / 
                    <input type="number" name='attr_MagicHealingPool_max' value ='0' min='0' max='99' style="width: 40px;">
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Ability & Vocational Benefits</label>
                <div class='sheet-col'>
                    <span style='font-weight: bold; position: relative; top: 5px'>Skills:</span>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Fitness:</td>
                            <td><input type="number" name="attr_FA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Awareness:</td>
                            <td><input type="number" name="attr_AA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_AAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Tech:</td>
                            <td><input type="number" name="attr_TA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_TAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Survival:</td>
                            <td><input type="number" name="attr_SA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Medicine:</td>
                            <td><input type="number" name="attr_MA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_MAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Negotiate:</td>
                            <td><input type="number" name="attr_NA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_NAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Operate:</td>
                            <td><input type="number" name="attr_OA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_OAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Resistance:</td>
                            <td><input type="number" name="attr_RA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_RAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Sneak:</td>
                            <td><input type="number" name="attr_SNA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SNAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Focus:</td>
                            <td><input type="number" name="attr_FOA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FOAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Knowledge:</td>
                            <td><input type="number" name="attr_KA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_KAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Initiative:</td>
                            <td><input type="number" name="attr_IA" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_IAD4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <span style='font-weight: bold; position: relative; top: 5px'>Knowledge Categories:</span>
            <div class='sheet-3colrow'>
                <div class='sheet-col' style='position: relative; left: 20px'>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>History/Theology/Religion:</td>
                            <td><input type="number" name="attr_KhistoryA" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                        <tr>
                            <td class='label'>Magic/Realm Magic/Spells:</td>
                            <td><input type="number" name="attr_KmagicA" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Agriculture/Science/Geography:</td>
                            <td><input type="number" name="attr_KscienceA" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                        <tr>
                            <td class='label'>Politics/Aristocracy/Social/Military:</td>
                            <td><input type="number" name="attr_KsocialA" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <span style='font-weight: bold; position: relative; top: 5px'>Other:</span>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>CP:</td>
                            <td><input type="number" name="attr_CPA" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Languages:</td>
                            <td><input type="number" name="attr_LA" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>LP:</td>
                            <td><input type="number" name="attr_LPA" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Rank:</td>
                            <td><input type="number" name="attr_RankA" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Healing Pool:</td>
                            <td><input type="number" name="attr_HealingA" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Movement:</td>
                            <td><input type="number" name="attr_MovementA" value="0" min="-95" max="95" step="5" style="width: 44px;"></td>
                            <td class='label'>Credits:</td>
                            <td><input type="number" name="attr_CreditsA" value="0" min="-9999" max="9999" style="width: 58px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Languages Known</label>
                    <input type="text" name="attr_languages" style="width: 700px" placeholder="Trade is assumed known">
                    <input type="number" name="attr_numLanguages" value="@{L4} + @{LA} + @{LanguagesP} + @{LI} + 1" disabled="true" style="width: 40px%">
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Abilities</label>
                <div class='sheet-col'>
                    &nbsp;Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page
                </div>
                <div class='sheet-col'>
                    &nbsp;Description
                </div>
                <div class='sheet-col'>
                    &nbsp;Skill Bonus
                </div>
            </div>
            <fieldset class="repeating_Abilities">
                <div class='sheet-3colrow'>
                    <div class='sheet-col'>
                        <input type="text" name="attr_Ability_name" style="width: 120px;"/>
                        <input type="number" name="attr_Ability_page" value="" min="0" max="999" style="width: 48px;">
                    </div>
                    <div class='sheet-col'>
                        <input type="text" name="attr_Ability_description" style="width: 240px;">
                    </div>
                    <div class='sheet-col'>
                        <select name="attr_Ability_bonus" style="width: 102px;">
                            <option></option>
                            <option>Fitness</option>
                            <option>Awareness</option>
                            <option>Tech</option>
                            <option>Survival</option>
                            <option>Medicine</option>
                            <option>Negotiate</option>
                            <option>Operate</option>
                            <option>Resistance</option>
                            <option>Sneak</option>
                            <option>Focus</option>
                            <option>All Knowledge</option>
                            <option>Knowledge History/Theology/Religion</option>
                            <option>Knowledge Politics/Aristocracy/Social/Military</option>
                            <option>Knowledge Agriculture/Science/Geography</option>
                            <option>Knowledge Magic/Realm Magic/Spells</option>
                            <option>Knowledge Agriculture</option>
                            <option>Knowledge Aristocracy</option>
                            <option>Knowledge Culture</option>
                            <option>Knowledge Geography</option>
                            <option>Knowledge History</option>
                            <option>Knowledge Magic</option>
                            <option>Knowledge Military</option>
                            <option>Knowledge Politics</option>
                            <option>Knowledge Realm Magic</option>
                            <option>Knowledge Religion</option>
                            <option>Knowledge Science</option>
                            <option>Knowledge Social</option>
                            <option>Knowledge Spells</option>
                            <option>Knowledge Theology</option>
                            <option>CP</option>
                            <option>LP</option>
                            <option>Rank</option>
                            <option>Agent Rank</option>
                            <option>Free Ability</option>
                        </select>
                        <input type="number" name="attr_Ability_bonusAmount" min="0" max="9" style="width: 40px; position: relative; bottom: 5px;"></td>
                    </div>
                </div>
            </fieldset>
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Vocations</label>
                <div class='sheet-col'>
                    &nbsp;Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rank&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Credits
                </div>
                <div class='sheet-col'>
                    &nbsp;Perk
                </div>
                <div class='sheet-col'>
                    &nbsp;Perk Bonus
                </div>
            </div>
            <fieldset class="repeating_Vocations">
                <div class='sheet-3colrow'>
                    <div class='sheet-col'>
                        <input type="text" name="attr_Vocation_name" style="width: 120px;"/>  
                        <input type="number" name="attr_Vocation_rank" value="" min="0" max="99" style="width: 48px;">
                        <input type="number" name="attr_Vocation_credits" value="" min="0" max="999" style="width: 48px;">
                    </div>
                    <div class='sheet-col'>
                        <input type="text" name="attr_Vocation_perk" style="width: 240px;">
                    </div>
                    <div class='sheet-col'>
                        <select name="attr_Vocation_perkBonus" style="width: 102px;">
                            <option></option>
                            <option>Fitness</option>
                            <option>Awareness</option>
                            <option>Tech</option>
                            <option>Survival</option>
                            <option>Medicine</option>
                            <option>Negotiate</option>
                            <option>Operate</option>
                            <option>Resistance</option>
                            <option>Sneak</option>
                            <option>Focus</option>
                            <option>All Knowledge</option>
                            <option>Knowledge History/Theology/Religion</option>
                            <option>Knowledge Politics/Aristocracy/Social/Military</option>
                            <option>Knowledge Agriculture/Science/Geography</option>
                            <option>Knowledge Magic/Realm Magic/Spells</option>
                            <option>Knowledge Agriculture</option>
                            <option>Knowledge Aristocracy</option>
                            <option>Knowledge Culture</option>
                            <option>Knowledge Geography</option>
                            <option>Knowledge History</option>
                            <option>Knowledge Magic</option>
                            <option>Knowledge Military</option>
                            <option>Knowledge Politics</option>
                            <option>Knowledge Realm Magic</option>
                            <option>Knowledge Religion</option>
                            <option>Knowledge Science</option>
                            <option>Knowledge Social</option>
                            <option>Knowledge Spells</option>
                            <option>Knowledge Theology</option>
                            <option>CP</option>
                            <option>LP</option>
                            <option>Rank</option>
                            <option>Agent Rank</option>
                            <option>Free Ability</option>
                        </select>
                        <input type="number" name="attr_Vocation_perkBonusAmount" min="0" max="9" style="width: 40px; position: relative; bottom: 5px;"></td>
                </div>
            </fieldset>
        </span>
        
        <span class='characterStats'>
            <div class='sheet-3colrow' style='padding-bottom: 10px'>
                <div class='sheet-col' style='white-space: nowrap;'>
                    <label class='headerLabel'>Muscle</label>
                    <input type='number' name='attr_MuscleBenefit' value='@{Mus4} + @{LvMuscle} + @{MusI}' disabled='true' style="width: 40px; margin-right: 5px;">+
                    <input type="number" class='bonus' name="attr_MuscleBonus" value="0" min="-99" max="99" style="width: 40px; margin-right: 5px;">=
                    <input type='number' name='attr_MuscleTotal' value='@{MuscleBenefit} + @{MuscleBonus}' disabled='true' style="width: 40px; margin-right: 5px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Agility</label>
                    <input type='number' name='attr_AgilityBenefit' value='@{Agi4} + @{LvAgility} + @{AgiI}' disabled='true' style="width: 40px; margin-right: 5px;">+
                    <input type="number" class='bonus' name="attr_AgilityBonus" value="0" min="-99" max="99" style="width: 40px; margin-right: 5px;">=
                    <input type='number' name='attr_AgilityTotal' value='@{AgilityBenefit} + @{AgilityBonus}' disabled='true' style="width: 40px; margin-right: 5px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Intellect</label>
                    <input type='number' name='attr_IntellectBenefit' value='@{Int4} + @{LvIntellect} + @{IntI}' disabled='true' style="width: 40px; margin-right: 5px;">+
                    <input type="number" class='bonus' name="attr_IntellectBonus" value="0" min="-99" max="99" style="width: 40px; margin-right: 5px;">=
                    <input type='number' name='attr_IntellectTotal' value='@{IntellectBenefit} + @{IntellectBonus}' disabled='true' style="width: 40px; margin-right: 5px;">
                </div>
            </div>
            
            <div class='sheet-3colrow' style='padding-bottom: 10px'>
                <div class='sheet-col' style='white-space: nowrap;'>
                    <label class='headerLabel'>Charm</label>
                    <input type='number' name='attr_CharmBenefit' value='@{Cha4} + @{LvCharm} + @{ChaI}' disabled='true' style="width: 40px; margin-right: 5px;">+
                    <input type="number" class='bonus' name="attr_CharmBonus" value="0" min="-99" max="99" style="width: 40px; margin-right: 5px;">=
                    <input type='number' name='attr_CharmTotal' value='@{CharmBenefit} + @{CharmBonus}' disabled='true' style="width: 40px; margin-right: 5px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Soul</label>
                    <input type='number' name='attr_SoulBenefit' value='@{Sou4} + @{LvSoul} + @{SouI}' disabled='true' style="width: 40px; margin-right: 5px;">+
                    <input type="number" class='bonus' name="attr_SoulBonus" value="0" min="-99" max="99" style="width: 40px; margin-right: 5px;">=
                    <input type='number' name='attr_SoulTotal' value='@{SoulBenefit} + @{SoulBonus}' disabled='true' style="width: 40px; margin-right: 5px;">
                </div>
            </div>
        
            <div class='sheet-2colrow'>
                <label class='headerLabel'>Skills</label>
                <div class='sheet-col'>                
                    <input type="radio" class="radioChoice radioChoice1" name="attr_GM_Roll" value="/em" checked="true"/>
                    <span class="radioChoice radioChoice1">Roll Publicly</span>
                    <input type="radio" class="radioChoice radioChoice2" name="attr_GM_Roll" value="/w gm"/>
                    <span class="radioChoice radioChoice2">GM Only</span>
                </div>
                <div class='sheet-col' style='position: relative; bottom: 10px'>
                    Extended Time: 
                    <select name="attr_Extended_skill" class='extendedSkill' style="width: 90px; position: relative; top: 3px;">
                        <option value="0"></option>
                        <option title="+1D4 bonus" value="1">1 action</option>
                        <option title="+2D4 bonus" value="2">2 actions</option>
                        <option title="+3D4 bonus" value="3">1 hour</option>
                        <option title="+4D4 bonus" value="4">1 day</option>
                        <option title="+5D4 bonus" value="5">1 week</option>
                        <option title="+6D4 bonus" value="6">1 month</option>
                        <option title="+7D4 bonus" value="7">1 year</option>
                        <option title="+8D4 bonus" value="8">1 lifetime</option>    
                    </select>
                    Assisted: <input type="checkbox" name="attr_Assisted" value="1">
                </div>
            </div>
            
            <div class='sheet-2colrow' style='position:relative; bottom: 15px'>
                <div class='sheet-col'>
                    <label style='margin-left: 120px; position: relative; top: 10px'>General Skills</label>
                    <table class='skillTable'>
                        <tr>
                            <th></th>
                            <th colspan='2'>D4 Dice</th>
                            <th colspan='2'>Mods</th>
                            <th></th>
                        </tr>
                        <tr>
                            <th class='label'>Name</th>
                            <th class='value'>Auto</th>
                            <th class='value'>Bonus</th>
                            <th class='value'>Auto</th>
                            <th class='value'>Bonus</th>
                            <th></th>
                        </tr>
                        <tr>
                            <td class='label'>Fitness</td>
                            <td class='value'><input type="number" name="attr_Fitness" title="Muscle + Agility" value="@{MuscleTotal} + @{AgilityTotal} + @{F4D4} + @{FAD4} + @{FPD4} + @{FID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Fitness_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input type="number" name="attr_FitnessBenefit" + value="@{F4} + @{FA} + @{FP} + @{FI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Fitness_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a fitness check of [[(@{Fitness}+@{Fitness_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{FitnessBenefit} + @{Fitness_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Awareness</td>
                            <td class='value'><input name="attr_Awareness" title="Intellect + Soul" value="@{IntellectTotal} + @{SoulTotal} + @{A4D4} + @{AAD4} + @{APD4} + @{AID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Awareness_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name="attr_AwarenessBenefit" type="number" value="@{A4} + @{AA} + @{AP} + @{AI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Awareness_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls an awareness check of [[(@{Awareness}+@{Awareness_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{AwarenessBenefit} + @{Awareness_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Technology</td>
                            <td class='value'><input name="attr_Technology" title="Intellect" value="@{IntellectTotal} + @{T4D4} + @{TAD4} + @{TPD4} + @{TID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Technology_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name="attr_TechnologyBenefit" type="number" value="@{T4} + @{TA} + @{TP} + @{TI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Technology_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a technology check of [[(@{Technology}+@{Technology_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{TechnologyBenefit} + @{Technology_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Survival</td>
                            <td class='value'><input name="attr_Survival" title="Intellect" value="@{IntellectTotal} +@{S4D4} + @{SAD4} + @{SPD4} + @{SID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Survival_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name="attr_SurvivalBenefit" type="number" value="@{S4} + @{SA} + @{SP} + @{SI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Survival_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a survival check of [[(@{Survival}+@{Survival_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{SurvivalBenefit} + @{Survival_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Medicine</td>
                            <td class='value'><input name="attr_Medicine" title="Intellect + Charm" value="@{IntellectTotal} + @{CharmTotal} + @{M4D4} + @{MAD4} + @{MPD4} + @{MID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Medicine_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name="attr_MedicineBenefit" type="number" value="@{M4} + @{MA} + @{MP} + @{MI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Medicine_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a medicine check of [[(@{Medicine}+@{Medicine_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{MedicineBenefit} + @{Medicine_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Negotiate</td>
                            <td class='value'><input name="attr_Negotiate" title="Charm" value="@{CharmTotal} + @{N4D4} + @{NAD4} + @{NPD4} + @{NID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Negotiate_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name="attr_NegotiateBenefit" type="number" value="@{N4} + @{NA} + @{NP} + @{NI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Negotiate_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a negotiate check of [[(@{Negotiate}+@{Negotiate_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{NegotiateBenefit} + @{Negotiate_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Operate</td>
                            <td class='value'><input name="attr_Operate" title="Agility" value="@{AgilityTotal} + @{O4D4} + @{OAD4} + @{OPD4} + @{OID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Operate_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name="attr_OperateBenefit" type="number" value="@{O4} + @{OA} + @{OP} + @{OI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Operate_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls an operate check of [[(@{Operate}+@{Operate_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{OperateBenefit} + @{Operate_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Resistance</td>
                            <td class='value'><input name="attr_Resistance" title="Muscle + Intellect + Soul" value="@{MuscleTotal} + @{IntellectTotal} + @{SoulTotal} +@{R4D4} + @{RAD4} + @{RPD4} + @{RID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Resistance_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name="attr_ResistanceBenefit" type="number" value="@{R4} + @{RA} + @{RP} + @{RI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Resistance_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a resistance check of [[(@{Resistance}+@{Resistance_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{ResistanceBenefit} + @{Resistance_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Sneak</td>
                            <td class='value'><input name="attr_Sneak" title="Agility" value="@{AgilityTotal} + @{SN4D4} + @{SNAD4} + @{SNPD4} + @{SNID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Sneak_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name="attr_SneakBenefit" type="number" value="@{SN4} + @{SNA} + @{SNP} + @{SNI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Sneak_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a sneak check of [[(@{Sneak}+@{Sneak_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{SneakBenefit} + @{Sneak_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Focus</td>
                            <td class='value'><input name="attr_Focus" title="Soul" value="@{SoulTotal} + @{FO4D4} + @{FOAD4} + @{FOPD4} + @{FOID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Focus_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name="attr_FocusBenefit" type="number" value="@{FO4} + @{FOA} + @{FOP} + @{FOI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Focus_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a focus check of [[(@{Focus}+@{Focus_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{FocusBenefit} + @{Focus_bonus}]]"></td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col' style='position: relative; right: 50px'>
                    <label style='margin-left: 150px; position: relative; top: 10px'>Knowledge Skills</label>
                    <table class='skillTable'>
                        <tr>
                            <th></th>
                            <th colspan='2'>D4 Dice</th>
                            <th colspan='2'>Mods</th>
                            <th></th>
                        </tr>
                        <tr>
                            <th class='label'>Name</th>
                            <th class='value'>Auto</th>
                            <th class='value'>Bonus</th>
                            <th class='value'>Auto</th>
                            <th class='value'>Bonus</th>
                            <th></th>
                        </tr>
                        <tr>
                            <td class='label'>History/Theology/Religion</td>
                            <td class='value'><input type="number" name="attr_History" title="Intellect" value="@{IntellectTotal} + @{K4D4} + @{KAD4} + @{KPD4} + @{KID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_History_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name='attr_HistoryBenefit' type="number" value="@{K4} + @{KA} + @{KP} + @{KI} + @{KhistoryP} + @{KhistoryA} + @{KhistoryI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_History_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a history knowledge check of [[(@{History}+@{History_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{HistoryBenefit} + @{History_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Magic/Realm Magic/Spells</td>
                            <td class='value'><input type="number" name="attr_Magic" title="Intellect" value="@{IntellectTotal} + @{K4D4} + @{KAD4} + @{KPD4} + @{KID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Magic_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name='attr_MagicBenefit' type="number" value="@{K4} + @{KA} + @{KP} + @{KI} + @{KmagicP} + @{KmagicA} + @{KmagicI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Magic_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a magic knowledge check of [[(@{Magic}+@{Magic_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{MagicBenefit} + @{Magic_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Agriculture/Science/Geography</td>
                            <td class='value'><input type="number" name="attr_Science" title="Intellect" value="@{IntellectTotal} + @{K4D4} + @{KAD4} + @{KPD4} + @{KID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Science_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name='attr_ScienceBenefit' type="number" value="@{K4} + @{KA} + @{KP} + @{KI} + @{KscienceP} + @{KscienceA} + @{KscienceI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Science_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a science knowledge check of [[(@{Science}+@{Science_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{ScienceBenefit} + @{Science_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'>Politics/Aristocracy/Social/Military</td>
                            <td class='value'><input type="number" name="attr_Social" title="Intellect" value="@{IntellectTotal} + @{K4D4} + @{KAD4} + @{KPD4} + @{KID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Social_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name='attr_SocialBenefit' type="number" value="@{K4} + @{KA} + @{KP} + @{KI} + @{KsocialP} + @{KsocialA} + @{KsocialI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Social_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a social knowledge check of [[(@{Social}+@{Social_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{SocialBenefit} + @{Social_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'><input type="text" name="attr_Knowledge1" style="width: 200px;"></td>
                            <td class='value'><input type="number" name="attr_Knowledge1_dice" title="Intellect" value="@{IntellectTotal} + @{K4D4} + @{KAD4} + @{KPD4} + @{KID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Knowledge1_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name='attr_Knowledge1Benefit' type="number" value="@{K4} + @{KA} + @{KP} + @{KI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Knowledge1_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a @{Knowledge1} knowledge check of [[(@{Knowledge1_dice}+@{Knowledge1_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{Knowledge1Benefit} + @{Knowledge1_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'><input type="text" name="attr_Knowledge2" style="width: 200px;"></td>
                            <td class='value'><input type="number" name="attr_Knowledge2_dice" title="Intellect" value="@{IntellectTotal} + @{K4D4} + @{KAD4} + @{KPD4} + @{KID4}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Knowledge2_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input name='attr_Knowledge2Benefit' type="number" value="@{K4} + @{KA} + @{KP} + @{KI}" disabled ="true" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Knowledge2_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a @{Knowledge2} knowledge check of [[(@{Knowledge2_dice}+@{Knowledge2_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{Knowledge2Benefit} + @{Knowledge2_bonus}]]"></td>
                        </tr>
                    </table>
                    <label style='margin-left: 150px; position: relative; top: 8px; width: 200px'>Custom Skills</label>
                    <table class='skillTable' style='position: relative; top: 4px'>
                        <tr>
                            <td class='label'><input type="text" name="attr_Custom1" style="width: 200px;"></td>
                            <td class='value'>
                                <select name='attr_Custom1_dice' style='width: 44px; margin-bottom: 1px'>
                                    <option value='@{MuscleTotal}'>Muscle</option>
                                    <option value='@{AgilityTotal}'>Agility</option>
                                    <option value='@{IntellectTotal}'>Intellect</option>
                                    <option value='@{CharmTotal}'>Charm</option>
                                    <option value='@{SoulTotal}'>Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}'>Muscle + Agility</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}'>Muscle + Intellect</option>
                                    <option value='@{MuscleTotal}+@{CharmTotal}'>Muscle + Charm</option>
                                    <option value='@{MuscleTotal}+@{SoulTotal}'>Muscle + Soul</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}'>Agility + Intellect</option>
                                    <option value='@{AgilityTotal}+@{CharmTotal}'>Agility + Charm</option>
                                    <option value='@{AgilityTotal}+@{SoulTotal}'>Agility + Soul</option>
                                    <option value='@{CharmTotal}+@{SoulTotal}'>Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}'>Muscle + Agility + Intellect</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{CharmTotal}'>Muscle + Agility + Charm</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{SoulTotal}'>Muscle + Agility + Soul</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}+@{CharmTotal}'>Muscle + Intellect + Charm</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}+@{SoulTotal}'>Muscle + Intellect + Soul</option>
                                    <option value='@{MuscleTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Charm + Soul</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}'>Agility + Intellect + Charm</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}+@{SoulTotal}'>Agility + Intellect + Soul</option>
                                    <option value='@{AgilityTotal}+@{CharmTotal}+@{SoulTotal}'>Agility + Charm + Soul</option>
                                    <option value='@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Intellect + Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}'>Muscle + Agility + Intellect + Charm</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}+@{SoulTotal}'>Muscle + Agility + Intellect + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Agility + Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Intellect + Charm + Soul</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Agility + Intellect + Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Agility + Intellect + Charm + Soul</option>
                                </select>
                            </td>
                            <td class='value'><input class="bonus" type="number" name="attr_Custom1_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input type="number" name="attr_Custom1_static" value="0" min="0" max="99" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Custom1_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a @{Custom1} skill check of [[(@{Custom1_dice}+@{Custom1_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{Custom1_static} + @{Custom1_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'><input type="text" name="attr_Custom2" style="width: 200px;"></td>
                            <td class='value'>
                                <select name='attr_Custom2_dice' style='width: 44px; margin-bottom: 1px'>
                                    <option value='@{MuscleTotal}'>Muscle</option>
                                    <option value='@{AgilityTotal}'>Agility</option>
                                    <option value='@{IntellectTotal}'>Intellect</option>
                                    <option value='@{CharmTotal}'>Charm</option>
                                    <option value='@{SoulTotal}'>Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}'>Muscle + Agility</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}'>Muscle + Intellect</option>
                                    <option value='@{MuscleTotal}+@{CharmTotal}'>Muscle + Charm</option>
                                    <option value='@{MuscleTotal}+@{SoulTotal}'>Muscle + Soul</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}'>Agility + Intellect</option>
                                    <option value='@{AgilityTotal}+@{CharmTotal}'>Agility + Charm</option>
                                    <option value='@{AgilityTotal}+@{SoulTotal}'>Agility + Soul</option>
                                    <option value='@{CharmTotal}+@{SoulTotal}'>Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}'>Muscle + Agility + Intellect</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{CharmTotal}'>Muscle + Agility + Charm</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{SoulTotal}'>Muscle + Agility + Soul</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}+@{CharmTotal}'>Muscle + Intellect + Charm</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}+@{SoulTotal}'>Muscle + Intellect + Soul</option>
                                    <option value='@{MuscleTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Charm + Soul</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}'>Agility + Intellect + Charm</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}+@{SoulTotal}'>Agility + Intellect + Soul</option>
                                    <option value='@{AgilityTotal}+@{CharmTotal}+@{SoulTotal}'>Agility + Charm + Soul</option>
                                    <option value='@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Intellect + Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}'>Muscle + Agility + Intellect + Charm</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}+@{SoulTotal}'>Muscle + Agility + Intellect + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Agility + Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Intellect + Charm + Soul</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Agility + Intellect + Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Agility + Intellect + Charm + Soul</option>
                                </select>
                            </td>
                            <td class='value'><input class="bonus" type="number" name="attr_Custom2_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input type="number" name="attr_Custom2_static" value="0" min="0" max="99" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Custom2_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a @{Custom2} skill check of [[(@{Custom2_dice}+@{Custom2_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{Custom2_static} + @{Custom2_bonus}]]"></td>
                        </tr>
                        <tr>
                            <td class='label'><input type="text" name="attr_Custom3" style="width: 200px;"></td>
                            <td class='value'>
                                <select name='attr_Custom3_dice' style='width: 44px; margin-bottom: 1px'>
                                    <option value='@{MuscleTotal}'>Muscle</option>
                                    <option value='@{AgilityTotal}'>Agility</option>
                                    <option value='@{IntellectTotal}'>Intellect</option>
                                    <option value='@{CharmTotal}'>Charm</option>
                                    <option value='@{SoulTotal}'>Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}'>Muscle + Agility</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}'>Muscle + Intellect</option>
                                    <option value='@{MuscleTotal}+@{CharmTotal}'>Muscle + Charm</option>
                                    <option value='@{MuscleTotal}+@{SoulTotal}'>Muscle + Soul</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}'>Agility + Intellect</option>
                                    <option value='@{AgilityTotal}+@{CharmTotal}'>Agility + Charm</option>
                                    <option value='@{AgilityTotal}+@{SoulTotal}'>Agility + Soul</option>
                                    <option value='@{CharmTotal}+@{SoulTotal}'>Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}'>Muscle + Agility + Intellect</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{CharmTotal}'>Muscle + Agility + Charm</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{SoulTotal}'>Muscle + Agility + Soul</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}+@{CharmTotal}'>Muscle + Intellect + Charm</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}+@{SoulTotal}'>Muscle + Intellect + Soul</option>
                                    <option value='@{MuscleTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Charm + Soul</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}'>Agility + Intellect + Charm</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}+@{SoulTotal}'>Agility + Intellect + Soul</option>
                                    <option value='@{AgilityTotal}+@{CharmTotal}+@{SoulTotal}'>Agility + Charm + Soul</option>
                                    <option value='@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Intellect + Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}'>Muscle + Agility + Intellect + Charm</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}+@{SoulTotal}'>Muscle + Agility + Intellect + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Agility + Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Intellect + Charm + Soul</option>
                                    <option value='@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Agility + Intellect + Charm + Soul</option>
                                    <option value='@{MuscleTotal}+@{AgilityTotal}+@{IntellectTotal}+@{CharmTotal}+@{SoulTotal}'>Muscle + Agility + Intellect + Charm + Soul</option>
                                </select>
                            </td>
                            <td class='value'><input class="bonus" type="number" name="attr_Custom3_xtraDice" value="0" min="-9" max="9"></td>
                            <td class='value'><input type="number" name="attr_Custom3_static" value="0" min="0" max="99" style="width: 44px;"></td>
                            <td class='value'><input class="bonus" type="number" name="attr_Custom3_bonus" value="0" min="-99" max="99"></td>
                            <td class='roll'><button type='roll' value="@{GM_Roll} rolls a @{Custom3} skill check of [[(@{Custom3_dice}+@{Custom3_xtraDice}+@{Extended_skill}+@{Assisted})d4 + @{Custom3_static} + @{Custom3_bonus}]]"></td>
                        </tr>
                    </table>
                </div>
            </div>
        </span>
        
        <span class='characterCombat'>
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Initiative</label>
                    <input type="number" name="attr_Initiative_base" title="Intellect + Agility" value ="@{IntellectTotal} + @{AgilityTotal} + @{I4D4} + @{IAD4} + @{IPD4}" disabled="true" style="width: 40px;">
                    D4 + 
                    <input class='bonus' type="number" name="attr_Initiative_extra" value='0' style="width: 40px;">
                    D4 + 
                    <input type='number' name='attr_InitiativeBenefit' value='@{I4} + @{IA} + @{IP} + @{II}' disabled ="true" style="width: 44px;">
                    +
                    <input class="bonus" type="number" name="attr_Initiative_bonuses" value ="0" min="0" max="99" style="width: 40px;">
                    <button type='roll' value="@{GM_Roll} rolls Initiative of [[((@{Initiative_base}+@{Initiative_extra})d4 + @{InitiativeBenefit} + @{Initiative_bonuses}) &{tracker}]]">
                </div>
            </div>
            
            <div class='sheet-2colrow'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Life Points</label>
                    <input type="number" name="attr_LP" value ="0" min="-99" max="99" style="width: 40px;"> / 
                    <input type="number" name="attr_LP_max" value ="@{LP_Stat} + 10 + @{LP4} + @{LPA} + @{LPP} + @{LPI}" disabled="true" style="width: 40px; margin-right: 10px">
                    (Calculated with <select name='attr_LP_Stat' style='width: 60px; position: relative; top: 3px;'>
                        <option value='@{MuscleTotal}'>Muscle</option>
                        <option value='@{AgilityTotal}'>Agility</option>
                        <option value='@{IntellectTotal}'>Intellect</option>
                        <option value='@{CharmTotal}'>Charm</option>
                        <option value='@{SoulTotal}'>Soul</option>
                    </select>)
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>KO Points</label>
                    <input type="number" name="attr_KO" value ="0" min="-99" max="99" style="width: 40px;"> / 
                    <input type="number" name="attr_KO_max" value ="@{LP_Stat} + 10 + @{LP4} + @{LPA} + @{LPP} + @{LPI}" disabled="true" style="width: 40px;">
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Combat Potential</label>
                    <input type="number" name="attr_CP" value="@{CP4} + @{CPA} + @{CPP} + @{CPI} + @{levelCP}" disabled='true' style="width: 42px;"> +
                    <input class="bonus" type="number" name="attr_CPBonus" value ="0" min="-99" max="99" style="width: 42px;"> =
                    <input type="number" name="attr_CPTotal" value="@{CP4} + @{CPA} + @{CPP} + @{CPI} + @{levelCP} + @{CPBonus}" disabled='true' style="width: 42px;">
                </div>
            </div>
            
            <div class='sheet-2colrow'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Per Action Movement</label>
                    <input class='hidden' type="number" name="attr_MoveTotal" value='0' style="width: 42px;">
                    <input type="number" name="attr_Move" value='(@{AgilityTotal}) * 5 + 5 + @{MovementI} + @{MovementR} + @{MovementA} + @{shield_movementPenalties} + @{armor_movementPenalties} + @{armorset_movementPenalties} + @{backplate_movementPenalties}' style="width: 42px;" disabled="true"> +
                    <input class="bonus" type="number" name="attr_MoveBonus" value="0" min="-95" max="95" step="5" style="width: 42px;"> =
                    <input type="number" name="attr_ShowMove" value="@{MoveTotal}" disabled="true" style="width: 42px;">
                </div>
                <div class='sheet-col'>
                    <label class='headerLabel'>Per Action Throwing Range</label>
                    <input class='hidden' type="number" name="attr_ThrowTotal" value='0' style="width: 42px;">
                    <input type="number" name="attr_Throw" value ="(@{MuscleTotal}) * 5 + 5" style="width: 42px;" disabled="true"> +
                    <input class="bonus" type="number" name="attr_ThrowBonus" value="0" min="-95" max="95" step="5" style="width: 42px;"> =
                    <input type="number" name="attr_ShowThrow" value="@{ThrowTotal}" disabled="true" style="width: 42px;">
                </div>
            </div>
            
            <div class='sheet-2colrow'>
                <label class='headerLabel'>Defense</label>
                <div class='sheet-col'>
                    <table>
                        <tr>
                            <td>
                                <input type='number' name='attr_dodgeBenefits' value='@{AgilityTotal} + @{DEF4} + @{Parry} + @{Cover} + @{DodgeI}' disabled='true' style='width: 40px'> +
                                <input type="number" class='bonus' name="attr_Dodge_bonus" value ="0" min="-99" max="99" style="width: 44px;"> =
                                <input type="number" name="attr_Dodge"  title="Agility + Parry + Bonuses + Temp + Natural Defense" value ="@{dodgeBenefits} + @{Dodge_bonus}" disabled="true" style="width: 40px;">
                            </td>
                            <td><b>Dodge</b></td>
                        </tr>
                        <tr>
                            <td>
                                <input type='number' name='attr_disarmBenefits' value='@{MuscleTotal} + @{shieldDR} + @{Dodge}' disabled='true' style='width: 40px'> +
                                <input type="number" class='bonus' name="attr_Disarm_defense_bonus" value ="0" min="-99" max="99" style="width: 44px;"> =
                                <input type="number" name="attr_Disarm_Defense"  title="Shield + Dodge + Muscle + Bonuses" value ="@{disarmBenefits} + @{Disarm_defense_bonus}" disabled="true" style="width: 40px;">
                            </td>
                            <td><b>Disarm Defense</b></td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col' style='white-space: nowrap;'>
                    <table>
                        <tr>
                            <td>Natural Defense:</td>
                            <td><input type="number" name="attr_ND" value ="@{DEF4}" disabled='true' style="width: 40px;"></td>
                        </tr>
                        <tr>
                            <td>Parry:</td>
                            <td><input type="number" name="attr_Parry" value ="0" min="0" max="9" style="width: 40px;"></td>
                        </tr>
                        <tr>
                            <td>Cover:</td>
                            <td><input type="number" name="attr_Cover" value ="0" min="0" max="9" style="width: 40px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <label class='headerLabel'>Attack</label>
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    <b>Ability/Conditional Modifiers</b>
                    <table style='margin-top: 5px'>
                        <tr>
                            <td>Backstab: <input type="checkbox" name="attr_Backstab" value="1" title="+1"></td>
                            <td>Agile Fighter: <input type="checkbox" name="attr_AF" value="1" title="Uses Agility instead of Muscle for Combat"></td>
                        </tr>
                        <tr>
                            <td>Called Attack:</td>
                            <td>
                                <select name="attr_Called_attack" style="width: 142px; margin-bottom: 0">
                                    <option value="0"></option>
                                    <option value="-4" title="-4">Arms and Legs</option>
                                    <option value="-6" title="-6">Hands and Feet</option>
                                    <option value="-8" title="-8">Head</option>
                                    <option value="-10" title="-10">Eye, Ear, Nose, Finger</option>
                                    <option value="-2" title="-2">Shield</option>
                                    <option value="-3" title="-3">Huge Item</option>
                                    <option value="-4" title="-4">Large Item</option>
                                    <option value="-5" title="-5">Medium Item</option>
                                    <option value="-6" title="-6">Small Item</option>
                                    <option value="-8" title="-8">Tiny Item</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Mobbing:</td>
                            <td>
                                <select name="attr_Mobbing" style="width: 142px; margin-bottom: 0">
                                    <option value="0"></option>
                                    <option value="1" title="+1 bonus">3 attackers</option>
                                    <option value="2" title="+2 bonus">4 attackers</option>
                                    <option value="3" title="+3 bonus">5 attackers</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Dual Wield Ability:</td>
                            <td>
                                <select name="attr_Dual_ability" style="width: 142px; margin-bottom: 0">
                                    <option value="0"></option>
                                    <option value="3" title="+3">Dual Wield</option>
                                    <option value="6" title="+6">Master Dual Wield</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Boxing Ability</td>
                            <td>
                                <select name="attr_Boxing_ability" style="width: 142px; margin-bottom: 0">
                                    <option value="0"></option>
                                    <option value="1" title="+1">Iron Boxer</option>
                                    <option value="2" title="+2">Steel Boxer</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td style='padding-top: 5px'>
                                Disarm: <input type="checkbox" name='attr_disarm' value='1'>
                            </td>
                            <td style='padding-top: 10px'>
                                Distance: <input type='number' name='attr_disarmDistance' value='0' step='5' min='0'>
                            </td>
                        </tr>
                        <tr>
                            <td>Disarm Bonuses:</td>
                            <td>
                                <input type="number" name="attr_disarmExtraDice" value="0" min="0" max="99" style='width: 40px'>
                                <select name="attr_disarmExtraDieType" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> +
                                <input type="number" name="attr_disarmExtraBonus" value="0" min="0" max="99" style='width: 40px'>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col' style='overflow:none; white-space:nowrap'>
                    <b>Attack Checks</b>
                    <table style='margin-top: 5px; width: 100%'>
                        <tr>
                            <td><button type='roll' value="@{GM_Roll} attacks for [[(@{mhNumDice})@{mhDieType} + @{mhBonus} + @{mhAttributeBonus} + (@{mhExtraDice})@{mhExtraDieType} + (@{mhExtraDice2})@{mhExtraDieType2} + @{mhExtraBonus} + @{mhWeaponBase} + @{disarm} * ((@{disarmExtraDice})@{disarmExtraDieType} + @{disarmExtraBonus} - @{disarmDistance} / 5)]]"></td>
                            <td>Main Hand</td>
                            <td colspan=2 style='text-align: center; font-weight: bold'>Wpn Dmg +</td>
                            <td><input type="number" name="attr_mhWeaponBase"  value ="@{Called_attack} + @{Backstab} + @{Mobbing} + @{Dual} + @{mh_cpPenalties} + @{shield_cpPenalties} + @{armor_cpPenalties} + @{armorset_cpPenalties} + @{backplate_cpPenalties}" disabled="true" style="width: 40px;"> +</td>
                            <td><input class='bonus' type="number" name="attr_mhExtraDice" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class='bonus' name="attr_mhExtraDieType" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> +
                            </td>
                            <td><input class='bonus' type="number" name="attr_mhExtraDice2" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class='bonus' name="attr_mhExtraDieType2" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> +
                            </td>
                            <td><input class='bonus' type="number" name="attr_mhExtraBonus" value="0" min="0" max="99" style='width: 40px'></td>
                        </tr>
                        <tr>
                            <td><button type='roll' value="@{GM_Roll} attacks for [[(@{ohNumDice})@{ohDieType} + @{ohBonus} + @{ohAttributeBonus} + (@{ohExtraDice})@{ohExtraDieType} + (@{ohExtraDice2})@{ohExtraDieType2} + @{ohExtraBonus} + @{ohWeaponBase} + @{disarm} * ((@{disarmExtraDice})@{disarmExtraDieType} + @{disarmExtraBonus} - @{disarmDistance} / 5)]]"></td>
                            <td>Off Hand</td>
                            <td colspan=2 style='text-align: center; font-weight: bold'>Wpn Dmg +</td>
                            <td><input type="number" name="attr_ohWeaponBase"  value ="@{Called_attack} + @{Backstab} + @{Mobbing} + @{Dual} + @{oh_cpPenalties} + @{shield_cpPenalties} + @{armor_cpPenalties} + @{armorset_cpPenalties} + @{backplate_cpPenalties}" disabled="true" style="width: 40px;"> +</td>
                            <td><input class='bonus' type="number" name="attr_ohExtraDice" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class='bonus' name="attr_ohExtraDieType" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> +
                            </td>
                            <td><input class='bonus' type="number" name="attr_ohExtraDice2" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class='bonus' name="attr_ohExtraDieType2" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> +
                            </td>
                            <td><input class='bonus' type="number" name="attr_ohExtraBonus" value="0" min="0" max="99" style='width: 40px'></td>
                        </tr>
                        <tr>
                            <td><button type='roll' value="@{GM_Roll} punches for [[(@{Punch_dice_num})@{Punch_dice_type} + (@{Punch_dice_num2})@{Punch_dice_type2} + (@{Punch_dice_num3})@{Punch_dice_type3} +  @{Punch_bonus} + @{Punch_base} + @{disarm} * ((@{disarmExtraDice})@{disarmExtraDieType} + @{disarmExtraBonus} - @{disarmDistance} / 5)]]"></td>
                            <td>Punch</td>
                            <td><input type="number" name="attr_Punch_dice_num" value="1" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select name="attr_Punch_dice_type" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> + 
                            </td>
                            <td><input type="number" name="attr_Punch_base"  value ="@{MuscleTotal} - ((@{MuscleTotal}) * @{AF}) + ((@{AgilityTotal}) * @{AF}) + @{Called_attack} + @{Backstab} + @{Mobbing} + @{Boxing_ability} + @{shield_cpPenalties} + @{armor_cpPenalties} + @{armorset_cpPenalties} + @{backplate_cpPenalties}" disabled="true" style="width: 40px;"> + </td>
                            <td><input class='bonus' type="number" name="attr_Punch_dice_num2" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class='bonus' name="attr_Punch_dice_type2" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> + 
                            </td>
                            <td><input class='bonus' type="number" name="attr_Punch_dice_num3" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class='bonus' name="attr_Punch_dice_type3" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> + 
                            </td>
                            <td><input class="bonus" type="number" name="attr_Punch_bonus" value ="0" min="0" max="99" style='width: 40px'></td>
                        </tr>
                        <tr>
                            <td><button type='roll' value="@{GM_Roll} kicks for [[(@{Kick_dice_num})@{Kick_dice_type} + (@{Kick_dice_num2})@{Kick_dice_type2} + (@{Kick_dice_num3})@{Kick_dice_type3} + @{Kick_bonus} + @{Kick_base} + @{disarm} * ((@{disarmExtraDice})@{disarmExtraDieType} + @{disarmExtraBonus} - @{disarmDistance} / 5)]]"></td>
                            <td>Kick</td>
                            <td><input type="number" name="attr_Kick_dice_num" value="1" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select name="attr_Kick_dice_type" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6" selected>D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> +
                            </td>
                            <td><input type="number" name="attr_Kick_base"  value ="@{MuscleTotal} - ((@{MuscleTotal}) * @{AF}) + ((@{AgilityTotal}) * @{AF}) + @{Called_attack} + @{Backstab} + @{Mobbing} + @{Boxing_ability} + @{shield_cpPenalties} + @{armor_cpPenalties} + @{armorset_cpPenalties} + @{backplate_cpPenalties}" disabled="true" style="width: 40px;"> + </td>
                            <td><input class='bonus' type="number" name="attr_Kick_dice_num2" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class="bonus" name="attr_Kick_dice_type2" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option></select> +
                                </select>
                            </td>
                            <td><input class='bonus' type="number" name="attr_Kick_dice_num3" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class="bonus" name="attr_Kick_dice_type3" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option></select> +
                                </select>
                            </td>
                            <td><input class="bonus" type="number" name="attr_Kick_bonus" value ="0" min="0" max="99" style='width: 40px'></td>
                        </tr>
                        <tr>
                            <td><button type='roll' value="@{GM_Roll} performs a flying knee attack for [[(@{Knee_dice_num})@{Knee_dice_type} + (@{Knee_dice_num2})@{Knee_dice_type2} + (@{Knee_dice_num3})@{Knee_dice_type3} + @{Knee_bonus} + @{Knee_base} + @{disarm} * ((@{disarmExtraDice})@{disarmExtraDieType} + @{disarmExtraBonus} - @{disarmDistance} / 5)]]"></td>
                            <td>Flying Knee</td>
                            <td><input type="number" name="attr_Knee_dice_num" value="1" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select name="attr_Knee_dice_type" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8" selected>D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> +
                            </td>
                            <td><input type="number" name="attr_Knee_base"  value ="@{MuscleTotal} - ((@{MuscleTotal}) * @{AF}) + ((@{AgilityTotal}) * @{AF}) + @{AgilityTotal} + @{Called_attack} + @{Backstab} + @{Mobbing} + @{shield_cpPenalties} + @{armor_cpPenalties} + @{armorset_cpPenalties} + @{backplate_cpPenalties}" disabled="true" style="width: 40px;"> + </td>
                            <td><input class='bonus' type="number" name="attr_Knee_dice_num2" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class="bonus" name="attr_Knee_dice_type2" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option></select> +
                                </select>
                            </td>
                            <td><input class='bonus' type="number" name="attr_Knee_dice_num3" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class="bonus" name="attr_Knee_dice_type3" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option></select> +
                                </select>
                            </td>
                            <td><input class="bonus" type="number" name="attr_Knee_bonus" value ="0" min="0" max="99" style='width: 40px'></td>
                        </tr>
                        <tr>
                            <td><button type='roll' value="@{GM_Roll} rolls grappling attack of [[(@{Grappling_dice_num})@{Grappling_dice_type} + @{Grappling_base} + (@{Grappling_dice_num2})@{Grappling_dice_type2} + @{Grappling_bonus}]]"></td>
                            <td>Grapple</td>
                            <td><input type="number" name="attr_Grappling_dice_num" title="Muscle + Agility + Charm" value="@{MuscleTotal} - @{MuscleTotal}*@{AF} + @{AgilityTotal}*@{AF} + @{AgilityTotal} + @{CharmTotal}" disabled ="true" min="0" max="99" style="width: 40px;"></td>
                            <td>
                                <select name='attr_Grappling_dice_type' style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option>
                                </select> +
                            </td>
                            <td><input type="number" name="attr_Grappling_base"  value ="@{shield_cpPenalties} + @{armor_cpPenalties} + @{armorset_cpPenalties} + @{backplate_cpPenalties}" disabled="true" style="width: 40px;"> + </td>
                            <td><input class='bonus' type="number" name="attr_Grappling_dice_num2" value="0" min="0" max="99" style='width: 40px'></td>
                            <td>
                                <select class="bonus" name="attr_Grappling_dice_type2" style='width:36px; margin-bottom: 0'>
                                    <option value="D4">D4</option>
                                    <option value="D6">D6</option>
                                    <option value="D8">D8</option>
                                    <option value="D10">D10</option>
                                    <option value="D12">D12</option></select> +
                                </select>
                            </td>
                            <td><input class="bonus" type="number" name="attr_Grappling_bonus" value ="0" min="0" max="99" style="width: 40px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
        </span>
        
        <span class='characterItems'>
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Credits</label>
                <div class='sheet-col'>
                    Current: <input type="number" name="attr_Credits" min='0' max='999999999' style="width: 102px;">
                </div>
                <div class='sheet-col'>
                    Allowance: <input type="number" name="attr_Allowance" value='@{CreditsA} + @{CreditsP} + @{CreditsI}' disabled='true' style="width: 102px;">
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <label class='headerLabel'>Modifiers from Equipment</label>
                    Attributes:
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Muscle:</td>
                            <td><input type="number" name="attr_MusI" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Agility:</td>
                            <td><input type="number" name="attr_AgiI" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Intellect:</td>
                            <td><input type="number" name="attr_IntI" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Charm:</td>
                            <td><input type="number" name="attr_ChaI" value="0" min="-9" max="9" style="width: 44px;"></td>
                            <td class='label'>Soul:</td>
                            <td><input type="number" name="attr_SouI" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    <span style='font-weight: bold; position: relative; top: 5px'>Skills:</span>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Fitness:</td>
                            <td><input type="number" name="attr_FI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Awareness:</td>
                            <td><input type="number" name="attr_AI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_AID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Tech:</td>
                            <td><input type="number" name="attr_TI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_TID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Survival:</td>
                            <td><input type="number" name="attr_SI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Medicine:</td>
                            <td><input type="number" name="attr_MI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_MID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Negotiate:</td>
                            <td><input type="number" name="attr_NI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_NID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Operate:</td>
                            <td><input type="number" name="attr_OI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_OID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Resistance:</td>
                            <td><input type="number" name="attr_RI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_RID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <br>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Sneak:</td>
                            <td><input type="number" name="attr_SNI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_SNID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Focus:</td>
                            <td><input type="number" name="attr_FOI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_FOID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Knowledge:</td>
                            <td><input type="number" name="attr_KI" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_KID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                        <tr>
                            <td class='label'>Initiative:</td>
                            <td><input type="number" name="attr_II" value="0" min="-99" max="99" style="width: 44px;"> +</td>
                            <td><input type="number" name="attr_IID4" value="0" min="-99" max="99" style="width: 44px;"> D4</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <span style='font-weight: bold; position: relative; top: 5px'>Knowledge Categories:</span>
            <div class='sheet-3colrow'>
                <div class='sheet-col' style='position: relative; left: 20px'>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>History/Theology/Religion:</td>
                            <td><input type="number" name="attr_KhistoryI" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                        <tr>
                            <td class='label'>Magic/Realm Magic/Spells:</td>
                            <td><input type="number" name="attr_KmagicI" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
                <div class='sheet-col'>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>Agriculture/Science/Geography:</td>
                            <td><input type="number" name="attr_KscienceI" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                        <tr>
                            <td class='label'>Politics/Aristocracy/Social/Military:</td>
                            <td><input type="number" name="attr_KsocialI" value="0" min="-9" max="9" style="width: 44px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-row'>
                <div class='sheet-col'>
                    <span style='font-weight: bold; position: relative; top: 5px'>Other:</span>
                    <table class='originPathTable'>
                        <tr>
                            <td class='label'>CP:</td>
                            <td><input type="number" name="attr_CPI" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Languages:</td>
                            <td><input type="number" name="attr_LI" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>LP:</td>
                            <td><input type="number" name="attr_LPI" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Rank:</td>
                            <td><input type="number" name="attr_RankI" value="0" min="-99" max="99" style="width: 44px;"></td>
                            <td class='label'>Healing Pool:</td>
                            <td><input type="number" name="attr_HealingI" value="0" min="-99" max="99" style="width: 44px;"></td>
                        </tr>
                        <tr>
                            <td class='label'>Movement:</td>
                            <td><input type="number" name="attr_MovementI" value="0" min="-95" max="95" step="5" style="width: 44px;"></td>
                            <td class='label'>Dodge:</td>
                            <td><input type="number" name="attr_DodgeI" value="0" min="0" max="99" style="width: 44px;"></td>
                            <td class='label'>Credits:</td>
                            <td><input type="number" name="attr_CreditsI" value="0" min="-9999" max="9999" style="width: 58px;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Weapons</label>
                <div class='sheet-col'>
                    <span style='font-weight: bold; margin-left: 4px'>M</span>
                    <span style='font-weight: bold; margin-left: 5px'>O</span>
                    <span style='font-weight: bold; margin-left: 8px'>Weapon</span>
                </div>
            </div>
            
            <fieldset class='repeating_weapons'>
                <div class='sheet-3colrow'>
                    <div class='sheet-col'>
                        <input type='checkbox' name='attr_mainHand' value='1' style='margin-left: 4px'>
                        <input type='checkbox' name='attr_offHand' value='1' style='margin-left: 4px; margin-right: 4px;'>
                        <input type='text' name='attr_name'>
                    </div>
                    <div class='sheet-col'>
                        WT:
                        <input type='number' name='attr_WT' value='0' min='0' max='99' style='margin-right: 5px;'>
                        CP:
                        <input type='number' name='attr_CP' value='0', min='0' max='99' style='margin-right: 5px;'>
                        Pg:
                        <input style='margin-left:5px' type='number' name='attr_Page' value='0' min='0'>
                    </div>
                    <div class='sheet-col'>
                        HP:
                        <input type='number' name='attr_HP' value='0' min='0' max='99'> / 
                        <input type='number' name='attr_HP_max' value='0' min='0' max'99'>
                    </div>
                </div>
                
                <div class='sheet-3colrow'>
                    <div class='sheet-col'>
                        <span style='margin-left: 45px'>
                        Actions:
                        <input type='number' name='attr_actions' value='0' min='0' max='9' style='margin-right: 10px;'>
                        Size:
                        <select name="attr_size" style="width: 44px; margin-bottom: 0">
                            <option value="T">T</option>
                            <option value="S">S</option>
                            <option value="M">M</option>
                            <option value="L">L</option>
                            <option value="H">H</option>
                        </select>
                    </div>
                    <div class='sheet-col'>
                        1/2H:
                        <select name="attr_hands" style="width: 36px; margin-bottom: 0">
                            <option value="0"></option>
                            <option value="1">1H</option>
                            <option value="2">2H</option>
                        </select>
                        Ammo:
                        <input type='number' name='attr_ammo' value='0' min='0' max='999'>
                        Rng:
                        <input type='number' name='attr_range' value='0' min='0' max'9999'>
                    </div>
                    <div class='sheet-col'>
                        Damage: 
                        <input type='number' name='attr_numDice' value='0' min='0' max'99' style='width: 40px'>
                        <select name="attr_dieType" style="width: 36px; margin-bottom: 0">
                            <option value="D4">D4</option>
                            <option value="D6">D6</option>
                            <option value="D8">D8</option>
                            <option value="D10">D10</option>
                            <option value="D12">D12</option>
                        </select> + 
                        <input type='number' name='attr_bonus' value='0' min='0' max'99' style='width: 40px'> + 
                        <select class="attrib" name="attr_attribute" style='width: 40px; margin-bottom: 0'>
                            <option value=""></option>
                            <option value="Muscle">MUS</option>
                            <option value="Agility">AGI</option>
                            <option value="Intellect">INT</option>
                            <option value="Charm">CHA</option>
                            <option value="Soul">SOU</option>        
                        </select>
                    </div>
                </div>
                
                <div class='sheet-row'>
                    <div class='sheet-col'>
                        <span style='margin-left: 45px;'>
                            Modifications:
                            <input type='text' name='attr_weaponMods' style='width: 550px;'>
                        </span>
                    </div>
                </div>
            </fieldset>
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Shields</label>
                <div class='sheet-col'>
                    <span style='font-weight: bold; margin-left: 5px'>O</span>
                    <span style='font-weight: bold; margin-left: 31px'>Shield</span>
                </div>
            </div>
            
            <fieldset class='repeating_shields'>
                <div class='sheet-3colrow'>
                    <div class='sheet-col'>
                        <input type='checkbox' name='attr_offHand' value='1' style='margin-left: 4px; margin-right: 4px;'>
                        <input type='text' name='attr_name' style='margin-left: 22px'>
                    </div>
                    <div class='sheet-col'>
                        WT:
                        <input type='number' name='attr_WT' value='0' min='0' max='99' style='margin-right: 5px;'>
                        CP:
                        <input type='number' name='attr_CP' value='0' min='0' max'99' style='margin-right: 5px;'>
                        Pg:
                        <input style='margin-left:5px' type='number' name='attr_Page' value='0' min='0'>
                    </div>
                    <div class='sheet-col'>
                        HP:
                        <input type='number' name='attr_HP' value='0' min='0' max='99'> / 
                        <input type='number' name='attr_HP_max' value='0' min='0' max'99' style='margin-right: 5px;'>
                        DR:
                        <input type='number' name='attr_DR' value='0', min='0' max='99'>
                    </div>
                </div>
                
                <div class='sheet-row'>
                    <div class='sheet-col'>
                        <table style='margin-left: 45px'>
                            <tr>
                                <td style='width: 90px'>Modifications:</td>
                                <td><input type='text' name='attr_shieldMods' style='width: 550px'></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </fieldset>
            <!-- update the value of Shield_DR -->
            
            <div class='sheet-3colrow'>
                <label class='headerLabel'>Armor</label>
                <div class='sheet-col'>
                    <span style='font-weight: bold; margin-left: 4px'>Worn</span>
                    <span style='font-weight: bold; margin-left: 4px'>Armor</span>
                </div>
            </div>
            
            <fieldset class='repeating_armor'>
                <div class='sheet-3colrow'>
                    <div class='sheet-col'>
                        <input type='checkbox' name='attr_worn' value='1' style='margin-left: 4px'>
                        <input type='text' name='attr_name' style='margin-left: 22px'>
                    </div>
                    <div class='sheet-col'>
                        WT:
                        <input type='number' name='attr_WT' value='0' min='0' max='99' style='margin-right: 5px;'>
                        CP:
                        <input type='number' name='attr_CP' value='0' min='0' max'99' style='margin-right: 5px;'>
                        Pg:
                        <input style='margin-left:5px' type='number' name='attr_Page' value='0' min='0'>
                    </div>
                    <div class='sheet-col'>
                        HP:
                        <input type='number' name='attr_HP' value='0' min='0' max='99'> / 
                        <input type='number' name='attr_HP_max' value='0' min='0' max'99' style='margin-right: 5px;'>
                        DR:
                        <input type='number' name='attr_DR' value='0', min='0' max='99'>
                    </div>
                </div>
                
                <div class='sheet-row'>
                    <div class='sheet-col'>
                        <table style='margin-left: 45px'>
                            <tr>
                                <td style='width: 90px'>Modifications:</td>
                                <td><input type='text' name='attr_armorMods' style='width: 550px'></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </fieldset>
            
            <label class='headerLabel'>Armor Sets</label>
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    <span style='font-weight: bold; margin-left: 4px'>Worn</span>
                    <span style='font-weight: bold; margin-left: 4px'>Armor Set</span>
                </div>
            </div>
            
            <fieldset class='repeating_armorset'>
                <div class='sheet-3colrow'>
                    <div class='sheet-col'>
                        <input type='checkbox' name='attr_worn' value='1' style='margin-left: 4px'>
                        <input type='text' name='attr_name' style='margin-left: 22px'>
                    </div>
                    <div class='sheet-col'>
                        WT:
                        <input type='number' name='attr_WT' value='0' min='0' max='99' style='margin-right: 5px;'>
                        CP:
                        <input type='number' name='attr_CP' value='0' min='0' max'99' style='margin-right: 5px;'>
                        Pg:
                        <input style='margin-left:5px' type='number' name='attr_Page' value='0' min='0'>
                    </div>
                    <div class='sheet-col'>
                        HP:
                        <input type='number' name='attr_HP' value='0' min='0' max='99'> / 
                        <input type='number' name='attr_HP_max' value='0' min='0' max'99' style='margin-right: 5px;'>
                        DR:
                        <input type='number' name='attr_DR' value='0', min='0' max='99'>
                    </div>
                </div>
                
                <div class='sheet-row'>
                    <div class='sheet-col'>
                        <table style='margin-left: 45px'>
                            <tr>
                                <td style='width: 90px'>Glove Mods:</td>
                                <td><input type='text' name='attr_gloveMods' style='width: 550px'></td>
                            </tr>
                            <tr>
                                <td style='width: 90px'>Boot Mods:</td>
                                <td><input type='text' name='attr_bootMods' style='width: 550px'></td>
                            </tr>
                            <tr>
                                <td style='width: 90px'>Bracer Mods:</td>
                                <td><input type='text' name='attr_bracerMods' style='width: 550px'></td>
                            </tr>
                            <tr>
                                <td style='width: 90px'>Legging Mods:</td>
                                <td><input type='text' name='attr_leggingMods' style='width: 550px'></td>
                            </tr>
                            <tr>
                                <td style='width: 90px'>Helmet Mods:</td>
                                <td><input type='text' name='attr_helmetMods' style='width: 550px'></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </fieldset>
            
            <label class='headerLabel'>Back Plate</label>
            <div class='sheet-3colrow'>
                <div class='sheet-col'>
                    <span style='font-weight: bold; margin-left: 4px'>Worn</span>
                    <span style='font-weight: bold; margin-left: 4px'>Back Plate</span>
                </div>
            </div>
            
            <fieldset class='repeating_backplate'>
                <div class='sheet-3colrow'>
                    <div class='sheet-col'>
                        <input type='checkbox' name='attr_worn' value='1' style='margin-left: 4px'>
                        <input type='text' name='attr_name' style='margin-left: 22px'>
                    </div>
                    <div class='sheet-col'>
                        WT:
                        <input type='number' name='attr_WT' value='0' min='0' max='99' style='margin-right: 5px;'>
                        CP:
                        <input type='number' name='attr_CP' value='0' min='0' max'99' style='margin-right: 5px;'>
                        Pg:
                        <input style='margin-left:5px' type='number' name='attr_Page' value='0' min='0'>
                    </div>
                    <div class='sheet-col'>
                        HP:
                        <input type='number' name='attr_HP' value='0' min='0' max='99'> / 
                        <input type='number' name='attr_HP_max' value='0' min='0' max'99' style='margin-right: 5px;'>
                        DR:
                        <input type='number' name='attr_DR' value='0', min='0' max='99'>
                    </div>
                </div>
                
                <div class='sheet-row'>
                    <div class='sheet-col'>
                        <table style='margin-left: 45px'>
                            <tr>
                                <td style='width: 90px'>Modifications:</td>
                                <td><input type='text' name='attr_backMods' style='width: 550px'></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </fieldset>
            
            <div class='sheet-2colrow'>
                <label class='headerLabel'>Clothing, Items, etc.</label>
                <div class='sheet-col'>
                    &nbsp;Worn &nbsp;&nbsp; Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ct&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page
                    <fieldset class="repeating_Items">  
                        <input type="checkbox" name="attr_Worn">
                        <input type="text" name="attr_Item" style="width: 260px; margin-left: 24px"/>
                        <input type="number" name="attr_ItemCt" min='0' max='99' style="width: 40px"/>
                        <input type="text" name="attr_ItemPage" style="width: 40px"/>
                    </fieldset>
                </div>
                <div class='sheet-col'>
                    &nbsp;Worn &nbsp;&nbsp; Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ct&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page
                    <fieldset class="repeating_Items2">  
                        <input type="checkbox" name="attr_Worn2">
                        <input type="text" name="attr_Item2" style="width: 260px; margin-left: 24px"/>
                        <input type="number" name="attr_Item2Ct" min='0' max='99' style="width: 40px"/>
                        <input type="text" name="attr_Item2Page" style="width: 40px"/>
                    </fieldset> 
                </div>
            </div>
        </span>
    </div>
</html>
